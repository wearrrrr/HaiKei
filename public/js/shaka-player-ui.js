!(function () {
  var e = "undefined" != typeof window ? window : global,
    t = {};
  if (
    (!function (N, a, o) {
      function s(e) {
        var t = 0;
        return function () {
          return t < e.length ? { done: !1, value: e[t++] } : { done: !0 };
        };
      }
      var l =
        "function" == typeof Object.defineProperties
          ? Object.defineProperty
          : function (e, t, n) {
              return (
                e == Array.prototype ||
                  e == Object.prototype ||
                  (e[t] = n.value),
                e
              );
            };
      var c = (function (e) {
        e = [
          "object" == typeof globalThis && globalThis,
          e,
          "object" == typeof N && N,
          "object" == typeof self && self,
          "object" == typeof a && a,
        ];
        for (var t = 0; t < e.length; ++t) {
          var n = e[t];
          if (n && n.Math == Math) return n;
        }
        throw Error("Cannot find global object");
      })(this);
      function d(e, t) {
        if (t)
          e: {
            for (var n = c, i = e.split("."), r = 0; r < i.length - 1; r++) {
              var a = i[r];
              if (!(a in n)) break e;
              n = n[a];
            }
            (a = t((r = n[(i = i[i.length - 1])]))) != r &&
              null != a &&
              l(n, i, { configurable: !0, writable: !0, value: a });
          }
      }
      function p(e) {
        return (
          ((e = { next: e })[Symbol.iterator] = function () {
            return this;
          }),
          e
        );
      }
      function Ee(e) {
        var t =
          "undefined" != typeof Symbol && Symbol.iterator && e[Symbol.iterator];
        return t ? t.call(e) : { next: s(e) };
      }
      function I(e) {
        if (!(e instanceof Array)) {
          e = Ee(e);
          for (var t, n = []; !(t = e.next()).done; ) n.push(t.value);
          e = n;
        }
        return e;
      }
      d("Symbol", function (e) {
        function n(e, t) {
          (this.g = e),
            l(this, "description", {
              configurable: !0,
              writable: !0,
              value: t,
            });
        }
        if (e) return e;
        n.prototype.toString = function () {
          return this.g;
        };
        var i = "jscomp_symbol_" + ((1e9 * Math.random()) >>> 0) + "_",
          r = 0;
        return function e(t) {
          if (this instanceof e)
            throw new TypeError("Symbol is not a constructor");
          return new n(i + (t || "") + "_" + r++, t);
        };
      }),
        d("Symbol.iterator", function (e) {
          if (e) return e;
          e = Symbol("Symbol.iterator");
          for (
            var t =
                "Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(
                  " "
                ),
              n = 0;
            n < t.length;
            n++
          ) {
            var i = c[t[n]];
            "function" == typeof i &&
              "function" != typeof i.prototype[e] &&
              l(i.prototype, e, {
                configurable: !0,
                writable: !0,
                value: function () {
                  return p(s(this));
                },
              });
          }
          return e;
        });
      var g,
        y =
          "function" == typeof Object.create
            ? Object.create
            : function (e) {
                function t() {}
                return (t.prototype = e), new t();
              };
      if ("function" == typeof Object.setPrototypeOf) n = Object.setPrototypeOf;
      else {
        e: {
          var b = {};
          try {
            (b.__proto__ = { a: !0 }), (g = b.a);
            break e;
          } catch (e) {}
          g = !1;
        }
        n = g
          ? function (e, t) {
              if (((e.__proto__ = t), e.__proto__ !== t))
                throw new TypeError(e + " is not extensible");
              return e;
            }
          : null;
      }
      var T = n;
      function e(e, t) {
        if (((e.prototype = y(t.prototype)), (e.prototype.constructor = e), T))
          T(e, t);
        else
          for (var n in t) {
            var i;
            "prototype" != n &&
              (Object.defineProperties
                ? (i = Object.getOwnPropertyDescriptor(t, n)) &&
                  Object.defineProperty(e, n, i)
                : (e[n] = t[n]));
          }
        e.wj = t.prototype;
      }
      function A() {
        (this.s = !1),
          (this.l = null),
          (this.h = void 0),
          (this.g = 1),
          (this.j = this.m = 0),
          (this.C = this.i = null);
      }
      function w(e) {
        if (e.s) throw new TypeError("Generator is already running");
        e.s = !0;
      }
      function S(e, t) {
        (e.i = { Cf: t, Lf: !0 }), (e.g = e.m || e.j);
      }
      function Te(e, t, n) {
        return (e.g = n), { value: t };
      }
      function Ae(e) {
        e.g = 0;
      }
      function we(e, t, n) {
        (e.m = t), null != n && (e.j = n);
      }
      function x(e) {
        (e.m = 0), (e.j = 2);
      }
      function Se(e, t, n) {
        (e.g = t), (e.m = n || 0);
      }
      function xe(e, t) {
        e.m = t || 0;
        t = e.i.Cf;
        return (e.i = null), t;
      }
      function Ce(e) {
        (e.C = [e.i]), (e.m = 0), (e.j = 0);
      }
      function Me(e, t) {
        var n = e.C.splice(0)[0];
        (n = e.i = e.i || n)
          ? n.Lf
            ? (e.g = e.m || e.j)
            : null != n.D && e.j < n.D
            ? ((e.g = n.D), (e.i = null))
            : (e.g = e.j)
          : (e.g = t);
      }
      function z(e) {
        (this.g = new A()), (this.h = e);
      }
      function V(t, e, n, i) {
        try {
          var r = e.call(t.g.l, n);
          if (!(r instanceof Object))
            throw new TypeError("Iterator result " + r + " is not an object");
          if (!r.done) return (t.g.s = !1), r;
          var a = r.value;
        } catch (e) {
          return (t.g.l = null), S(t.g, e), H(t);
        }
        return (t.g.l = null), i.call(t.g, a), H(t);
      }
      function H(t) {
        for (; t.g.g; )
          try {
            var e = t.h(t.g);
            if (e) return (t.g.s = !1), { value: e.value, done: !1 };
          } catch (e) {
            (t.g.h = void 0), S(t.g, e);
          }
        if (((t.g.s = !1), t.g.i)) {
          if (((e = t.g.i), (t.g.i = null), e.Lf)) throw e.Cf;
          return { value: e.return, done: !0 };
        }
        return { value: void 0, done: !0 };
      }
      function X(i) {
        (this.next = function (e) {
          return (
            w(i.g), (e = i.g.l ? V(i, i.g.l.next, e, i.g.B) : (i.g.B(e), H(i)))
          );
        }),
          (this.throw = function (e) {
            return (
              w(i.g),
              (e = i.g.l ? V(i, i.g.l.throw, e, i.g.B) : (S(i.g, e), H(i)))
            );
          }),
          (this.return = function (e) {
            return (
              (e = e),
              w((t = i).g),
              (n = t.g.l)
                ? V(
                    t,
                    "return" in n
                      ? n.return
                      : function (e) {
                          return { value: e, done: !0 };
                        },
                    e,
                    t.g.return
                  )
                : (t.g.return(e), H(t))
            );
            var t, n;
          }),
          (this[Symbol.iterator] = function () {
            return this;
          });
      }
      function W(t) {
        function r(e) {
          return t.next(e);
        }
        function a(e) {
          return t.throw(e);
        }
        return new Promise(function (n, i) {
          !(function e(t) {
            t.done
              ? n(t.value)
              : Promise.resolve(t.value).then(r, a).then(e, i);
          })(t.next());
        });
      }
      function Ie(e) {
        return W(new X(new z(e)));
      }
      function q() {
        for (var e = Number(this), t = [], n = e; n < arguments.length; n++)
          t[n - e] = arguments[n];
        return t;
      }
      function Y(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
      }
      function $(t, n) {
        t instanceof String && (t += "");
        var i = 0,
          r = !1,
          e = {
            next: function () {
              var e;
              return !r && i < t.length
                ? ((e = i++), { value: n(e, t[e]), done: !1 })
                : { done: (r = !0), value: void 0 };
            },
          };
        return (
          (e[Symbol.iterator] = function () {
            return e;
          }),
          e
        );
      }
      function J(e, t, n) {
        for (
          var i = (e = e instanceof String ? String(e) : e).length, r = 0;
          r < i;
          r++
        ) {
          var a = e[r];
          if (t.call(n, a, r, e)) return { Jf: r, v: a };
        }
        return { Jf: -1, v: void 0 };
      }
      function Q(e, t, n) {
        if (null == e)
          throw new TypeError(
            "The 'this' value for String.prototype." +
              n +
              " must not be null or undefined"
          );
        if (t instanceof RegExp)
          throw new TypeError(
            "First argument to String.prototype." +
              n +
              " must not be a regular expression"
          );
        return e + "";
      }
      (A.prototype.B = function (e) {
        this.h = e;
      }),
        (A.prototype.return = function (e) {
          (this.i = { return: e }), (this.g = this.j);
        }),
        (A.prototype.D = function (e) {
          this.g = e;
        }),
        d("Promise", function (e) {
          function o(e) {
            (this.h = 0), (this.i = void 0), (this.g = []), (this.s = !1);
            var t = this.j();
            try {
              e(t.resolve, t.reject);
            } catch (e) {
              t.reject(e);
            }
          }
          function t() {
            this.g = null;
          }
          function s(t) {
            return t instanceof o
              ? t
              : new o(function (e) {
                  e(t);
                });
          }
          if (e) return e;
          t.prototype.h = function (e) {
            var t;
            null == this.g &&
              ((this.g = []),
              (t = this).i(function () {
                t.l();
              })),
              this.g.push(e);
          };
          var n = c.setTimeout,
            r =
              ((t.prototype.i = function (e) {
                n(e, 0);
              }),
              (t.prototype.l = function () {
                for (; this.g && this.g.length; ) {
                  var e = this.g;
                  this.g = [];
                  for (var t = 0; t < e.length; ++t) {
                    var n = e[t];
                    e[t] = null;
                    try {
                      n();
                    } catch (e) {
                      this.j(e);
                    }
                  }
                }
                this.g = null;
              }),
              (t.prototype.j = function (e) {
                this.i(function () {
                  throw e;
                });
              }),
              (o.prototype.j = function () {
                function e(t) {
                  return function (e) {
                    i || ((i = !0), t.call(n, e));
                  };
                }
                var n = this,
                  i = !1;
                return { resolve: e(this.H), reject: e(this.l) };
              }),
              (o.prototype.H = function (e) {
                if (e === this)
                  this.l(new TypeError("A Promise cannot resolve to itself"));
                else if (e instanceof o) this.J(e);
                else {
                  switch (typeof e) {
                    case "object":
                      var t = null != e;
                      break;
                    case "function":
                      t = !0;
                      break;
                    default:
                      t = !1;
                  }
                  t ? this.G(e) : this.m(e);
                }
              }),
              (o.prototype.G = function (e) {
                var t = void 0;
                try {
                  t = e.then;
                } catch (e) {
                  return void this.l(e);
                }
                "function" == typeof t ? this.K(t, e) : this.m(e);
              }),
              (o.prototype.l = function (e) {
                this.B(2, e);
              }),
              (o.prototype.m = function (e) {
                this.B(1, e);
              }),
              (o.prototype.B = function (e, t) {
                if (0 != this.h)
                  throw Error(
                    "Cannot settle(" +
                      e +
                      ", " +
                      t +
                      "): Promise already settled in state" +
                      this.h
                  );
                (this.h = e), (this.i = t), 2 === this.h && this.I(), this.C();
              }),
              (o.prototype.I = function () {
                var t = this;
                n(function () {
                  var e;
                  t.F() && void 0 !== (e = c.console) && e.error(t.i);
                }, 1);
              }),
              (o.prototype.F = function () {
                if (this.s) return !1;
                var e = c.CustomEvent,
                  t = c.Event,
                  n = c.dispatchEvent;
                return (
                  void 0 === n ||
                  ("function" == typeof e
                    ? (e = new e("unhandledrejection", { cancelable: !0 }))
                    : "function" == typeof t
                    ? (e = new t("unhandledrejection", { cancelable: !0 }))
                    : (e =
                        c.document.createEvent("CustomEvent")).initCustomEvent(
                        "unhandledrejection",
                        !1,
                        !0,
                        e
                      ),
                  (e.promise = this),
                  (e.reason = this.i),
                  n(e))
                );
              }),
              (o.prototype.C = function () {
                if (null != this.g) {
                  for (var e = 0; e < this.g.length; ++e) r.h(this.g[e]);
                  this.g = null;
                }
              }),
              new t());
          return (
            (o.prototype.J = function (e) {
              var t = this.j();
              e.md(t.resolve, t.reject);
            }),
            (o.prototype.K = function (e, t) {
              var n = this.j();
              try {
                e.call(t, n.resolve, n.reject);
              } catch (e) {
                n.reject(e);
              }
            }),
            (o.prototype.then = function (e, t) {
              function n(t, e) {
                return "function" == typeof t
                  ? function (e) {
                      try {
                        i(t(e));
                      } catch (e) {
                        r(e);
                      }
                    }
                  : e;
              }
              var i,
                r,
                a = new o(function (e, t) {
                  (i = e), (r = t);
                });
              return this.md(n(e, i), n(t, r)), a;
            }),
            (o.prototype.catch = function (e) {
              return this.then(void 0, e);
            }),
            (o.prototype.md = function (e, t) {
              function n() {
                switch (i.h) {
                  case 1:
                    e(i.i);
                    break;
                  case 2:
                    t(i.i);
                    break;
                  default:
                    throw Error("Unexpected state: " + i.h);
                }
              }
              var i = this;
              null == this.g ? r.h(n) : this.g.push(n), (this.s = !0);
            }),
            (o.resolve = s),
            (o.reject = function (n) {
              return new o(function (e, t) {
                t(n);
              });
            }),
            (o.race = function (r) {
              return new o(function (e, t) {
                for (var n = Ee(r), i = n.next(); !i.done; i = n.next())
                  s(i.value).md(e, t);
              });
            }),
            (o.all = function (e) {
              var t = Ee(e),
                a = t.next();
              return a.done
                ? s([])
                : new o(function (n, e) {
                    for (
                      var i = [], r = 0;
                      i.push(void 0),
                        r++,
                        s(a.value).md(
                          (function (t) {
                            return function (e) {
                              (i[t] = e), 0 == --r && n(i);
                            };
                          })(i.length - 1),
                          e
                        ),
                        !(a = t.next()).done;

                    );
                  });
            }),
            o
          );
        }),
        d("WeakMap", function (i) {
          function e(e) {
            if (((this.g = (s += Math.random() + 1).toString()), e)) {
              e = Ee(e);
              for (var t; !(t = e.next()).done; )
                (t = t.value), this.set(t[0], t[1]);
            }
          }
          function n() {}
          function r(e) {
            var t = typeof e;
            return ("object" == t && null !== e) || "function" == t;
          }
          function a(e) {
            var t;
            Y(e, o) || ((t = new n()), l(e, o, { value: t }));
          }
          function t(e) {
            var t = Object[e];
            t &&
              (Object[e] = function (e) {
                return e instanceof n
                  ? e
                  : (Object.isExtensible(e) && a(e), t(e));
              });
          }
          if (
            (function () {
              if (i && Object.seal)
                try {
                  var e = Object.seal({}),
                    t = Object.seal({}),
                    n = new i([
                      [e, 2],
                      [t, 3],
                    ]);
                  return 2 != n.get(e) || 3 != n.get(t)
                    ? void 0
                    : (n.delete(e), n.set(t, 4), !n.has(e) && 4 == n.get(t));
                } catch (e) {
                  return;
                }
            })()
          )
            return i;
          var o = "$jscomp_hidden_" + Math.random(),
            s = (t("freeze"), t("preventExtensions"), t("seal"), 0);
          return (
            (e.prototype.set = function (e, t) {
              if (!r(e)) throw Error("Invalid WeakMap key");
              if ((a(e), Y(e, o))) return (e[o][this.g] = t), this;
              throw Error("WeakMap key fail: " + e);
            }),
            (e.prototype.get = function (e) {
              return r(e) && Y(e, o) ? e[o][this.g] : void 0;
            }),
            (e.prototype.has = function (e) {
              return r(e) && Y(e, o) && Y(e[o], this.g);
            }),
            (e.prototype.delete = function (e) {
              return (
                !!(r(e) && Y(e, o) && Y(e[o], this.g)) && delete e[o][this.g]
              );
            }),
            e
          );
        }),
        d("Map", function (r) {
          function n() {
            var e = {};
            return (e.mb = e.next = e.head = e);
          }
          function e(e, t) {
            var n = e.g;
            return p(function () {
              if (n) {
                for (; n.head != e.g; ) n = n.mb;
                if (n.next != n.head)
                  return (n = n.next), { done: !1, value: t(n) };
                n = null;
              }
              return { done: !0, value: void 0 };
            });
          }
          function i(e, t) {
            var n = t && typeof t,
              i =
                ("object" == n || "function" == n
                  ? o.has(t)
                    ? (n = o.get(t))
                    : ((n = "" + ++s), o.set(t, n))
                  : (n = "p_" + t),
                e.h[n]);
            if (i && Y(e.h, n))
              for (var r = 0; r < i.length; r++) {
                var a = i[r];
                if ((t != t && a.key != a.key) || t === a.key)
                  return { id: n, list: i, index: r, va: a };
              }
            return { id: n, list: i, index: -1, va: void 0 };
          }
          function t(e) {
            if (((this.h = {}), (this.g = n()), (this.size = 0), e)) {
              e = Ee(e);
              for (var t; !(t = e.next()).done; )
                (t = t.value), this.set(t[0], t[1]);
            }
          }
          if (
            (function () {
              if (
                r &&
                "function" == typeof r &&
                r.prototype.entries &&
                "function" == typeof Object.seal
              )
                try {
                  var e = Object.seal({ x: 4 }),
                    t = new r(Ee([[e, "s"]]));
                  if (
                    "s" != t.get(e) ||
                    1 != t.size ||
                    t.get({ x: 4 }) ||
                    t.set({ x: 4 }, "t") != t ||
                    2 != t.size
                  )
                    return;
                  var n = t.entries(),
                    i = n.next();
                  return i.done || i.value[0] != e || "s" != i.value[1]
                    ? void 0
                    : !(
                        (i = n.next()).done ||
                        4 != i.value[0].x ||
                        "t" != i.value[1] ||
                        !n.next().done
                      );
                } catch (e) {
                  return;
                }
            })()
          )
            return r;
          var o = new WeakMap(),
            s =
              ((t.prototype.set = function (e, t) {
                var n = i(this, (e = 0 === e ? 0 : e));
                return (
                  n.list || (n.list = this.h[n.id] = []),
                  n.va
                    ? (n.va.value = t)
                    : ((n.va = {
                        next: this.g,
                        mb: this.g.mb,
                        head: this.g,
                        key: e,
                        value: t,
                      }),
                      n.list.push(n.va),
                      (this.g.mb.next = n.va),
                      (this.g.mb = n.va),
                      this.size++),
                  this
                );
              }),
              (t.prototype.delete = function (e) {
                return (
                  !(!(e = i(this, e)).va || !e.list) &&
                  (e.list.splice(e.index, 1),
                  e.list.length || delete this.h[e.id],
                  (e.va.mb.next = e.va.next),
                  (e.va.next.mb = e.va.mb),
                  (e.va.head = null),
                  this.size--,
                  !0)
                );
              }),
              (t.prototype.clear = function () {
                (this.h = {}), (this.g = this.g.mb = n()), (this.size = 0);
              }),
              (t.prototype.has = function (e) {
                return !!i(this, e).va;
              }),
              (t.prototype.get = function (e) {
                return (e = i(this, e).va) && e.value;
              }),
              (t.prototype.entries = function () {
                return e(this, function (e) {
                  return [e.key, e.value];
                });
              }),
              (t.prototype.keys = function () {
                return e(this, function (e) {
                  return e.key;
                });
              }),
              (t.prototype.values = function () {
                return e(this, function (e) {
                  return e.value;
                });
              }),
              (t.prototype.forEach = function (e, t) {
                for (var n, i = this.entries(); !(n = i.next()).done; )
                  (n = n.value), e.call(t, n[1], n[0], this);
              }),
              (t.prototype[Symbol.iterator] = t.prototype.entries),
              0);
          return t;
        }),
        d("Array.prototype.keys", function (e) {
          return (
            e ||
            function () {
              return $(this, function (e) {
                return e;
              });
            }
          );
        }),
        d("Set", function (r) {
          function e(e) {
            if (((this.g = new Map()), e)) {
              e = Ee(e);
              for (var t; !(t = e.next()).done; ) this.add(t.value);
            }
            this.size = this.g.size;
          }
          return (function () {
            if (
              r &&
              "function" == typeof r &&
              r.prototype.entries &&
              "function" == typeof Object.seal
            )
              try {
                var e = Object.seal({ x: 4 }),
                  t = new r(Ee([e]));
                if (
                  !t.has(e) ||
                  1 != t.size ||
                  t.add(e) != t ||
                  1 != t.size ||
                  t.add({ x: 4 }) != t ||
                  2 != t.size
                )
                  return;
                var n = t.entries(),
                  i = n.next();
                return i.done || i.value[0] != e || i.value[1] != e
                  ? void 0
                  : !(i = n.next()).done &&
                      i.value[0] != e &&
                      4 == i.value[0].x &&
                      i.value[1] == i.value[0] &&
                      n.next().done;
              } catch (e) {
                return;
              }
          })()
            ? r
            : ((e.prototype.add = function (e) {
                return (
                  this.g.set((e = 0 === e ? 0 : e), e),
                  (this.size = this.g.size),
                  this
                );
              }),
              (e.prototype.delete = function (e) {
                return (e = this.g.delete(e)), (this.size = this.g.size), e;
              }),
              (e.prototype.clear = function () {
                this.g.clear(), (this.size = 0);
              }),
              (e.prototype.has = function (e) {
                return this.g.has(e);
              }),
              (e.prototype.entries = function () {
                return this.g.entries();
              }),
              (e.prototype.keys = e.prototype.values =
                function () {
                  return this.g.values();
                }),
              (e.prototype[Symbol.iterator] = e.prototype.values),
              (e.prototype.forEach = function (t, n) {
                var i = this;
                this.g.forEach(function (e) {
                  return t.call(n, e, e, i);
                });
              }),
              e);
        }),
        d("Array.from", function (e) {
          return (
            e ||
            function (e, t, n) {
              t =
                null != t
                  ? t
                  : function (e) {
                      return e;
                    };
              var i = [],
                r =
                  "undefined" != typeof Symbol &&
                  Symbol.iterator &&
                  e[Symbol.iterator];
              if ("function" == typeof r) {
                e = r.call(e);
                for (var a = 0; !(r = e.next()).done; )
                  i.push(t.call(n, r.value, a++));
              } else
                for (r = e.length, a = 0; a < r; a++)
                  i.push(t.call(n, e[a], a));
              return i;
            }
          );
        }),
        d("Array.prototype.findIndex", function (e) {
          return (
            e ||
            function (e, t) {
              return J(this, e, t).Jf;
            }
          );
        }),
        d("Object.is", function (e) {
          return (
            e ||
            function (e, t) {
              return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t;
            }
          );
        }),
        d("Array.prototype.includes", function (e) {
          return (
            e ||
            function (e, t) {
              var n = this,
                i = (n = n instanceof String ? String(n) : n).length,
                r = t || 0;
              for (r < 0 && (r = Math.max(r + i, 0)); r < i; r++) {
                var a = n[r];
                if (a === e || Object.is(a, e)) return !0;
              }
              return !1;
            }
          );
        }),
        d("String.prototype.includes", function (e) {
          return (
            e ||
            function (e, t) {
              return -1 !== Q(this, e, "includes").indexOf(e, t || 0);
            }
          );
        }),
        d("Array.prototype.find", function (e) {
          return (
            e ||
            function (e, t) {
              return J(this, e, t).v;
            }
          );
        }),
        d("String.prototype.startsWith", function (e) {
          return (
            e ||
            function (e, t) {
              for (
                var n = Q(this, e, "startsWith"),
                  i = n.length,
                  r = e.length,
                  a = Math.max(0, Math.min(0 | t, n.length)),
                  o = 0;
                o < r && a < i;

              )
                if (n[a++] != e[o++]) return !1;
              return r <= o;
            }
          );
        });
      var Z =
          "function" == typeof Object.assign
            ? Object.assign
            : function (e, t) {
                for (var n = 1; n < arguments.length; n++) {
                  var i = arguments[n];
                  if (i) for (var r in i) Y(i, r) && (e[r] = i[r]);
                }
                return e;
              },
        ee =
          (d("Object.assign", function (e) {
            return e || Z;
          }),
          d("Array.prototype.values", function (e) {
            return (
              e ||
              function () {
                return $(this, function (e, t) {
                  return t;
                });
              }
            );
          }),
          d("Promise.prototype.finally", function (e) {
            return (
              e ||
              function (t) {
                return this.then(
                  function (e) {
                    return Promise.resolve(t()).then(function () {
                      return e;
                    });
                  },
                  function (e) {
                    return Promise.resolve(t()).then(function () {
                      throw e;
                    });
                  }
                );
              }
            );
          }),
          d("Array.prototype.entries", function (e) {
            return (
              e ||
              function () {
                return $(this, function (e, t) {
                  return [e, t];
                });
              }
            );
          }),
          d("String.prototype.repeat", function (e) {
            return (
              e ||
              function (e) {
                var t = Q(this, null, "repeat");
                if (e < 0 || 1342177279 < e)
                  throw new RangeError("Invalid count value");
                e |= 0;
                for (var n = ""; e; ) 1 & e && (n += t), (e >>>= 1) && (t += t);
                return n;
              }
            );
          }),
          d("Number.isNaN", function (e) {
            return (
              e ||
              function (e) {
                return "number" == typeof e && isNaN(e);
              }
            );
          }),
          d("Object.values", function (e) {
            return (
              e ||
              function (e) {
                var t,
                  n = [];
                for (t in e) Y(e, t) && n.push(e[t]);
                return n;
              }
            );
          }),
          d("Math.log2", function (e) {
            return (
              e ||
              function (e) {
                return Math.log(e) / Math.LN2;
              }
            );
          }),
          d("Math.trunc", function (e) {
            return (
              e ||
              function (e) {
                if (
                  ((e = Number(e)),
                  isNaN(e) || 1 / 0 === e || -1 / 0 === e || 0 === e)
                )
                  return e;
                var t = Math.floor(Math.abs(e));
                return e < 0 ? -t : t;
              }
            );
          }),
          d("Object.entries", function (e) {
            return (
              e ||
              function (e) {
                var t,
                  n = [];
                for (t in e) Y(e, t) && n.push([t, e[t]]);
                return n;
              }
            );
          }),
          this || self);
      function t(e, t) {
        var n,
          i = e.split("."),
          r = ee;
        i[0] in r || void 0 === r.execScript || r.execScript("var " + i[0]);
        for (; i.length && (n = i.shift()); )
          i.length || void 0 === t
            ? (r = r[n] && r[n] !== Object.prototype[n] ? r[n] : (r[n] = {}))
            : (r[n] = t);
      }
      function _(e, t) {
        if (t)
          if (t instanceof Map)
            for (var n = Ee(t.keys()), i = n.next(); !i.done; i = n.next())
              (i = i.value),
                Object.defineProperty(this, i, {
                  value: t.get(i),
                  writable: !0,
                  enumerable: !0,
                });
          else
            for (n in t)
              Object.defineProperty(this, n, {
                value: t[n],
                writable: !0,
                enumerable: !0,
              });
        (this.defaultPrevented = this.cancelable = this.bubbles = !1),
          (this.timeStamp = (
            N.performance && N.performance.now ? N.performance : Date
          ).now()),
          (this.type = e),
          (this.isTrusted = !1),
          (this.target = this.currentTarget = null),
          (this.g = !1);
      }
      function te(e) {
        var t,
          n = new _(e.type);
        for (t in e)
          Object.defineProperty(n, t, {
            value: e[t],
            writable: !0,
            enumerable: !0,
          });
        return n;
      }
      (_.prototype.preventDefault = function () {
        this.cancelable && (this.defaultPrevented = !0);
      }),
        (_.prototype.stopImmediatePropagation = function () {
          this.g = !0;
        }),
        (_.prototype.stopPropagation = function () {}),
        t("shaka.util.FakeEvent", _);
      var ne = {
        Vh: "abrstatuschanged",
        Wh: "adaptation",
        Xh: "buffering",
        ai: "downloadfailed",
        bi: "downloadheadersreceived",
        ci: "drmsessionupdate",
        li: "emsg",
        Pi: "prft",
        Error: "error",
        mi: "expirationupdated",
        pi: "gapjumped",
        wi: "loaded",
        xi: "loading",
        Di: "manifestparsed",
        Ei: "mediaqualitychanged",
        Metadata: "metadata",
        Ji: "onstatechange",
        Ki: "onstateidle",
        Ui: "ratechange",
        $i: "segmentappended",
        aj: "sessiondata",
        bj: "stalldetected",
        cj: "streaming",
        dj: "textchanged",
        ej: "texttrackvisibility",
        fj: "timelineregionadded",
        gj: "timelineregionenter",
        hj: "timelineregionexit",
        ij: "trackschanged",
        nj: "unloading",
        pj: "variantchanged",
      };
      function ie() {}
      function re() {}
      function k() {}
      function ae(e) {
        var t = q.apply(1, arguments);
        se.has(e) || (se.add(e), k.apply(ie, I(t)));
      }
      function oe() {}
      var n,
        se = new Set();
      function ue() {
        this.g = {};
      }
      function le(e, t) {
        for (var n in e.g) t(n, e.g[n]);
      }
      function h() {
        (this.sa = new ue()), (this.Cd = this);
      }
      function Le(e, t) {
        for (var n = [], i = Ee(e), r = i.next(); !r.done; r = i.next())
          n.push(t(r.value));
        return n;
      }
      function ce(e, t) {
        for (var n = Ee(e), i = n.next(); !i.done; i = n.next())
          if (t(i.value)) return 1;
      }
      function de(e, t) {
        for (var n = [], i = Ee(e), r = i.next(); !r.done; r = i.next())
          t((r = r.value)) && n.push(r);
        return n;
      }
      N.console &&
        N.console.log.bind &&
        (((n = {})[1] = console.error.bind(console)),
        (n[2] = console.warn.bind(console)),
        (n[3] = console.info.bind(console)),
        (n[4] = console.log.bind(console)),
        (n[5] = console.debug.bind(console)),
        (n[6] = console.debug.bind(console)),
        (k = n[2]),
        (re = n[1])),
        ((n = ue.prototype).push = function (e, t) {
          this.g.hasOwnProperty(e) ? this.g[e].push(t) : (this.g[e] = [t]);
        }),
        (n.get = function (e) {
          return (e = this.g[e]) ? e.slice() : null;
        }),
        (n.remove = function (e, t) {
          e in this.g &&
            ((this.g[e] = this.g[e].filter(function (e) {
              return e != t;
            })),
            0 == this.g[e].length && delete this.g[e]);
        }),
        (n.size = function () {
          return Object.keys(this.g).length;
        }),
        (n.keys = function () {
          return Object.keys(this.g);
        }),
        (h.prototype.addEventListener = function (e, t) {
          this.sa && this.sa.push(e, t);
        }),
        (h.prototype.removeEventListener = function (e, t) {
          this.sa && this.sa.remove(e, t);
        }),
        (h.prototype.dispatchEvent = function (e) {
          if (!this.sa) return !0;
          for (
            var t = this.sa.get(e.type) || [],
              n = (t = Ee(
                (t = (n = this.sa.get("All")) ? t.concat(n) : t)
              )).next();
            !n.done;
            n = t.next()
          ) {
            (n = n.value), (e.target = this.Cd), (e.currentTarget = this.Cd);
            try {
              n.handleEvent ? n.handleEvent(e) : n.call(this, e);
            } catch (e) {}
            if (e.g) break;
          }
          return e.defaultPrevented;
        }),
        (h.prototype.release = function () {
          this.sa = null;
        });
      var he = RegExp(
        "^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"
      );
      function fe(e) {
        e instanceof fe
          ? (pe(this, e.Va),
            (this.Tb = e.Tb),
            (this.Za = e.Za),
            ge(this, e.mc),
            (this.Ha = e.Ha),
            me(this, e.g.clone()),
            (this.Ib = e.Ib))
          : e && (e = String(e).match(he))
          ? (pe(this, e[1] || "", !0),
            (this.Tb = ve(e[2] || "")),
            (this.Za = ve(e[3] || "", !0)),
            ge(this, e[4]),
            (this.Ha = ve(e[5] || "", !0)),
            me(this, e[6] || "", !0),
            (this.Ib = ve(e[7] || "")))
          : (this.g = new Oe(null));
      }
      function pe(e, t, n) {
        (e.Va = n ? ve(t, !0) : t), e.Va && (e.Va = e.Va.replace(/:$/, ""));
      }
      function ge(e, t) {
        if (t) {
          if (((t = Number(t)), isNaN(t) || t < 0))
            throw Error("Bad port number " + t);
          e.mc = t;
        } else e.mc = null;
      }
      function me(e, t, n) {
        t instanceof Oe ? (e.g = t) : (n || (t = ye(t, Pe)), (e.g = new Oe(t)));
      }
      function ve(e, t) {
        return e ? (t ? decodeURI : decodeURIComponent)(e) : "";
      }
      function ye(e, t, n) {
        return null != e
          ? ((e = encodeURI(e).replace(t, be)),
            (e = n ? e.replace(/%25([0-9a-fA-F]{2})/g, "%$1") : e))
          : null;
      }
      function be(e) {
        return (
          "%" +
          (((e = e.charCodeAt(0)) >> 4) & 15).toString(16) +
          (15 & e).toString(16)
        );
      }
      ((n = fe.prototype).Va = ""),
        (n.Tb = ""),
        (n.Za = ""),
        (n.mc = null),
        (n.Ha = ""),
        (n.Ib = ""),
        (n.toString = function () {
          var e,
            t = [],
            n = this.Va;
          return (
            n && t.push(ye(n, Ne, !0), ":"),
            (n = this.Za) &&
              (t.push("//"),
              (e = this.Tb) && t.push(ye(e, Ne, !0), "@"),
              t.push(
                encodeURIComponent(n).replace(/%25([0-9a-fA-F]{2})/g, "%$1")
              ),
              null != (n = this.mc) && t.push(":", String(n))),
            (n = this.Ha) &&
              (this.Za && "/" != n.charAt(0) && t.push("/"),
              t.push(ye(n, "/" == n.charAt(0) ? _e : Re, !0))),
            (n = this.g.toString()) && t.push("?", n),
            (n = this.Ib) && t.push("#", ye(n, De)),
            t.join("")
          );
        }),
        (n.resolve = function (e) {
          var t = this.clone(),
            n = ("data" === t.Va && (t = new fe()), !!e.Va),
            i =
              (n ? pe(t, e.Va) : (n = !!e.Tb),
              n ? (t.Tb = e.Tb) : (n = !!e.Za),
              n ? (t.Za = e.Za) : (n = null != e.mc),
              e.Ha);
          if (n) ge(t, e.mc);
          else if ((n = !!e.Ha))
            if (
              ("/" != i.charAt(0) &&
                (this.Za && !this.Ha
                  ? (i = "/" + i)
                  : -1 != (r = t.Ha.lastIndexOf("/")) &&
                    (i = t.Ha.substr(0, r + 1) + i)),
              ".." == i || "." == i)
            )
              i = "";
            else if (-1 != i.indexOf("./") || -1 != i.indexOf("/.")) {
              for (
                var r = 0 == i.lastIndexOf("/", 0),
                  i = i.split("/"),
                  a = [],
                  o = 0;
                o < i.length;

              ) {
                var s = i[o++];
                "." == s
                  ? r && o == i.length && a.push("")
                  : ".." == s
                  ? ((1 < a.length || (1 == a.length && "" != a[0])) && a.pop(),
                    r && o == i.length && a.push(""))
                  : (a.push(s), (r = !0));
              }
              i = a.join("/");
            }
          return (
            n ? (t.Ha = i) : (n = "" !== e.g.toString()),
            n ? me(t, e.g.clone()) : (n = !!e.Ib),
            n && (t.Ib = e.Ib),
            t
          );
        }),
        (n.clone = function () {
          return new fe(this);
        });
      var Ne = /[#\/\?@]/g,
        Re = /[#\?:]/g,
        _e = /[#\?]/g,
        Pe = /[#\?@]/g,
        De = /#/g;
      function Oe(e) {
        this.g = e || null;
      }
      function Ue(e) {
        if (!e.Da && ((e.Da = {}), (e.pd = 0), e.g))
          for (var t = e.g.split("&"), n = 0; n < t.length; n++) {
            var i,
              r = t[n].indexOf("="),
              a = null;
            0 <= r
              ? ((i = t[n].substring(0, r)), (a = t[n].substring(r + 1)))
              : (i = t[n]),
              (i = decodeURIComponent(i.replace(/\+/g, " "))),
              (a = a || ""),
              e.add(i, decodeURIComponent(a.replace(/\+/g, " ")));
          }
      }
      function ke(e, t, n) {
        var i = q.apply(3, arguments);
        (this.severity = e),
          (this.category = t),
          (this.code = n),
          (this.data = i),
          (this.handled = !1);
      }
      function je(e, t) {
        return e.concat(t);
      }
      function Be() {}
      function Fe(e) {
        return null != e;
      }
      function Ge(e, t) {
        if (0 == t.length) return e;
        var n = t.map(function (e) {
          return new fe(e);
        });
        return e
          .map(function (e) {
            return new fe(e);
          })
          .map(function (t) {
            return n.map(function (e) {
              return t.resolve(e);
            });
          })
          .reduce(je, [])
          .map(function (e) {
            return e.toString();
          });
      }
      function Ke(e, t) {
        return {
          keySystem: e,
          licenseServerUri: "",
          distinctiveIdentifierRequired: !1,
          persistentStateRequired: !1,
          audioRobustness: "",
          videoRobustness: "",
          serverCertificate: null,
          serverCertificateUri: "",
          sessionType: "",
          initData: t || [],
          keyIds: new Set(),
        };
      }
      function ze(e, t) {
        if (1 == t.length) return t[0];
        e = Ve(e, t);
        if (null != e) return e;
        throw new ke(2, 4, 4025, t);
      }
      function Ve(e, t) {
        for (var n = Ee(Xe[e]), i = n.next(); !i.done; i = n.next())
          for (var i = i.value, r = Ee(t), a = r.next(); !a.done; a = r.next())
            if (((a = a.value), i.test(a.trim()))) return a.trim();
        return e == G ? "" : null;
      }
      ((n = Oe.prototype).Da = null),
        (n.pd = null),
        (n.add = function (e, t) {
          Ue(this), (this.g = null);
          var n = this.Da.hasOwnProperty(e) && this.Da[e];
          return n || (this.Da[e] = n = []), n.push(t), this.pd++, this;
        }),
        (n.set = function (e, t) {
          return (
            Ue(this),
            (this.g = null),
            this.Da.hasOwnProperty(e) ? (this.Da[e] = [t]) : this.add(e, t),
            this
          );
        }),
        (n.toString = function () {
          if (this.g) return this.g;
          if (!this.Da) return "";
          var e,
            t = [];
          for (e in this.Da)
            for (
              var n = encodeURIComponent(e), i = this.Da[e], r = 0;
              r < i.length;
              r++
            ) {
              var a = n;
              "" !== i[r] && (a += "=" + encodeURIComponent(i[r])), t.push(a);
            }
          return (this.g = t.join("&"));
        }),
        (n.clone = function () {
          var e = new Oe();
          if (((e.g = this.g), this.Da)) {
            var t,
              n = {};
            for (t in this.Da) n[t] = this.Da[t].concat();
            (e.Da = n), (e.pd = this.pd);
          }
          return e;
        }),
        (ke.prototype.toString = function () {
          return "shaka.util.Error " + JSON.stringify(this, null, "  ");
        }),
        t("shaka.util.Error", ke),
        (ke.Severity = { RECOVERABLE: 1, CRITICAL: 2 }),
        (ke.Category = {
          NETWORK: 1,
          TEXT: 2,
          MEDIA: 3,
          MANIFEST: 4,
          STREAMING: 5,
          DRM: 6,
          PLAYER: 7,
          CAST: 8,
          STORAGE: 9,
          ADS: 10,
        }),
        (ke.Code = {
          UNSUPPORTED_SCHEME: 1e3,
          BAD_HTTP_STATUS: 1001,
          HTTP_ERROR: 1002,
          TIMEOUT: 1003,
          MALFORMED_DATA_URI: 1004,
          REQUEST_FILTER_ERROR: 1006,
          RESPONSE_FILTER_ERROR: 1007,
          MALFORMED_TEST_URI: 1008,
          UNEXPECTED_TEST_REQUEST: 1009,
          ATTEMPTS_EXHAUSTED: 1010,
          SEGMENT_MISSING: 1011,
          INVALID_TEXT_HEADER: 2e3,
          INVALID_TEXT_CUE: 2001,
          UNABLE_TO_DETECT_ENCODING: 2003,
          BAD_ENCODING: 2004,
          INVALID_XML: 2005,
          INVALID_MP4_TTML: 2007,
          INVALID_MP4_VTT: 2008,
          UNABLE_TO_EXTRACT_CUE_START_TIME: 2009,
          INVALID_MP4_CEA: 2010,
          TEXT_COULD_NOT_GUESS_MIME_TYPE: 2011,
          CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS: 2012,
          TEXT_ONLY_WEBVTT_SRC_EQUALS: 2013,
          MISSING_TEXT_PLUGIN: 2014,
          CHAPTERS_TRACK_FAILED: 2015,
          CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_SRC_EQUALS: 2016,
          UNSUPPORTED_EXTERNAL_THUMBNAILS_URI: 2017,
          BUFFER_READ_OUT_OF_BOUNDS: 3e3,
          JS_INTEGER_OVERFLOW: 3001,
          EBML_OVERFLOW: 3002,
          EBML_BAD_FLOATING_POINT_SIZE: 3003,
          MP4_SIDX_WRONG_BOX_TYPE: 3004,
          MP4_SIDX_INVALID_TIMESCALE: 3005,
          MP4_SIDX_TYPE_NOT_SUPPORTED: 3006,
          WEBM_CUES_ELEMENT_MISSING: 3007,
          WEBM_EBML_HEADER_ELEMENT_MISSING: 3008,
          WEBM_SEGMENT_ELEMENT_MISSING: 3009,
          WEBM_INFO_ELEMENT_MISSING: 3010,
          WEBM_DURATION_ELEMENT_MISSING: 3011,
          WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING: 3012,
          WEBM_CUE_TIME_ELEMENT_MISSING: 3013,
          MEDIA_SOURCE_OPERATION_FAILED: 3014,
          MEDIA_SOURCE_OPERATION_THREW: 3015,
          VIDEO_ERROR: 3016,
          QUOTA_EXCEEDED_ERROR: 3017,
          TRANSMUXING_FAILED: 3018,
          CONTENT_TRANSFORMATION_FAILED: 3019,
          UNABLE_TO_GUESS_MANIFEST_TYPE: 4e3,
          DASH_INVALID_XML: 4001,
          DASH_NO_SEGMENT_INFO: 4002,
          DASH_EMPTY_ADAPTATION_SET: 4003,
          DASH_EMPTY_PERIOD: 4004,
          DASH_WEBM_MISSING_INIT: 4005,
          DASH_UNSUPPORTED_CONTAINER: 4006,
          DASH_PSSH_BAD_ENCODING: 4007,
          DASH_NO_COMMON_KEY_SYSTEM: 4008,
          DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED: 4009,
          DASH_CONFLICTING_KEY_IDS: 4010,
          RESTRICTIONS_CANNOT_BE_MET: 4012,
          HLS_PLAYLIST_HEADER_MISSING: 4015,
          INVALID_HLS_TAG: 4016,
          HLS_INVALID_PLAYLIST_HIERARCHY: 4017,
          DASH_DUPLICATE_REPRESENTATION_ID: 4018,
          HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND: 4020,
          HLS_REQUIRED_ATTRIBUTE_MISSING: 4023,
          HLS_REQUIRED_TAG_MISSING: 4024,
          HLS_COULD_NOT_GUESS_CODECS: 4025,
          HLS_KEYFORMATS_NOT_SUPPORTED: 4026,
          DASH_UNSUPPORTED_XLINK_ACTUATE: 4027,
          DASH_XLINK_DEPTH_LIMIT: 4028,
          CONTENT_UNSUPPORTED_BY_BROWSER: 4032,
          CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM: 4033,
          NO_VARIANTS: 4036,
          PERIOD_FLATTENING_FAILED: 4037,
          INCONSISTENT_DRM_ACROSS_PERIODS: 4038,
          HLS_VARIABLE_NOT_FOUND: 4039,
          HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED: 4040,
          HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED: 4041,
          NO_WEB_CRYPTO_API: 4042,
          HLS_AES_128_INVALID_IV_LENGTH: 4043,
          HLS_AES_128_INVALID_KEY_LENGTH: 4044,
          CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM: 4045,
          STREAMING_ENGINE_STARTUP_INVALID_STATE: 5006,
          NO_RECOGNIZED_KEY_SYSTEMS: 6e3,
          REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE: 6001,
          FAILED_TO_CREATE_CDM: 6002,
          FAILED_TO_ATTACH_TO_VIDEO: 6003,
          INVALID_SERVER_CERTIFICATE: 6004,
          FAILED_TO_CREATE_SESSION: 6005,
          FAILED_TO_GENERATE_LICENSE_REQUEST: 6006,
          LICENSE_REQUEST_FAILED: 6007,
          LICENSE_RESPONSE_REJECTED: 6008,
          ENCRYPTED_CONTENT_WITHOUT_DRM_INFO: 6010,
          NO_LICENSE_SERVER_GIVEN: 6012,
          OFFLINE_SESSION_REMOVED: 6013,
          EXPIRED: 6014,
          SERVER_CERTIFICATE_REQUIRED: 6015,
          INIT_DATA_TRANSFORM_ERROR: 6016,
          SERVER_CERTIFICATE_REQUEST_FAILED: 6017,
          LOAD_INTERRUPTED: 7e3,
          OPERATION_ABORTED: 7001,
          NO_VIDEO_ELEMENT: 7002,
          OBJECT_DESTROYED: 7003,
          CONTENT_NOT_LOADED: 7004,
          CAST_API_UNAVAILABLE: 8e3,
          NO_CAST_RECEIVERS: 8001,
          ALREADY_CASTING: 8002,
          UNEXPECTED_CAST_ERROR: 8003,
          CAST_CANCELED_BY_USER: 8004,
          CAST_CONNECTION_TIMED_OUT: 8005,
          CAST_RECEIVER_APP_UNAVAILABLE: 8006,
          STORAGE_NOT_SUPPORTED: 9e3,
          INDEXED_DB_ERROR: 9001,
          DEPRECATED_OPERATION_ABORTED: 9002,
          REQUESTED_ITEM_NOT_FOUND: 9003,
          MALFORMED_OFFLINE_URI: 9004,
          CANNOT_STORE_LIVE_OFFLINE: 9005,
          NO_INIT_DATA_FOR_OFFLINE: 9007,
          LOCAL_PLAYER_INSTANCE_REQUIRED: 9008,
          NEW_KEY_OPERATION_NOT_SUPPORTED: 9011,
          KEY_NOT_FOUND: 9012,
          MISSING_STORAGE_CELL: 9013,
          STORAGE_LIMIT_REACHED: 9014,
          DOWNLOAD_SIZE_CALLBACK_ERROR: 9015,
          MODIFY_OPERATION_NOT_SUPPORTED: 9016,
          INDEXED_DB_INIT_TIMED_OUT: 9017,
          CS_IMA_SDK_MISSING: 1e4,
          CS_AD_MANAGER_NOT_INITIALIZED: 10001,
          SS_IMA_SDK_MISSING: 10002,
          SS_AD_MANAGER_NOT_INITIALIZED: 10003,
          CURRENT_DAI_REQUEST_NOT_FINISHED: 10004,
        });
      var G = "text",
        He = {
          Ma: "video",
          gd: "audio",
          ma: G,
          zc: "image",
          Sh: "application",
        },
        Xe = {
          audio: [
            /^vorbis$/,
            /^opus$/,
            /^flac$/,
            /^mp4a/,
            /^[ae]c-3$/,
            /^ac-4$/,
            /^dts[cx]$/,
            /^[du]dts$/,
          ],
          video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av01/, /^dvhe/],
          text: [/^vtt$/, /^wvtt/, /^stpp/],
        };
      function We() {}
      function qe(e, t) {
        return (e = C(e)), (t = C(t)), e.split("-")[0] == t.split("-")[0];
      }
      function Ye(e, t) {
        (e = C(e)), (t = C(t));
        (e = e.split("-")), (t = t.split("-"));
        return e[0] == t[0] && 1 == e.length && 2 == t.length;
      }
      function $e(e, t) {
        (e = C(e)), (t = C(t));
        (e = e.split("-")), (t = t.split("-"));
        return 2 == e.length && 2 == t.length && e[0] == t[0];
      }
      function C(e) {
        var t = e.split("-");
        return (
          (e = t[0] || ""),
          (t = t[1] || ""),
          (e = e.toLowerCase()),
          (e = nt.get(e) || e),
          (t = t.toUpperCase()) ? e + "-" + t : e
        );
      }
      function Je(e, t) {
        var n = Ze(e),
          i = Ze(t);
        return e != n && t != i && n == i;
      }
      function Qe(e, t) {
        return (
          (e = C(e)),
          (t = C(t)) == e ? 4 : Ye(t, e) ? 3 : $e(t, e) ? 2 : Ye(e, t) ? 1 : 0
        );
      }
      function Ze(e) {
        var t = e.indexOf("-");
        return (
          (e = (e = 0 <= t ? e.substring(0, t) : e).toLowerCase()),
          nt.get(e) || e
        );
      }
      function et(e) {
        return e.language
          ? C(e.language)
          : e.audio && e.audio.language
          ? C(e.audio.language)
          : e.video && e.video.language
          ? C(e.video.language)
          : "und";
      }
      function tt(e, t) {
        for (
          var n = C(e), i = new Set(), r = Ee(t), a = r.next();
          !a.done;
          a = r.next()
        )
          i.add(C(a.value));
        for (a = (r = Ee(i)).next(); !a.done; a = r.next())
          if ((a = a.value) == n) return a;
        for (a = (r = Ee(i)).next(); !a.done; a = r.next())
          if (Ye((a = a.value), n)) return a;
        for (a = (r = Ee(i)).next(); !a.done; a = r.next())
          if ($e((a = a.value), n)) return a;
        for (a = (i = Ee(i)).next(); !a.done; a = i.next())
          if (Ye(n, (a = a.value))) return a;
        return null;
      }
      t("shaka.util.LanguageUtils", We),
        (We.findClosestLocale = tt),
        (We.getLocaleForVariant = et),
        (We.getLocaleForText = function (e) {
          return C(e.language || "und");
        }),
        (We.getBase = Ze),
        (We.relatedness = Qe),
        (We.areSiblings = Je),
        (We.normalize = C),
        (We.isSiblingOf = $e),
        (We.isParentOf = Ye),
        (We.areLanguageCompatible = qe),
        (We.areLocaleCompatible = function (e, t) {
          return (e = C(e)) == (t = C(t));
        });
      var nt = new Map([
        ["aar", "aa"],
        ["abk", "ab"],
        ["afr", "af"],
        ["aka", "ak"],
        ["alb", "sq"],
        ["amh", "am"],
        ["ara", "ar"],
        ["arg", "an"],
        ["arm", "hy"],
        ["asm", "as"],
        ["ava", "av"],
        ["ave", "ae"],
        ["aym", "ay"],
        ["aze", "az"],
        ["bak", "ba"],
        ["bam", "bm"],
        ["baq", "eu"],
        ["bel", "be"],
        ["ben", "bn"],
        ["bih", "bh"],
        ["bis", "bi"],
        ["bod", "bo"],
        ["bos", "bs"],
        ["bre", "br"],
        ["bul", "bg"],
        ["bur", "my"],
        ["cat", "ca"],
        ["ces", "cs"],
        ["cha", "ch"],
        ["che", "ce"],
        ["chi", "zh"],
        ["chu", "cu"],
        ["chv", "cv"],
        ["cor", "kw"],
        ["cos", "co"],
        ["cre", "cr"],
        ["cym", "cy"],
        ["cze", "cs"],
        ["dan", "da"],
        ["deu", "de"],
        ["div", "dv"],
        ["dut", "nl"],
        ["dzo", "dz"],
        ["ell", "el"],
        ["eng", "en"],
        ["epo", "eo"],
        ["est", "et"],
        ["eus", "eu"],
        ["ewe", "ee"],
        ["fao", "fo"],
        ["fas", "fa"],
        ["fij", "fj"],
        ["fin", "fi"],
        ["fra", "fr"],
        ["fre", "fr"],
        ["fry", "fy"],
        ["ful", "ff"],
        ["geo", "ka"],
        ["ger", "de"],
        ["gla", "gd"],
        ["gle", "ga"],
        ["glg", "gl"],
        ["glv", "gv"],
        ["gre", "el"],
        ["grn", "gn"],
        ["guj", "gu"],
        ["hat", "ht"],
        ["hau", "ha"],
        ["heb", "he"],
        ["her", "hz"],
        ["hin", "hi"],
        ["hmo", "ho"],
        ["hrv", "hr"],
        ["hun", "hu"],
        ["hye", "hy"],
        ["ibo", "ig"],
        ["ice", "is"],
        ["ido", "io"],
        ["iii", "ii"],
        ["iku", "iu"],
        ["ile", "ie"],
        ["ina", "ia"],
        ["ind", "id"],
        ["ipk", "ik"],
        ["isl", "is"],
        ["ita", "it"],
        ["jav", "jv"],
        ["jpn", "ja"],
        ["kal", "kl"],
        ["kan", "kn"],
        ["kas", "ks"],
        ["kat", "ka"],
        ["kau", "kr"],
        ["kaz", "kk"],
        ["khm", "km"],
        ["kik", "ki"],
        ["kin", "rw"],
        ["kir", "ky"],
        ["kom", "kv"],
        ["kon", "kg"],
        ["kor", "ko"],
        ["kua", "kj"],
        ["kur", "ku"],
        ["lao", "lo"],
        ["lat", "la"],
        ["lav", "lv"],
        ["lim", "li"],
        ["lin", "ln"],
        ["lit", "lt"],
        ["ltz", "lb"],
        ["lub", "lu"],
        ["lug", "lg"],
        ["mac", "mk"],
        ["mah", "mh"],
        ["mal", "ml"],
        ["mao", "mi"],
        ["mar", "mr"],
        ["may", "ms"],
        ["mkd", "mk"],
        ["mlg", "mg"],
        ["mlt", "mt"],
        ["mon", "mn"],
        ["mri", "mi"],
        ["msa", "ms"],
        ["mya", "my"],
        ["nau", "na"],
        ["nav", "nv"],
        ["nbl", "nr"],
        ["nde", "nd"],
        ["ndo", "ng"],
        ["nep", "ne"],
        ["nld", "nl"],
        ["nno", "nn"],
        ["nob", "nb"],
        ["nor", "no"],
        ["nya", "ny"],
        ["oci", "oc"],
        ["oji", "oj"],
        ["ori", "or"],
        ["orm", "om"],
        ["oss", "os"],
        ["pan", "pa"],
        ["per", "fa"],
        ["pli", "pi"],
        ["pol", "pl"],
        ["por", "pt"],
        ["pus", "ps"],
        ["que", "qu"],
        ["roh", "rm"],
        ["ron", "ro"],
        ["rum", "ro"],
        ["run", "rn"],
        ["rus", "ru"],
        ["sag", "sg"],
        ["san", "sa"],
        ["sin", "si"],
        ["slk", "sk"],
        ["slo", "sk"],
        ["slv", "sl"],
        ["sme", "se"],
        ["smo", "sm"],
        ["sna", "sn"],
        ["snd", "sd"],
        ["som", "so"],
        ["sot", "st"],
        ["spa", "es"],
        ["sqi", "sq"],
        ["srd", "sc"],
        ["srp", "sr"],
        ["ssw", "ss"],
        ["sun", "su"],
        ["swa", "sw"],
        ["swe", "sv"],
        ["tah", "ty"],
        ["tam", "ta"],
        ["tat", "tt"],
        ["tel", "te"],
        ["tgk", "tg"],
        ["tgl", "tl"],
        ["tha", "th"],
        ["tib", "bo"],
        ["tir", "ti"],
        ["ton", "to"],
        ["tsn", "tn"],
        ["tso", "ts"],
        ["tuk", "tk"],
        ["tur", "tr"],
        ["twi", "tw"],
        ["uig", "ug"],
        ["ukr", "uk"],
        ["urd", "ur"],
        ["uzb", "uz"],
        ["ven", "ve"],
        ["vie", "vi"],
        ["vol", "vo"],
        ["wel", "cy"],
        ["wln", "wa"],
        ["wol", "wo"],
        ["xho", "xh"],
        ["yid", "yi"],
        ["yor", "yo"],
        ["zha", "za"],
        ["zho", "zh"],
        ["zul", "zu"],
      ]);
      function it(e) {
        h.call(this),
          (this.j = C(e)),
          (this.i = new Map()),
          (this.g = new Set()),
          (this.h = new Map());
      }
      function rt(n) {
        for (
          var e = n.h,
            t = n.j,
            i = n.g,
            r = new Set(),
            a = {},
            o = Ee(i),
            s = o.next();
          !s.done;
          a = { Xb: a.Xb }, s = o.next()
        ) {
          (a.Xb = s.value),
            r.add(a.Xb),
            r.add(Ze(a.Xb)),
            (s = de(
              e.keys(),
              (function (t) {
                return function (e) {
                  return Je(e, t.Xb);
                };
              })(a)
            )).sort();
          for (var u = Ee(s), s = u.next(); !s.done; s = u.next())
            r.add(s.value);
          for (
            (s = de(
              e.keys(),
              (function (t) {
                return function (e) {
                  return Ze(e) == t.Xb;
                };
              })(a)
            )).sort(),
              s = (u = Ee(s)).next();
            !s.done;
            s = u.next()
          )
            r.add(s.value);
        }
        for (r.add(t), t = [], s = (r = Ee(r)).next(); !s.done; s = r.next())
          (s = e.get(s.value)) && t.push(s);
        for (
          t.reverse(), n.i.clear(), s = (e = Ee(t)).next();
          !s.done;
          s = e.next()
        )
          s.value.forEach(function (e, t) {
            n.i.set(t, e);
          });
        for (
          e = n.i.keys(), r = new Set(), s = (t = Ee(n.g)).next();
          !s.done;
          s = t.next()
        ) {
          s = n.h.get(s.value) || new Map();
          {
            l = void 0;
            c = void 0;
            d = void 0;
            h = void 0;
            var l = s;
            var c = e;
            var d = r;
            for (var h = (c = Ee(c)).next(); !h.done; h = c.next())
              (h = h.value), l.get(h) || d.add(h);
          }
        }
        0 < r.size &&
          ((i = new Map()
            .set("locales", Array.from(i))
            .set("missing", Array.from(r))),
          n.dispatchEvent(new _("missing-localizations", i)));
      }
      e(it, h),
        ((n = it.prototype).release = function () {
          h.prototype.release.call(this);
        }),
        (n.vf = function (e) {
          var t = this;
          this.g.clear();
          for (var n = (e = Ee(e)).next(); !n.done; n = e.next())
            this.g.add(C(n.value));
          rt(this),
            (e = de(this.g, function (e) {
              return !t.h.has(e);
            })).length &&
              this.dispatchEvent(
                new _("unknown-locales", new Map().set("locales", e))
              ),
            (e = de(this.g, function (e) {
              return t.h.has(e);
            })),
            (e = new Map().set("locales", e.length ? e : [this.j])),
            this.dispatchEvent(new _("locale-changed", e));
        }),
        (n.ea = function (e, t, n) {
          (e = C(e)), void 0 === n && (n = at);
          var i = this.h.get(e) || new Map();
          return (
            t.forEach(function (e, t) {
              (i.has(t) && n != at) || i.set(t, e);
            }),
            this.h.set(e, i),
            rt(this),
            this.dispatchEvent(new _("locale-updated")),
            this
          );
        }),
        (n.Ch = function (e) {
          for (var t = Ee(e.keys()), n = t.next(); !n.done; n = t.next())
            (n = n.value), e.set(n, this.resolve(n));
        }),
        (n.resolve = function (e) {
          var t = this.i.get(e);
          return (
            t ||
            ((e = new Map()
              .set("locales", Array.from(this.g))
              .set("missing", e)),
            this.dispatchEvent(new _("unknown-localization", e)),
            "")
          );
        }),
        t("shaka.ui.Localization", it),
        (it.prototype.resolveDictionary = it.prototype.Ch),
        (it.prototype.insert = it.prototype.ea),
        (it.prototype.changeLocale = it.prototype.vf);
      var at = 1,
        ot =
          ((it.ConflictResolution = { USE_OLD: 0, USE_NEW: at }),
          (it.UNKNOWN_LOCALES = "unknown-locales"),
          (it.UNKNOWN_LOCALIZATION = "unknown-localization"),
          (it.MISSING_LOCALIZATIONS = "missing-localizations"),
          (it.LOCALE_CHANGED = "locale-changed"),
          (it.LOCALE_UPDATED = "locale-updated"),
          {
            di: "ENTER_LOOP_MODE",
            oi: "FULL_SCREEN",
            gg: "LIVE",
            Fi: "NOT_APPLICABLE",
            mj: "UNRECOGNIZED_LANGUAGE",
            Hi: "ON",
            lj: "UNMUTE",
            Xi: "SKIP_TO_LIVE",
            Ni: "PLAY",
            Si: "RESOLUTION",
            Qh: "AD_TIME",
            BACK: "BACK",
            Ti: "REWIND",
            Zh: "CAST",
            ii: "EXIT_FULL_SCREEN",
            si: "LANGUAGE",
            Gi: "OFF",
            ki: "EXIT_PICTURE_IN_PICTURE",
            AD_PROGRESS: "AD_PROGRESS",
            oj: "VOLUME",
            Ph: "AD_DURATION",
            ni: "FAST_FORWARD",
            ji: "EXIT_LOOP_MODE",
            Vi: "SEEK",
            Zi: "STATISTICS",
            Th: "AUTO_QUALITY",
            Oi: "PLAYBACK_RATE",
            ti: "LOOP",
            Yh: "CAPTIONS",
            Ai: "MORE_SETTINGS",
            Wi: "SKIP_AD",
            Qi: "QUALITY",
            Ri: "REPLAY",
            Mi: "PICTURE_IN_PICTURE",
            kj: "UNDETERMINED_LANGUAGE",
            hg: "SUBTITLE_FORCED",
            Rh: "AIRPLAY",
            ei: "ENTER_PICTURE_IN_PICTURE",
            Bi: "MULTIPLE_LANGUAGES",
            Ci: "MUTE",
            Li: "PAUSE",
          });
      function st(e) {
        (this.g = Math.exp(Math.log(0.5) / e)), (this.i = this.h = 0);
      }
      function ut(e) {
        return e.h / (1 - Math.pow(e.g, e.i));
      }
      function lt() {
        (this.h = new st(2)),
          (this.j = new st(5)),
          (this.g = 0),
          (this.i = 128e3),
          (this.l = 16e3);
      }
      function ct(e, t) {
        return (
          !(
            "number" != typeof e ||
            "number" != typeof t ||
            !isNaN(e) ||
            !isNaN(t)
          ) || e === t
        );
      }
      function dt(e, t) {
        t = e.indexOf(t);
        -1 < t && e.splice(t, 1);
      }
      function ht(e, t, n) {
        if (((n = n || ct), e.length != t.length)) return !1;
        t = t.slice();
        for (
          var i = {}, r = (e = Ee(e)).next();
          !r.done;
          i = { Td: i.Td }, r = e.next()
        ) {
          if (
            ((i.Td = r.value),
            -1 ==
              (r = t.findIndex(
                (function (t) {
                  return function (e) {
                    return n(t.Td, e);
                  };
                })(i)
              )))
          )
            return !1;
          (t[r] = t[t.length - 1]), t.pop();
        }
        return 0 == t.length;
      }
      function ft(e, t, n) {
        if (((n = n || ct), e.length != t.length)) return !1;
        for (var i = 0; i < e.length; i++) if (!n(e[i], t[i])) return !1;
        return !0;
      }
      function L(e, t, n) {
        (this.startTime = e),
          (this.direction = Et),
          (this.endTime = t),
          (this.payload = n),
          (this.region = new Lt()),
          (this.position = null),
          (this.positionAlign = gt),
          (this.size = 0),
          (this.textAlign = mt),
          (this.writingMode = Tt),
          (this.lineInterpretation = At),
          (this.line = null),
          (this.lineHeight = ""),
          (this.lineAlign = wt),
          (this.displayAlign = yt),
          (this.fontSize =
            this.textStrokeWidth =
            this.textStrokeColor =
            this.textShadow =
            this.border =
            this.backgroundImage =
            this.backgroundColor =
            this.color =
              ""),
          (this.fontWeight = kt),
          (this.fontStyle = Ct),
          (this.linePadding = this.letterSpacing = this.fontFamily = ""),
          (this.opacity = 1),
          (this.textDecoration = []),
          (this.wrapLine = !0),
          (this.id = ""),
          (this.nestedCues = []),
          (this.lineBreak = this.isContainer = !1),
          (this.cellResolution = { columns: 32, rows: 15 });
      }
      function pt(e, t) {
        if (
          e.startTime != t.startTime ||
          e.endTime != t.endTime ||
          e.payload != t.payload
        )
          return !1;
        for (var n in e)
          if ("startTime" != n && "endTime" != n && "payload" != n)
            if ("nestedCues" == n) {
              if (!ft(e.nestedCues, t.nestedCues, pt)) return !1;
            } else if ("region" == n || "cellResolution" == n) {
              for (var i in e[n]) if (e[n][i] != t[n][i]) return !1;
            } else if (Array.isArray(e[n])) {
              if (!ft(e[n], t[n])) return !1;
            } else if (e[n] != t[n]) return !1;
        return !0;
      }
      (st.prototype.sample = function (e, t) {
        t = t * (1 - (t = Math.pow(this.g, e))) + t * this.h;
        isNaN(t) || ((this.h = t), (this.i += e));
      }),
        (lt.prototype.configure = function (e) {
          (this.i = e.minTotalBytes),
            (this.l = e.minBytes),
            (this.h.g = Math.exp(Math.log(0.5) / e.fastHalfLife)),
            (this.j.g = Math.exp(Math.log(0.5) / e.slowHalfLife));
        }),
        (lt.prototype.sample = function (e, t) {
          var n;
          t < this.l ||
            ((n = (8e3 * t) / e),
            (e = e / 1e3),
            (this.g += t),
            this.h.sample(e, n),
            this.j.sample(e, n));
        }),
        (lt.prototype.getBandwidthEstimate = function (e) {
          return this.g < this.i ? e : Math.min(ut(this.h), ut(this.j));
        }),
        (L.prototype.clone = function () {
          var e,
            t = new L(0, 0, "");
          for (e in this)
            (t[e] = this[e]),
              t[e] && t[e].constructor == Array && (t[e] = t[e].slice());
          return t;
        }),
        t("shaka.text.Cue", L);
      var gt = "auto",
        mt =
          ((L.positionAlign = {
            LEFT: "line-left",
            RIGHT: "line-right",
            CENTER: "center",
            AUTO: gt,
          }),
          "center"),
        vt = {
          LEFT: "left",
          RIGHT: "right",
          CENTER: mt,
          START: "start",
          END: "end",
        },
        yt = ((L.textAlign = vt), "after"),
        bt = { BEFORE: "before", CENTER: "center", AFTER: yt },
        Et = ((L.displayAlign = bt), "ltr"),
        Tt =
          ((L.direction = {
            HORIZONTAL_LEFT_TO_RIGHT: Et,
            HORIZONTAL_RIGHT_TO_LEFT: "rtl",
          }),
          "horizontal-tb"),
        At =
          ((L.writingMode = {
            HORIZONTAL_TOP_TO_BOTTOM: Tt,
            VERTICAL_LEFT_TO_RIGHT: "vertical-lr",
            VERTICAL_RIGHT_TO_LEFT: "vertical-rl",
          }),
          0),
        wt =
          ((L.lineInterpretation = { LINE_NUMBER: At, PERCENTAGE: 1 }),
          "start"),
        St = { CENTER: "center", START: wt, END: "end" },
        xt =
          ((L.lineAlign = St),
          {
            white: "#FFF",
            lime: "#0F0",
            cyan: "#0FF",
            red: "#F00",
            yellow: "#FF0",
            magenta: "#F0F",
            blue: "#00F",
            black: "#000",
          }),
        It =
          ((L.defaultTextColor = xt),
          {
            bg_white: "#FFF",
            bg_lime: "#0F0",
            bg_cyan: "#0FF",
            bg_red: "#F00",
            bg_yellow: "#FF0",
            bg_magenta: "#F0F",
            bg_blue: "#00F",
            bg_black: "#000",
          }),
        kt = ((L.defaultTextBackgroundColor = It), 400),
        Ct = ((L.fontWeight = { NORMAL: kt, BOLD: 700 }), "normal"),
        Mt = { NORMAL: Ct, ITALIC: "italic", OBLIQUE: "oblique" };
      function Lt() {
        (this.id = ""),
          (this.regionAnchorY =
            this.regionAnchorX =
            this.viewportAnchorY =
            this.viewportAnchorX =
              0),
          (this.height = this.width = 100),
          (this.viewportAnchorUnits = this.widthUnits = this.heightUnits = Nt),
          (this.scroll = Rt);
      }
      (L.fontStyle = Mt),
        (L.textDecoration = {
          UNDERLINE: "underline",
          LINE_THROUGH: "lineThrough",
          OVERLINE: "overline",
        }),
        t("shaka.text.CueRegion", Lt);
      var Nt = 1,
        Rt = ((Lt.units = { PX: 0, PERCENTAGE: Nt, LINES: 2 }), "");
      function _t() {}
      function Pt(e, t) {
        if (!e && !t) return !0;
        if (!e || !t || e.byteLength != t.byteLength) return !1;
        if (Dt(e) == Dt(t) && (e.byteOffset || 0) == (t.byteOffset || 0))
          return !0;
        for (var n = R(e), i = R(t), r = 0; r < e.byteLength; r++)
          if (n[r] != i[r]) return !1;
        return !0;
      }
      function Dt(e) {
        return e instanceof ArrayBuffer ? e : e.buffer;
      }
      function Ot(e) {
        return e instanceof ArrayBuffer
          ? e
          : (0 == e.byteOffset && e.byteLength == e.buffer.byteLength
              ? e
              : new Uint8Array(e)
            ).buffer;
      }
      function R(e, t, n) {
        return jt(
          e,
          void 0 === t ? 0 : t,
          (n = void 0 === n ? 1 / 0 : n),
          Uint8Array
        );
      }
      function Ut(e, t, n) {
        return jt(
          e,
          void 0 === t ? 0 : t,
          (n = void 0 === n ? 1 / 0 : n),
          DataView
        );
      }
      function jt(e, t, n, i) {
        var r = (e.byteOffset || 0) + e.byteLength;
        return (
          (t = Math.max(0, Math.min((e.byteOffset || 0) + t, r))),
          new i(Dt(e), t, Math.min(t + Math.max(n, 0), r) - t)
        );
      }
      function P() {
        var n,
          i,
          e = new Promise(function (e, t) {
            (n = e), (i = t);
          });
        return (e.resolve = n), (e.reject = i), e;
      }
      function Bt(e) {
        (this.h = e), (this.g = void 0);
      }
      function Ft(e) {
        (this.h = e), (this.g = null);
      }
      function M(e) {
        (this.h = e), (this.g = null);
      }
      function Gt() {
        return !(!N.MediaSource || !MediaSource.isTypeSupported);
      }
      function Kt(e) {
        return "" != $t().canPlayType(e);
      }
      function zt() {
        return Yt("Xbox One");
      }
      function Vt() {
        return Yt("Tizen");
      }
      function Ht() {
        return Yt("Web0S") && Yt("Chrome/38.0.2125.122 Safari/537.36");
      }
      function Xt() {
        return (
          !!navigator.vendor &&
          navigator.vendor.includes("Apple") &&
          !Vt() &&
          !Yt("PC=EOS") &&
          !Yt("VirginMedia") &&
          !Wt() &&
          !Yt("AFT")
        );
      }
      function Wt() {
        return Yt("PlayStation 4");
      }
      function qt() {
        if (!Xt()) return null;
        var e = navigator.userAgent.match(/Version\/(\d+)/);
        return (e = e || navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))
          ? parseInt(e[1], 10)
          : null;
      }
      function Yt(e) {
        return (navigator.userAgent || "").includes(e);
      }
      function $t() {
        return (
          Qt ||
          ((Jt =
            Jt ||
            new M(function () {
              Qt = null;
            })),
          (Qt =
            document.getElementsByTagName("video")[0] ||
            document.getElementsByTagName("audio")[0]) ||
            (Qt = document.createElement("video")),
          Jt.S(1),
          Qt)
        );
      }
      (Lt.scrollMode = { NONE: Rt, UP: "up" }),
        t("shaka.util.BufferUtils", _t),
        (_t.toDataView = Ut),
        (_t.toUint8 = R),
        (_t.toArrayBuffer = Ot),
        (_t.equal = Pt),
        (P.prototype.resolve = function () {}),
        (P.prototype.reject = function () {}),
        (Bt.prototype.value = function () {
          return null == this.g && (this.g = this.h()), this.g;
        }),
        (Ft.prototype.S = function (e) {
          var t = this,
            n = (this.stop(), !0),
            i = null;
          return (
            (this.g = function () {
              N.clearTimeout(i), (n = !1);
            }),
            (i = N.setTimeout(function () {
              n && t.h();
            }, 1e3 * e)),
            this
          );
        }),
        (Ft.prototype.stop = function () {
          this.g && (this.g(), (this.g = null));
        }),
        (M.prototype.xa = function () {
          return this.stop(), this.h(), this;
        }),
        (M.prototype.S = function (e) {
          var t = this;
          return (
            this.stop(),
            (this.g = new Ft(function () {
              t.h();
            }).S(e)),
            this
          );
        }),
        (M.prototype.ha = function (e) {
          var t = this;
          return (
            this.stop(),
            (this.g = new Ft(function () {
              t.g.S(e), t.h();
            }).S(e)),
            this
          );
        }),
        (M.prototype.stop = function () {
          this.g && (this.g.stop(), (this.g = null));
        }),
        t("shaka.util.Timer", M),
        (M.prototype.tickEvery = M.prototype.ha),
        (M.prototype.tickAfter = M.prototype.S),
        (M.prototype.tickNow = M.prototype.xa);
      var Jt = null,
        Qt = null;
      function Zt() {}
      function en(e) {
        if (!e) return "";
        if (
          (239 == (e = R(e))[0] &&
            187 == e[1] &&
            191 == e[2] &&
            (e = e.subarray(3)),
          N.TextDecoder && !Wt())
        )
          return (
            (e = new TextDecoder().decode(e)).includes("") &&
              re(
                'Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'
              ),
            e
          );
        for (var t = "", n = 0; n < e.length; ++n) {
          var i,
            r = 65533;
          0 == (128 & e[n])
            ? (r = e[n])
            : e.length >= n + 2 &&
              192 == (224 & e[n]) &&
              128 == (192 & e[n + 1])
            ? ((r = ((31 & e[n]) << 6) | (63 & e[n + 1])), (n += 1))
            : e.length >= n + 3 &&
              224 == (240 & e[n]) &&
              128 == (192 & e[n + 1]) &&
              128 == (192 & e[n + 2])
            ? ((r =
                ((15 & e[n]) << 12) | ((63 & e[n + 1]) << 6) | (63 & e[n + 2])),
              (n += 2))
            : e.length >= n + 4 &&
              240 == (241 & e[n]) &&
              128 == (192 & e[n + 1]) &&
              128 == (192 & e[n + 2]) &&
              128 == (192 & e[n + 3]) &&
              ((r =
                ((7 & e[n]) << 18) |
                ((63 & e[n + 1]) << 12) |
                ((63 & e[n + 2]) << 6) |
                (63 & e[n + 3])),
              (n += 3)),
            r <= 65535
              ? (t += String.fromCharCode(r))
              : ((i = 1023 & (r -= 65536)),
                (t =
                  (t += String.fromCharCode(55296 + (r >> 10))) +
                  String.fromCharCode(56320 + i)));
        }
        return t;
      }
      function tn(e, t, n) {
        if (!e) return "";
        if (!n && 0 != e.byteLength % 2) throw new ke(2, 2, 2004);
        n = Math.floor(e.byteLength / 2);
        var i = new Uint16Array(n);
        e = Ut(e);
        for (var r = 0; r < n; r++) i[r] = e.getUint16(2 * r, t);
        return on.value()(i);
      }
      function nn(e) {
        function t(e) {
          return n.byteLength <= e || (32 <= n[e] && n[e] <= 126);
        }
        if (!e) return "";
        var n = R(e);
        if (239 == n[0] && 187 == n[1] && 191 == n[2]) return en(n);
        if (254 == n[0] && 255 == n[1]) return tn(n.subarray(2), !1);
        if (255 == n[0] && 254 == n[1]) return tn(n.subarray(2), !0);
        if (0 == n[0] && 0 == n[2]) return tn(e, !1);
        if (0 == n[1] && 0 == n[3]) return tn(e, !0);
        if (t(0) && t(1) && t(2) && t(3)) return en(e);
        throw new ke(2, 2, 2003);
      }
      function rn(e) {
        if (N.TextEncoder && !Wt())
          return Ot((t = new TextEncoder()).encode(e));
        (e = encodeURIComponent(e)), (e = unescape(e));
        for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++)
          t[n] = e[n].charCodeAt(0);
        return Ot(t);
      }
      function an(e, t) {
        for (
          var n = new ArrayBuffer(2 * e.length), i = new DataView(n), r = 0;
          r < e.length;
          ++r
        )
          i.setUint16(2 * r, e.charCodeAt(r), t);
        return n;
      }
      t("shaka.util.StringUtils", Zt),
        (Zt.resetFromCharCode = function () {
          on.g = void 0;
        }),
        (Zt.toUTF16 = an),
        (Zt.toUTF8 = rn),
        (Zt.fromBytesAutoDetect = nn),
        (Zt.fromUTF16 = tn),
        (Zt.fromUTF8 = en);
      var on = new Bt(function () {
        for (var e = { sb: 65536 }; 0 < e.sb; (e = { sb: e.sb }).sb /= 2)
          if (
            (function (e) {
              try {
                var t = new Uint8Array(e);
                return 0 < String.fromCharCode.apply(null, t).length;
              } catch (e) {
                return;
              }
            })(e.sb)
          ) {
            var i = e;
            return function (e) {
              for (var t = "", n = 0; n < e.length; n += i.sb)
                t += String.fromCharCode.apply(null, e.subarray(n, n + i.sb));
              return t;
            };
            return;
          }
        return null;
      });
      function sn() {}
      function un(e) {
        return (e = R(e)), (e = on.value()(e)), btoa(e);
      }
      function ln(e, t) {
        t = null == t || t;
        e = un(e).replace(/\+/g, "-").replace(/\//g, "_");
        return t ? e : e.replace(/[=]*$/, "");
      }
      function cn(e) {
        e = N.atob(e.replace(/-/g, "+").replace(/_/g, "/"));
        for (var t = new Uint8Array(e.length), n = 0; n < e.length; ++n)
          t[n] = e.charCodeAt(n);
        return t;
      }
      function dn(e) {
        for (var t = e.length / 2, n = new Uint8Array(t), i = 0; i < t; i++)
          n[i] = N.parseInt(e.substr(2 * i, 2), 16);
        return n;
      }
      function hn(e) {
        var t = R(e);
        e = "";
        for (var n = (t = Ee(t)).next(); !n.done; n = t.next())
          e += n = 1 == (n = (n = n.value).toString(16)).length ? "0" + n : n;
        return e;
      }
      function fn() {
        for (
          var e = q.apply(0, arguments), t = 0, n = Ee(e), i = n.next();
          !i.done;
          i = n.next()
        )
          t += i.value.byteLength;
        for (
          t = new Uint8Array(t), n = 0, i = (e = Ee(e)).next();
          !i.done;
          i = e.next()
        )
          (i = i.value), t.set(R(i), n), (n += i.byteLength);
        return t;
      }
      function pn() {}
      t("shaka.util.Uint8ArrayUtils", sn),
        (sn.concat = fn),
        (sn.toHex = hn),
        (sn.fromHex = dn),
        (sn.fromBase64 = cn),
        (sn.toBase64 = ln),
        (sn.toStandardBase64 = un),
        t("shaka.dependencies", pn),
        (pn.has = function (e) {
          return mn.has(e);
        }),
        (pn.add = function (e, t) {
          if (!gn[e]) throw Error(e + " is not supported");
          mn.set(e, function () {
            return t;
          });
        });
      var gn = { muxjs: "muxjs" },
        mn =
          ((pn.Allowed = gn),
          new Map([
            [
              "muxjs",
              function () {
                return N.muxjs;
              },
            ],
          ]));
      function vn(e) {
        var t = this;
        (this.s = e),
          (this.m = mn.get("muxjs")()),
          (this.g = new this.m.mp4.Transmuxer({ keepOriginalTimestamps: !0 })),
          (this.h = null),
          (this.l = []),
          (this.i = []),
          (this.j = !1),
          this.g.on("data", function (e) {
            (t.i = e.captions), t.l.push(fn(e.initSegment, e.data));
          }),
          this.g.on("done", function () {
            var e = { data: fn.apply(sn, I(t.l)), captions: t.i };
            t.h.resolve(e), (t.j = !1);
          });
      }
      function yn(e, t) {
        var n = bn(e),
          i = "audio/aac" == e.toLowerCase().split(";")[0];
        return (
          !(!mn.get("muxjs")() || (!n && !i)) &&
          (i
            ? MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.2"')
            : t
            ? MediaSource.isTypeSupported(Tn(t, e))
            : ((n = Tn("audio", e)),
              (i = Tn("video", e)),
              MediaSource.isTypeSupported(n) || MediaSource.isTypeSupported(i)))
        );
      }
      function bn(e) {
        return "mp2t" == e.toLowerCase().split(";")[0].split("/")[1];
      }
      function En(e, t) {
        return "audio/aac" == t.toLowerCase().split(";")[0]
          ? 'audio/mp4; codecs="mp4a.40.2"'
          : bn(t)
          ? Tn(e, t)
          : t;
      }
      function Tn(e, t) {
        var n,
          i,
          t = t.replace(/mp2t/i, "mp4"),
          e =
            ("audio" == e && (t = t.replace("video", "audio")),
            /avc1\.(66|77|100)\.(\d+)/.exec(t));
        return (
          e &&
            ((i = "avc1."),
            (i =
              ("66" == (n = e[1])
                ? i + "4200"
                : "77" == n
                ? i + "4d00"
                : i + "6400") + ((n = Number(e[2])) >> 4).toString(16)),
            (i += (15 & n).toString(16)),
            (t = t.replace(e[0], i))),
          t
        );
      }
      function An() {}
      function wn(e, t) {
        return t && (e += '; codecs="' + t + '"'), e;
      }
      function Sn(e, t, n) {
        return yn((e = wn(e, t)), n)
          ? En(n, e)
          : "audio" == n
          ? e.replace("video", "audio")
          : e;
      }
      function xn(e) {
        var t = kn(e);
        switch (((e = t[0]), (t = t[1].toLowerCase()), !0)) {
          case "mp4a" === e && "69" === t:
          case "mp4a" === e && "6b" === t:
            return "mp3";
          case "mp4a" === e && "66" === t:
          case "mp4a" === e && "67" === t:
          case "mp4a" === e && "68" === t:
          case "mp4a" === e && "40.2" === t:
          case "mp4a" === e && "40.02" === t:
          case "mp4a" === e && "40.5" === t:
          case "mp4a" === e && "40.05" === t:
          case "mp4a" === e && "40.29" === t:
          case "mp4a" === e && "40.42" === t:
            return "aac";
          case "mp4a" === e && "a5" === t:
            return "ac-3";
          case "mp4a" === e && "a6" === t:
            return "ec-3";
          case "mp4a" === e && "b2" === t:
            return "dtsx";
          case "mp4a" === e && "a9" === t:
            return "dtsc";
          case "avc1" === e:
          case "avc3" === e:
            return "avc";
          case "hvc1" === e:
          case "hev1" === e:
            return "hevc";
          case "dvh1" === e:
          case "dvhe" === e:
            return "dovi";
        }
        return e;
      }
      function In(e) {
        return (
          (e = e.split(/ *; */)).shift(),
          (e = e.find(function (e) {
            return e.startsWith("codecs=");
          }))
            ? e.split("=")[1].replace(/^"|"$/g, "")
            : ""
        );
      }
      function kn(e) {
        var t = (e = e.split("."))[0];
        return e.shift(), [t, e.join(".")];
      }
      function Cn(e) {
        (this.j = null),
          (this.i = e),
          (this.C = !1),
          (this.l = this.B = 0),
          (this.m = 1 / 0),
          (this.h = this.g = null),
          (this.F = ""),
          (this.s = new Map());
      }
      function Mn(e) {
        return !(
          !Rn[e] &&
          "application/cea-608" != e &&
          "application/cea-708" != e
        );
      }
      function Ln(e, t, n) {
        if (((e.F = t), (t = e.s.get(t))))
          for (var i = Ee(t.keys()), r = i.next(); !r.done; r = i.next())
            (r = t.get(r.value).filter(function (e) {
              return e.endTime <= n;
            })) && e.i.append(r);
      }
      function Nn(e, t, n, i, r) {
        for (
          var a = n + " " + i, o = new Map(), s = (t = Ee(t)).next();
          !s.done;
          s = t.next()
        ) {
          var s = (u = s.value).stream,
            u = u.cue;
          o.has(s) || o.set(s, new Map()),
            o.get(s).has(a) || o.get(s).set(a, []),
            !(function e(t, n, i) {
              (n.startTime += i), (n.endTime += i);
              for (var r = (n = Ee(n.nestedCues)).next(); !r.done; r = n.next())
                e(t, r.value, i);
            })(e, u, r),
            u.startTime >= e.l &&
              u.startTime < e.m &&
              (o.get(s).get(a).push(u), s == e.F && e.i.append([u]));
        }
        for (a = (r = Ee(o.keys())).next(); !a.done; a = r.next())
          for (
            a = a.value,
              e.s.has(a) || e.s.set(a, new Map()),
              s = (t = Ee(o.get(a).keys())).next();
            !s.done;
            s = t.next()
          )
            (s = s.value), (u = o.get(a).get(s)), e.s.get(a).set(s, u);
        (e.g =
          null == e.g ? Math.max(n, e.l) : Math.min(e.g, Math.max(n, e.l))),
          (e.h = Math.max(e.h, Math.min(i, e.m)));
      }
      (vn.prototype.destroy = function () {
        return this.g.dispose(), (this.g = null), Promise.resolve();
      }),
        t("shaka.util.MimeUtils", An),
        (An.getFullType = wn),
        new Map()
          .set("codecs", "codecs")
          .set("frameRate", "framerate")
          .set("bandwidth", "bitrate")
          .set("width", "width")
          .set("height", "height")
          .set("channelsCount", "channels"),
        (Cn.prototype.destroy = function () {
          return (this.i = this.j = null), this.s.clear(), Promise.resolve();
        }),
        (Cn.prototype.remove = function (t, n) {
          var i = this;
          return Ie(function (e) {
            if (1 == e.g) return Te(e, Promise.resolve(), 2);
            !i.i ||
              !i.i.remove(t, n) ||
              null == i.g ||
              n <= i.g ||
              t >= i.h ||
              (t <= i.g && n >= i.h
                ? (i.g = i.h = null)
                : t <= i.g && n < i.h
                ? (i.g = n)
                : t > i.g && n >= i.h && (i.h = t)),
              Ae(e);
          });
        }),
        t("shaka.text.TextEngine", Cn),
        (Cn.findParser = function (e) {
          return Rn[e];
        }),
        (Cn.unregisterParser = function (e) {
          delete Rn[e];
        }),
        (Cn.registerParser = function (e, t) {
          Rn[e] = t;
        });
      var Rn = {};
      function _n(e, t, n, i, r) {
        var o,
          s,
          u,
          a = e.variants,
          l =
            ((t = (function (e) {
              for (
                var t = new ue(), n = (e = Ee(e)).next();
                !n.done;
                n = e.next()
              ) {
                var i = Pn((n = n.value));
                t.push(i, n);
              }
              return t;
            })(
              (a = Qn(
                (a =
                  t.length || n.length
                    ? (function (e, t, n) {
                        for (
                          var i = {}, r = (t = Ee(t)).next();
                          !r.done;
                          i = { ee: i.ee }, r = t.next()
                        )
                          if (
                            ((i.ee = r.value),
                            (r = e.filter(
                              (function (t) {
                                return function (e) {
                                  return (
                                    e.video && e.video.codecs.startsWith(t.ee)
                                  );
                                };
                              })(i)
                            )).length)
                          ) {
                            e = r;
                            break;
                          }
                        for (
                          i = {}, n = Ee(n), t = n.next();
                          !t.done;
                          i = { Qd: i.Qd }, t = n.next()
                        )
                          if (
                            ((i.Qd = t.value),
                            (t = e.filter(
                              (function (t) {
                                return function (e) {
                                  return (
                                    e.audio && e.audio.codecs.startsWith(t.Qd)
                                  );
                                };
                              })(i)
                            )).length)
                          ) {
                            e = t;
                            break;
                          }
                        return e;
                      })(a, t, n)
                    : a),
                i
              ))
            )),
            (n = t),
            (o = 0),
            (s = new Map()),
            (u = n.size()),
            le(n, function (e, t) {
              for (var n = Ee(t), i = n.next(); !i.done; i = n.next()) {
                var r,
                  a = (i = i.value).video;
                a &&
                  a.width &&
                  a.height &&
                  ((a = a.width * a.height * (a.frameRate || 1)),
                  s.has(a) || s.set(a, new ue()),
                  (r = s.get(a)).push(e, i),
                  r.size() === u && (o = Math.max(o, a)));
              }
            }),
            (function (e, t) {
              for (var n = Ee(t), i = n.next(); !i.done; i = n.next())
                if ((i = i.value) == ri || i == ai) {
                  if (
                    1 ==
                    (e = (function (e, o) {
                      var s = 0,
                        u = new ue();
                      return (
                        le(e, function (e, t) {
                          for (
                            var n = 0, i = 0, r = Ee(t), a = r.next();
                            !a.done;
                            a = r.next()
                          )
                            (a = a.value).decodingInfos.length &&
                              ((n += a.decodingInfos[0][o] ? 1 : 0), i++);
                          s < (n /= i)
                            ? ((u.g = {}), u.push(e, t), (s = n))
                            : n == s && u.push(e, t);
                        }),
                        u
                      );
                    })(e, i)).size()
                  )
                    return e.keys()[0];
                } else if (i == oi) break;
              return (function (e) {
                var o = "",
                  s = 1 / 0;
                return (
                  le(e, function (e, t) {
                    for (
                      var n = 0, i = 0, r = Ee(t), a = r.next();
                      !a.done;
                      a = r.next()
                    )
                      (n += a.value.bandwidth || 0), ++i;
                    (n /= i) < s && ((o = e), (s = n));
                  }),
                  o
                );
              })(e);
            })((t = o ? s.get(o) : n), r));
        e.variants = e.variants.filter(function (e) {
          return Pn(e) == l;
        });
      }
      function Pn(e) {
        var t = "",
          n = "";
        return (
          (t = e.video ? xn(e.video.codecs) : t) +
          "-" +
          (n = e.audio ? xn(e.audio.codecs) : n)
        );
      }
      function Dn(e, t, n) {
        function i(e, t, n) {
          return t <= e && e <= n;
        }
        var r = e.video;
        if (0 != e.disabledUntilTime) {
          if (e.disabledUntilTime > Date.now() / 1e3) return !1;
          e.disabledUntilTime = 0;
        }
        return !(
          (r &&
            r.width &&
            r.height &&
            (!i(r.width, t.minWidth, Math.min(t.maxWidth, n.width)) ||
              !i(r.height, t.minHeight, Math.min(t.maxHeight, n.height)) ||
              !i(r.width * r.height, t.minPixels, t.maxPixels))) ||
          (e &&
            e.video &&
            e.video.frameRate &&
            !i(e.video.frameRate, t.minFrameRate, t.maxFrameRate)) ||
          !i(e.bandwidth, t.minBandwidth, t.maxBandwidth)
        );
      }
      function On(e, t, n) {
        for (var i = !1, r = (e = Ee(e)).next(); !r.done; r = e.next()) {
          var a = (r = r.value).allowedByApplication;
          (r.allowedByApplication = Dn(r, t, n)),
            a != r.allowedByApplication && (i = !0);
        }
        return i;
      }
      function Un(n, l) {
        return Ie(function (e) {
          return 1 == e.g
            ? Te(e, jn(l, 0 < l.offlineSessionIds.length), 2)
            : (Kn(n, l),
              (l.textStreams = l.textStreams.filter(function (e) {
                return Mn(wn(e.mimeType, e.codecs));
              })),
              Te(
                e,
                ((t = l),
                Ie(function (e) {
                  switch (e.g) {
                    case 1:
                      (i = []), (r = Ee(t.imageStreams)), (a = r.next());
                    case 2:
                      if (a.done) {
                        e.D(4);
                        break;
                      }
                      if (((o = a.value), (s = o.mimeType), si.has(s))) {
                        e.D(5);
                        break;
                      }
                      if ((u = ui.get(s)))
                        return Te(
                          e,
                          ((n = u),
                          new Promise(function (e) {
                            var t = new Image();
                            (t.src = n),
                              "decode" in t
                                ? t
                                    .decode()
                                    .then(function () {
                                      e(!0);
                                    })
                                    .catch(function () {
                                      e(!1);
                                    })
                                : (t.onload = t.onerror =
                                    function () {
                                      e(2 === t.height);
                                    });
                          })),
                          7
                        );
                      si.set(s, !1), e.D(5);
                      break;
                    case 7:
                      (u = e.h), si.set(s, u);
                    case 5:
                      si.get(s) && i.push(o), (a = r.next()), e.D(2);
                      break;
                    case 4:
                      (t.imageStreams = i), Ae(e);
                  }
                  var n;
                })),
                0
              ));
          var t, i, r, a, o, s, u;
        });
      }
      function jn(t, n) {
        return Ie(function (e) {
          if (1 == e.g) return Te(e, Bn(t.variants, n, !1), 2);
          (t.variants = t.variants.filter(function (e) {
            var t = e.video;
            if (t) {
              var n = Gn(t.codecs);
              if (t.codecs.includes(",")) {
                var n = ze("video", (i = t.codecs.split(","))),
                  i = ze("audio", i);
                if (
                  ((i = Sn(t.mimeType, i, "audio")),
                  !MediaSource.isTypeSupported(i))
                )
                  return !1;
              }
              if (
                ((n = Sn(t.mimeType, n, "video")),
                !MediaSource.isTypeSupported(n))
              )
                return !1;
            }
            return (
              !(
                (n = e.audio) &&
                ((i = Fn(n.codecs)),
                (n = Sn(n.mimeType, i, "audio")),
                !MediaSource.isTypeSupported(n))
              ) &&
              (zt() &&
              t &&
              ((t.width && 1920 < t.width) || (t.height && 1080 < t.height)) &&
              (t.codecs.includes("avc1.") || t.codecs.includes("avc3."))
                ? (ti(e), !1)
                : ((t = e.decodingInfos.some(function (e) {
                    return e.supported;
                  })) || ti(e),
                  t))
            );
          })),
            Ae(e);
        });
      }
      function Bn(t, n, i) {
        var r, a, o, s, u, l, c, d, h, f;
        return Ie(function (e) {
          if (
            t.some(function (e) {
              return e.decodingInfos.length;
            })
          )
            return e.return();
          for (
            r = navigator.mediaCapabilities,
              a = [],
              o = function (t, n) {
                var i;
                return Ie(function (e) {
                  return 1 == e.g
                    ? (we(e, 2), Te(e, r.decodingInfo(n), 4))
                    : 2 != e.g
                    ? ((i = e.h), t.decodingInfos.push(i), Se(e, 0))
                    : (xe(e), JSON.stringify(n), void Ae(e));
                });
              },
              s = Ee(t),
              u = s.next();
            !u.done;
            u = s.next()
          )
            for (
              l = u.value,
                c = (function (e, t, n) {
                  var i = e.audio,
                    r = e.video;
                  if (((n = { type: n ? "file" : "media-source" }), r)) {
                    var a,
                      o = r.codecs;
                    if (
                      (r.codecs.includes(",") &&
                        ((a = r.codecs.split(",")),
                        (o = Gn((o = ze("video", a)))),
                        (a = ze("audio", a)),
                        (a = Sn(r.mimeType, a, "audio")),
                        (n.audio = {
                          contentType: a,
                          channels: 2,
                          bitrate: e.bandwidth || 1,
                          samplerate: 1,
                          spatialRendering: !1,
                        })),
                      (o = Gn(o)),
                      (o = Sn(r.mimeType, o, "video")),
                      (n.video = {
                        contentType: o,
                        width: r.width || 64,
                        height: r.height || 64,
                        bitrate: r.bandwidth || e.bandwidth || 1,
                        framerate: r.frameRate || 1,
                      }),
                      r.hdr)
                    )
                      switch (r.hdr) {
                        case "SDR":
                          n.video.transferFunction = "srgb";
                          break;
                        case "PQ":
                          n.video.transferFunction = "pq";
                          break;
                        case "HLG":
                          n.video.transferFunction = "hlg";
                      }
                  }
                  if (
                    (i &&
                      ((o = Fn(i.codecs)),
                      (o = Sn(i.mimeType, o, "audio")),
                      (n.audio = {
                        contentType: o,
                        channels: i.channelsCount || 2,
                        bitrate: i.bandwidth || e.bandwidth || 1,
                        samplerate: i.audioSamplingRate || 1,
                        spatialRendering: i.spatialAudio,
                      })),
                    !(a = (e.video ? e.video.drmInfos : []).concat(
                      e.audio ? e.audio.drmInfos : []
                    )).length)
                  )
                    return [n];
                  (e = []), (o = new Map());
                  for (var s = (a = Ee(a)).next(); !s.done; s = a.next()) {
                    var u = s.value;
                    o.get(u.keySystem) || o.set(u.keySystem, []),
                      o.get(u.keySystem).push(u);
                  }
                  (a = t ? "required" : "optional"),
                    (t = t ? ["persistent-license"] : ["temporary"]);
                  for (
                    var l = (u = Ee(o.keys())).next();
                    !l.done;
                    l = u.next()
                  ) {
                    var c = l.value,
                      d = ((l = Object.assign({}, n)), o.get(c));
                    for (
                      c = {
                        keySystem: c,
                        initDataType: "cenc",
                        persistentState: a,
                        distinctiveIdentifier: "optional",
                        sessionTypes: t,
                      },
                        d = Ee(d),
                        s = d.next();
                      !s.done;
                      s = d.next()
                    ) {
                      if ((s = s.value).initData && s.initData.length) {
                        for (
                          var h = new Set(), f = Ee(s.initData), p = f.next();
                          !p.done;
                          p = f.next()
                        )
                          h.add(p.value.initDataType);
                        c.initDataType = s.initData[0].initDataType;
                      }
                      s.distinctiveIdentifierRequired &&
                        (c.distinctiveIdentifier = "required"),
                        s.persistentStateRequired &&
                          (c.persistentState = "required"),
                        s.sessionType && (c.sessionTypes = [s.sessionType]),
                        i &&
                          (c.audio
                            ? (c.audio.robustness =
                                c.audio.robustness || s.audioRobustness)
                            : (c.audio = { robustness: s.audioRobustness })),
                        r &&
                          (c.video
                            ? (c.video.robustness =
                                c.video.robustness || s.videoRobustness)
                            : (c.video = { robustness: s.videoRobustness }));
                    }
                    (l.keySystemConfiguration = c), e.push(l);
                  }
                  return e;
                })(l, n, i),
                d = Ee(c),
                h = d.next();
              !h.done;
              h = d.next()
            )
              (f = h.value), a.push(o(l, f));
          return Te(e, Promise.all(a), 0);
        });
      }
      function Fn(e) {
        return Vt() && "ac-3" == e.toLowerCase() ? "ec-3" : e;
      }
      function Gn(e) {
        return "vp9" == e ? "vp09.00.41.08" : e;
      }
      function Kn(n, e) {
        e.variants = e.variants.filter(function (e) {
          var t = e.audio;
          return (
            (e = e.video),
            !(
              (t && n && n.audio && !zn(t, n.audio)) ||
              (e && n && n.video && !zn(e, n.video))
            )
          );
        });
      }
      function zn(e, t) {
        return (
          e.mimeType == t.mimeType &&
          e.codecs.split(".")[0] == t.codecs.split(".")[0]
        );
      }
      function Vn(e) {
        var t = e.audio,
          n = e.video,
          i = t ? t.mimeType : null,
          r = n ? n.mimeType : null,
          a = t ? t.codecs : null,
          o = n ? n.codecs : null,
          s = [],
          u = (o && s.push(o), a && s.push(a), []),
          l =
            (n && u.push(n.mimeType),
            t && u.push(t.mimeType),
            (u = u[0] || null),
            []),
          c =
            (t && l.push(t.kind),
            n && l.push(n.kind),
            (l = l[0] || null),
            new Set());
        if (t)
          for (var d = Ee(t.roles), h = d.next(); !h.done; h = d.next())
            c.add(h.value);
        if (n)
          for (h = (d = Ee(n.roles)).next(); !h.done; h = d.next())
            c.add(h.value);
        return (
          (e = {
            id: e.id,
            active: !1,
            type: "variant",
            bandwidth: e.bandwidth,
            language: e.language,
            label: null,
            kind: l,
            width: null,
            height: null,
            frameRate: null,
            pixelAspectRatio: null,
            hdr: null,
            mimeType: u,
            audioMimeType: i,
            videoMimeType: r,
            codecs: s.join(", "),
            audioCodec: a,
            videoCodec: o,
            primary: e.primary,
            roles: Array.from(c),
            audioRoles: null,
            forced: !1,
            videoId: null,
            audioId: null,
            channelsCount: null,
            audioSamplingRate: null,
            spatialAudio: !1,
            tilesLayout: null,
            audioBandwidth: null,
            videoBandwidth: null,
            originalVideoId: null,
            originalAudioId: null,
            originalTextId: null,
            originalImageId: null,
          }),
          n &&
            ((e.videoId = n.id),
            (e.originalVideoId = n.originalId),
            (e.width = n.width || null),
            (e.height = n.height || null),
            (e.frameRate = n.frameRate || null),
            (e.pixelAspectRatio = n.pixelAspectRatio || null),
            (e.videoBandwidth = n.bandwidth || null)),
          t &&
            ((e.audioId = t.id),
            (e.originalAudioId = t.originalId),
            (e.channelsCount = t.channelsCount),
            (e.audioSamplingRate = t.audioSamplingRate),
            (e.audioBandwidth = t.bandwidth || null),
            (e.spatialAudio = t.spatialAudio),
            (e.label = t.label),
            (e.audioRoles = t.roles)),
          e
        );
      }
      function Hn(e) {
        return {
          id: e.id,
          active: !1,
          type: G,
          bandwidth: 0,
          language: e.language,
          label: e.label,
          kind: e.kind || null,
          width: null,
          height: null,
          frameRate: null,
          pixelAspectRatio: null,
          hdr: null,
          mimeType: e.mimeType,
          audioMimeType: null,
          videoMimeType: null,
          codecs: e.codecs || null,
          audioCodec: null,
          videoCodec: null,
          primary: e.primary,
          roles: e.roles,
          audioRoles: null,
          forced: e.forced,
          videoId: null,
          audioId: null,
          channelsCount: null,
          audioSamplingRate: null,
          spatialAudio: !1,
          tilesLayout: null,
          audioBandwidth: null,
          videoBandwidth: null,
          originalVideoId: null,
          originalAudioId: null,
          originalTextId: e.originalId,
          originalImageId: null,
        };
      }
      function Xn(e) {
        var t = e.width || null,
          n = e.height || null,
          i = null,
          r = (e.segmentIndex && (i = e.segmentIndex.get(0)), e.tilesLayout);
        return (
          (r = i ? i.tilesLayout || r : r) &&
            null != t &&
            (t /= Number(r.split("x")[0])),
          r && null != n && (n /= Number(r.split("x")[1])),
          {
            id: e.id,
            active: !1,
            type: "image",
            bandwidth: e.bandwidth || 0,
            language: "",
            label: null,
            kind: null,
            width: t,
            height: n,
            frameRate: null,
            pixelAspectRatio: null,
            hdr: null,
            mimeType: e.mimeType,
            audioMimeType: null,
            videoMimeType: null,
            codecs: null,
            audioCodec: null,
            videoCodec: null,
            primary: !1,
            roles: [],
            audioRoles: null,
            forced: !1,
            videoId: null,
            audioId: null,
            channelsCount: null,
            audioSamplingRate: null,
            spatialAudio: !1,
            tilesLayout: r || null,
            audioBandwidth: null,
            videoBandwidth: null,
            originalVideoId: null,
            originalAudioId: null,
            originalTextId: null,
            originalImageId: e.originalId,
          }
        );
      }
      function Wn(e) {
        return e.__shaka_id || (e.__shaka_id = ii++), e.__shaka_id;
      }
      function qn(e) {
        var t = $n(e);
        return (
          (t.active = "disabled" != e.mode),
          (t.type = "text"),
          (t.originalTextId = e.id),
          "captions" == e.kind && (t.mimeType = "application/cea-608"),
          e.kind && (t.roles = [e.kind]),
          "forced" == e.kind && (t.forced = !0),
          t
        );
      }
      function Yn(e) {
        var t = $n(e);
        return (
          (t.active = e.enabled),
          (t.type = "variant"),
          (t.originalAudioId = e.id),
          "main" == e.kind && (t.primary = !0),
          e.kind &&
            ((t.roles = [e.kind]),
            (t.audioRoles = [e.kind]),
            (t.label = e.label)),
          t
        );
      }
      function $n(e) {
        return {
          id: Wn(e),
          active: !1,
          type: "",
          bandwidth: 0,
          language: C(e.language),
          label: e.label,
          kind: e.kind,
          width: null,
          height: null,
          frameRate: null,
          pixelAspectRatio: null,
          hdr: null,
          mimeType: null,
          audioMimeType: null,
          videoMimeType: null,
          codecs: null,
          audioCodec: null,
          videoCodec: null,
          primary: !1,
          roles: [],
          forced: !1,
          audioRoles: null,
          videoId: null,
          audioId: null,
          channelsCount: null,
          audioSamplingRate: null,
          spatialAudio: !1,
          tilesLayout: null,
          audioBandwidth: null,
          videoBandwidth: null,
          originalVideoId: null,
          originalAudioId: null,
          originalTextId: null,
          originalImageId: null,
        };
      }
      function Jn(e) {
        return e.allowedByApplication && e.allowedByKeySystem;
      }
      function Qn(e, t) {
        for (
          var n = e.filter(function (e) {
              return e.audio && e.audio.channelsCount;
            }),
            i = new Map(),
            r = (n = Ee(n)).next();
          !r.done;
          r = n.next()
        ) {
          var a = (r = r.value).audio.channelsCount;
          i.has(a) || i.set(a, []), i.get(a).push(r);
        }
        return 0 == (n = Array.from(i.keys())).length
          ? e
          : (r = n.filter(function (e) {
              return e <= t;
            })).length
          ? i.get(Math.max.apply(Math, I(r)))
          : i.get(Math.min.apply(Math, I(n)));
      }
      function Zn(e, t, n, i) {
        var r,
          a = e,
          o = e.filter(function (e) {
            return e.primary;
          }),
          s = (a = o.length ? o : a).length ? a[0].language : "",
          a = a.filter(function (e) {
            return e.language == s;
          });
        if (
          (!t ||
            ((r = tt(
              C(t),
              e.map(function (e) {
                return e.language;
              })
            )) &&
              (a = e.filter(function (e) {
                return C(e.language) == r;
              }))),
          (a = a.filter(function (e) {
            return e.forced == i;
          })),
          n)
        ) {
          if ((e = ei(a, n)).length) return e;
        } else if (
          (e = a.filter(function (e) {
            return 0 == e.roles.length;
          })).length
        )
          return e;
        return (e = a
          .map(function (e) {
            return e.roles;
          })
          .reduce(je, [])).length
          ? ei(a, e[0])
          : a;
      }
      function ei(e, t) {
        return e.filter(function (e) {
          return e.roles.includes(t);
        });
      }
      function ti(e) {
        var t = [];
        return (
          e.audio && t.push(ni(e.audio)),
          e.video && t.push(ni(e.video)),
          t.join(", ")
        );
      }
      function ni(e) {
        return "audio" == e.type
          ? "type=audio codecs=" +
              e.codecs +
              " bandwidth=" +
              e.bandwidth +
              " channelsCount=" +
              e.channelsCount +
              " audioSamplingRate=" +
              e.audioSamplingRate
          : "video" == e.type
          ? "type=video codecs=" +
            e.codecs +
            " bandwidth=" +
            e.bandwidth +
            " frameRate=" +
            e.frameRate +
            " width=" +
            e.width +
            " height=" +
            e.height
          : "unexpected stream type";
      }
      var ii = 0,
        ri = "smooth",
        ai = "powerEfficient",
        oi = "bandwidth",
        si = new Map()
          .set("image/svg+xml", !0)
          .set("image/png", !0)
          .set("image/jpeg", !0)
          .set("image/jpg", !0),
        ui = new Map()
          .set(
            "image/webp",
            "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"
          )
          .set(
            "image/avif",
            "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="
          );
      function li() {
        var t = this;
        (this.m = null),
          (this.l = !1),
          (this.i = new lt()),
          navigator.connection &&
            navigator.connection.addEventListener("change", function () {
              var e;
              t.g.useNetworkInformation &&
                t.l &&
                ((t.i = new lt()),
                t.g && t.i.configure(t.g.advanced),
                (e = t.chooseVariant()) && t.m(e));
            }),
          (this.s = []),
          (this.C = 1),
          (this.F = !1),
          (this.h = this.j = this.g = this.B = null),
          (this.G = new M(function () {
            var e;
            t.g.restrictToElementSize && (e = t.chooseVariant()) && t.m(e);
          }));
      }
      function ci(e) {
        var t = e.g.defaultBandwidthEstimate;
        return (t =
          navigator.connection &&
          navigator.connection.downlink &&
          e.g.useNetworkInformation
            ? 1e6 * navigator.connection.downlink
            : t);
      }
      function di(t, e, n, i) {
        return (e = t
          ? e.filter(function (e) {
              return Dn(e, t, { width: i, height: n });
            })
          : e).sort(function (e, t) {
          return e.bandwidth - t.bandwidth;
        });
      }
      ((n = li.prototype).stop = function () {
        (this.m = null),
          (this.l = !1),
          (this.s = []),
          (this.C = 1),
          (this.j = this.B = null),
          this.h && (this.h.disconnect(), (this.h = null)),
          this.G.stop();
      }),
        (n.init = function (e) {
          this.m = e;
        }),
        (n.chooseVariant = function () {
          var e = 1 / 0,
            t = 1 / 0;
          this.g.restrictToScreenSize &&
            ((t = this.g.ignoreDevicePixelRatio ? 1 : N.devicePixelRatio),
            (e = N.screen.height * t),
            (t *= N.screen.width)),
            this.h &&
              this.g.restrictToElementSize &&
              ((t = this.g.ignoreDevicePixelRatio ? 1 : N.devicePixelRatio),
              (e = this.j.clientWidth * t),
              (t *= this.j.clientHeight));
          for (
            var e = di(this.g.restrictions, this.s, e, t),
              t = this.i.getBandwidthEstimate(ci(this)),
              n =
                (e =
                  this.s.length && !e.length
                    ? [(e = di(null, this.s, 1 / 0, 1 / 0))[0]]
                    : e)[0] || null,
              i = 0;
            i < e.length;
            i++
          ) {
            for (
              var r = e[i],
                a = isNaN(this.C) ? 1 : Math.abs(this.C),
                o = (a * r.bandwidth) / this.g.bandwidthDowngradeTarget,
                s = { bandwidth: 1 / 0 },
                u = i + 1;
              u < e.length;
              u++
            )
              if (r.bandwidth != e[u].bandwidth) {
                s = e[u];
                break;
              }
            (a = (a * s.bandwidth) / this.g.bandwidthUpgradeTarget),
              o <= t && t <= a && n.bandwidth != r.bandwidth && (n = r);
          }
          return (this.B = Date.now()), n;
        }),
        (n.enable = function () {
          this.l = !0;
        }),
        (n.disable = function () {
          this.l = !1;
        }),
        (n.segmentDownloaded = function (e, t) {
          if ((this.i.sample(e, t), null != this.B && this.l))
            e: {
              if (this.F) {
                if (Date.now() - this.B < 1e3 * this.g.switchInterval) break e;
              } else {
                var n = this.i;
                if (!(n.g >= n.i)) break e;
                this.F = !0;
              }
              (n = this.chooseVariant()),
                this.i.getBandwidthEstimate(ci(this)),
                n && this.m(n);
            }
        }),
        (n.getBandwidthEstimate = function () {
          return this.i.getBandwidthEstimate(ci(this));
        }),
        (n.setVariants = function (e) {
          this.s = e;
        }),
        (n.playbackRateChanged = function (e) {
          this.C = e;
        }),
        (n.setMediaElement = function (e) {
          var t = this;
          (this.j = e),
            this.h && (this.h.disconnect(), (this.h = null)),
            this.j &&
              "ResizeObserver" in N &&
              ((this.h = new ResizeObserver(function () {
                t.G.S(hi);
              })),
              this.h.observe(this.j));
        }),
        (n.configure = function (e) {
          (this.g = e), this.i && this.g && this.i.configure(this.g.advanced);
        }),
        t("shaka.abr.SimpleAbrManager", li);
      var hi = 1;
      function fi(e, t) {
        (this.g = e), (this.h = t);
      }
      function pi(e, t) {
        var n = new fi(5, 0),
          i = vi,
          r = i.g,
          a = n.h - r.h;
        (0 < (n.g - r.g || a) ? i.i : i.h)(i.g, n, e, t);
      }
      function gi(e, t, n, i) {
        k(
          [
            n,
            "has been deprecated and will be removed in",
            t,
            ". We are currently at version",
            e,
            ". Additional information:",
            i,
          ].join(" ")
        );
      }
      function mi(e, t, n, i) {
        re(
          [
            n,
            "has been deprecated and has been removed in",
            t,
            ". We are now at version",
            e,
            ". Additional information:",
            i,
          ].join("")
        );
      }
      fi.prototype.toString = function () {
        return "v" + this.g + "." + this.h;
      };
      var vi = null;
      function yi(e, t) {
        (this.h = e), (this.g = new Set([e]));
        for (var n = Ee((t = t || [])), i = n.next(); !i.done; i = n.next())
          this.add(i.value);
      }
      function bi(e, t) {
        var n, i;
        return (
          !(n =
            !!e.audio != !!t.audio ||
            !!e.video != !!t.video ||
            e.language != t.language) &&
            (n = e.audio && t.audio) &&
            ((n = e.audio),
            (i = t.audio),
            (n = !(
              (!(
                !n.channelsCount ||
                !i.channelsCount ||
                2 < n.channelsCount ||
                2 < i.channelsCount
              ) ||
                n.channelsCount == i.channelsCount) &&
              Ei(n, i) &&
              Ti(n.roles, i.roles)
            ))),
          !(n =
            !n && (n = e.video && t.video)
              ? !(Ei((n = e.video), (i = t.video)) && Ti(n.roles, i.roles))
              : n)
        );
      }
      function Ei(e, t) {
        if (e.mimeType == t.mimeType) {
          var n = e.codecs.split(",").map(function (e) {
              return kn(e)[0];
            }),
            i = t.codecs.split(",").map(function (e) {
              return kn(e)[0];
            });
          if (n.length == i.length) {
            n.sort(), i.sort();
            for (var r = 0; r < n.length; r++) if (n[r] != i[r]) return;
            return 1;
          }
        }
      }
      function Ti(e, t) {
        var n = new Set(e),
          i = new Set(t);
        if ((n.delete("main"), i.delete("main"), n.size == i.size)) {
          for (var r = (n = Ee(n)).next(); !r.done; r = n.next())
            if (!i.has(r.value)) return;
          return 1;
        }
      }
      function Ai(e) {
        (this.g = e),
          (this.h = new wi(
            e.language,
            "",
            e.audio && e.audio.channelsCount ? e.audio.channelsCount : 0,
            ""
          ));
      }
      function wi(e, t, n, i) {
        (this.i = e),
          (this.j = t),
          (this.g = n),
          (this.h = void 0 === i ? "" : i);
      }
      function Si() {
        (this.g = ki), (this.h = new Map().set(ki, 2).set(Ii, 1));
      }
      function xi(e, t, n) {
        e.h.set(ki, n).set(Ii, t);
      }
      t("shaka.config.AutoShowText", {
        NEVER: 0,
        ALWAYS: 1,
        IF_PREFERRED_TEXT_LANGUAGE: 2,
        IF_SUBTITLES_MAY_BE_NEEDED: 3,
      }),
        (yi.prototype.add = function (e) {
          return !!bi(this.h, e) && (this.g.add(e), !0);
        }),
        (yi.prototype.values = function () {
          return this.g.values();
        }),
        (Ai.prototype.create = function (e) {
          var t = this,
            n = e.filter(function (e) {
              return bi(t.g, e);
            });
          return n.length ? new yi(n[0], n) : this.h.create(e);
        }),
        (wi.prototype.create = function (e) {
          var t,
            n,
            i,
            r,
            a,
            o = [],
            s =
              ((r = e),
              (n = this.i),
              (o = (t = tt(C(n), r.map(et)))
                ? r.filter(function (e) {
                    return t == et(e);
                  })
                : []),
              e.filter(function (e) {
                return e.primary;
              })),
            o = o.length ? o : s.length ? s : e;
          for (
            n = o,
              i = this.j,
              (e = n.filter(function (e) {
                return (
                  !!e.audio &&
                  (i ? e.audio.roles.includes(i) : 0 == e.audio.roles.length)
                );
              })).length && (o = e),
              this.g && (e = Qn(o, this.g)).length && (o = e),
              this.h &&
                ((r = o),
                (a = this.h),
                (e = r.filter(function (e) {
                  return (
                    !!e.audio && e.audio.label.toLowerCase() == a.toLowerCase()
                  );
                })).length && (o = e)),
              e = new yi(o[0]),
              s = (o = Ee(o)).next();
            !s.done;
            s = o.next()
          )
            (s = s.value), bi(e.h, s) && e.add(s);
          return e;
        });
      var Ii = 0,
        ki = 1;
      function Ci(e, t) {
        var n = Li();
        (this.l = (null == e.maxAttempts ? n : e).maxAttempts),
          (this.j = (null == e.baseDelay ? n : e).baseDelay),
          (this.s = (null == e.fuzzFactor ? n : e).fuzzFactor),
          (this.m = (null == e.backoffFactor ? n : e).backoffFactor),
          (this.g = 0),
          (this.h = this.j),
          (this.i = void 0 !== t && t) && (this.g = 1);
      }
      function Mi(t) {
        var n, i;
        return Ie(function (e) {
          if (1 == e.g) {
            if (t.g >= t.l) {
              if (!t.i) throw new ke(2, 7, 1010);
              (t.g = 1), (t.h = t.j);
            }
            return ((n = t.g), t.g++, 0 == n)
              ? e.return()
              : ((i = t.h * (1 + (2 * Math.random() - 1) * t.s)),
                Te(
                  e,
                  new Promise(function (e) {
                    new M(e).S(i / 1e3);
                  }),
                  2
                ));
          }
          (t.h *= t.m), Ae(e);
        });
      }
      function Li() {
        return {
          maxAttempts: 2,
          baseDelay: 1e3,
          backoffFactor: 2,
          fuzzFactor: 0.5,
          timeout: 3e4,
          stallTimeout: 5e3,
          connectionTimeout: 1e4,
        };
      }
      function Ni(e, t) {
        (this.promise = e), (this.i = t), (this.g = !1);
      }
      function Ri(e) {
        return new Ni(Promise.reject(e), function () {
          return Promise.resolve();
        });
      }
      function _i() {
        var e = Promise.reject(new ke(2, 7, 7001));
        return (
          e.catch(function () {}),
          new Ni(e, function () {
            return Promise.resolve();
          })
        );
      }
      function Pi(e) {
        return new Ni(Promise.resolve(e), function () {
          return Promise.resolve();
        });
      }
      function Di(e) {
        return new Ni(e, function () {
          return e.catch(function () {});
        });
      }
      function Oi(e) {
        return new Ni(
          Promise.all(
            e.map(function (e) {
              return e.promise;
            })
          ),
          function () {
            return Promise.all(
              e.map(function (e) {
                return e.abort();
              })
            );
          }
        );
      }
      function Ui(e) {
        var a = new Set();
        return (function e(t) {
          switch (typeof t) {
            case "undefined":
            case "boolean":
            case "number":
            case "string":
            case "symbol":
            case "function":
              return t;
            default:
              if (!t || (t.buffer && t.buffer.constructor == ArrayBuffer))
                return t;
              if (a.has(t)) return null;
              var n = t.constructor == Array;
              if (t.constructor != Object && !n) return null;
              a.add(t);
              var i,
                r = n ? [] : {};
              for (i in t) r[i] = e(t[i]);
              return n && (r.length = t.length), r;
          }
        })(e);
      }
      function ji(e) {
        var t,
          n = {};
        for (t in e) n[t] = e[t];
        return n;
      }
      function Bi() {
        this.g = [];
      }
      function Fi(e, t) {
        e.g.push(
          t.finally(function () {
            dt(e.g, t);
          })
        );
      }
      function Gi(e, t, n) {
        h.call(this),
          (this.i = !1),
          (this.m = new Bi()),
          (this.g = new Set()),
          (this.h = new Set()),
          (this.l = e || null),
          (this.j = t || null),
          (this.B = n || null),
          (this.s = !1);
      }
      function Ki(e, t, n, i) {
        n = n || Wi;
        var r = qi[e];
        (!r || n >= r.priority) &&
          (qi[e] = { priority: n, rh: t, sh: void 0 !== i && i });
      }
      function zi(e, t, n) {
        return {
          uris: e,
          method: "GET",
          body: null,
          headers: {},
          allowCrossSiteCredentials: !1,
          retryParameters: t,
          licenseRequestType: null,
          sessionId: null,
          drmInfo: null,
          initData: null,
          initDataType: null,
          streamDataCallback: void 0 === n ? null : n,
        };
      }
      function Vi() {
        this.g = 0;
      }
      function Hi(e, t, n) {
        Ni.call(this, e, t), (this.h = n);
      }
      (Ni.prototype.abort = function () {
        return (this.g = !0), this.i();
      }),
        (Ni.prototype.finally = function (e) {
          return (
            this.promise.then(
              function () {
                return e(!0);
              },
              function () {
                return e(!1);
              }
            ),
            this
          );
        }),
        (Ni.prototype.ia = function (i, r) {
          function e(n) {
            return function (e) {
              var t;
              o.g && n
                ? s.reject(u)
                : (t = n ? i : r)
                ? (a = (function (e, t, n) {
                    try {
                      var i = e(t);
                      return i && i.promise && i.abort
                        ? (n.resolve(i.promise),
                          function () {
                            return i.abort();
                          })
                        : (n.resolve(i),
                          function () {
                            return Promise.resolve(i).then(
                              function () {},
                              function () {}
                            );
                          });
                    } catch (e) {
                      return (
                        n.reject(e),
                        function () {
                          return Promise.resolve();
                        }
                      );
                    }
                  })(t, e, s))
                : (n ? s.resolve : s.reject)(e);
            };
          }
          function a() {
            return s.reject(u), o.abort();
          }
          var o = this,
            s = new P(),
            u = new ke(2, 7, 7001);
          return (
            this.promise.then(e(!0), e(!1)),
            new Ni(s, function () {
              return a();
            })
          );
        }),
        t("shaka.util.AbortableOperation", Ni),
        (Ni.prototype.chain = Ni.prototype.ia),
        (Ni.all = Oi),
        (Ni.notAbortable = Di),
        (Ni.completed = Pi),
        (Ni.aborted = _i),
        (Ni.failed = Ri),
        (Bi.prototype.destroy = function () {
          for (var e = [], t = Ee(this.g), n = t.next(); !n.done; n = t.next())
            (n = n.value).promise.catch(function () {}), e.push(n.abort());
          return (this.g = []), Promise.all(e);
        }),
        e(Gi, h),
        ((n = Gi.prototype).Me = function (e) {
          this.s = e;
        }),
        (n.uh = function (e) {
          this.g.add(e);
        }),
        (n.Kh = function (e) {
          this.g.delete(e);
        }),
        (n.pg = function () {
          this.g.clear();
        }),
        (n.vh = function (e) {
          this.h.add(e);
        }),
        (n.Lh = function (e) {
          this.h.delete(e);
        }),
        (n.qg = function () {
          this.h.clear();
        }),
        (n.destroy = function () {
          return (
            (this.i = !0),
            this.g.clear(),
            this.h.clear(),
            h.prototype.release.call(this),
            this.m.destroy()
          );
        }),
        (n.request = function (s, e) {
          var u = this,
            t = new Vi();
          if (this.i)
            return (
              (n = Promise.reject(new ke(2, 7, 7001))).catch(function () {}),
              new Hi(
                n,
                function () {
                  return Promise.resolve();
                },
                t
              )
            );
          (e.method = e.method || "GET"),
            (e.headers = e.headers || {}),
            (e.retryParameters = e.retryParameters
              ? Ui(e.retryParameters)
              : Li()),
            (e.uris = Ui(e.uris));
          var n,
            i = (n = (function (e, t, n) {
              for (
                var i = Pi(void 0), r = {}, a = (e = Ee(e.g)).next();
                !a.done;
                r = { Zd: r.Zd }, a = e.next()
              )
                (r.Zd = a.value),
                  (i = i.ia(
                    (function (e) {
                      return function () {
                        return n.body && (n.body = Ot(n.body)), e.Zd(t, n);
                      };
                    })(r)
                  ));
              return i.ia(void 0, function (e) {
                if (e instanceof ke && 7001 == e.code) throw e;
                throw new ke(2, 1, 1006, e);
              });
            })(this, s, e)).ia(function () {
              return (function i(r, a, o, s, u, l, c) {
                r.s && (o.uris[u] = o.uris[u].replace("http://", "https://"));
                var e = new fe(o.uris[u]),
                  t = e.Va,
                  d = !1;
                t ||
                  ((t = location.protocol),
                  (t = t.slice(0, -1)),
                  pe(e, t),
                  (o.uris[u] = e.toString()));
                t = t.toLowerCase();
                var n = (t = qi[t]) ? t.rh : null;
                if (!n) return Ri(new ke(2, 1, 1e3, e));
                var h,
                  f = t.sh,
                  p = null,
                  g = null,
                  m = !1,
                  v = !1;
                return Di(Mi(s))
                  .ia(function () {
                    if (r.i) return _i();
                    h = Date.now();
                    var e = n(
                      o.uris[u],
                      o,
                      a,
                      function (e, t, n) {
                        p && p.stop(),
                          g && g.S(i / 1e3),
                          r.l && a == Xi && (r.l(e, t), (d = !0), (c.g = n));
                      },
                      function (e) {
                        r.j && r.j(e, o, a), (v = !0);
                      }
                    );
                    if (!f) return e;
                    var t = o.retryParameters.connectionTimeout,
                      i =
                        (t &&
                          (p = new M(function () {
                            (m = !0), e.abort();
                          })).S(t / 1e3),
                        o.retryParameters.stallTimeout);
                    return (
                      i &&
                        (g = new M(function () {
                          (m = !0), e.abort();
                        })),
                      e
                    );
                  })
                  .ia(
                    function (e) {
                      p && p.stop(),
                        g && g.stop(),
                        null == e.timeMs && (e.timeMs = Date.now() - h);
                      var t = { response: e, dh: d };
                      return !v && r.j && r.j(e.headers, o, a), t;
                    },
                    function (e) {
                      var t, n;
                      if (
                        (p && p.stop(),
                        g && g.stop(),
                        r.B &&
                          ((t = null),
                          (n = 0),
                          e instanceof ke &&
                            1001 == (t = e).code &&
                            (n = e.data[1]),
                          r.B(o, t, n, m)),
                        r.i)
                      )
                        return _i();
                      if (
                        (e = m
                          ? new ke(1, 1, 1003, o.uris[u], a)
                          : e) instanceof ke
                      ) {
                        if (7001 == e.code) throw e;
                        if (1010 == e.code) throw l;
                        if (1 == e.severity)
                          return (
                            (t = new _(
                              "retry",
                              (t = new Map().set("error", e))
                            )),
                            r.dispatchEvent(t),
                            (u = (u + 1) % o.uris.length),
                            i(r, a, o, s, u, e, c)
                          );
                      }
                      throw e;
                    }
                  );
              })(u, s, e, new Ci(e.retryParameters, !1), 0, null, t);
            }),
            r = i.ia(function (e) {
              for (
                var t = u,
                  n = s,
                  i = e,
                  r = Pi(void 0),
                  a = {},
                  o = (t = Ee(t.h)).next();
                !o.done;
                a = { $d: a.$d }, o = t.next()
              )
                (a.$d = o.value),
                  (r = r.ia(
                    (function (t) {
                      return function () {
                        var e = i.response;
                        return e.data && (e.data = Ot(e.data)), t.$d(n, e);
                      };
                    })(a)
                  ));
              return r.ia(
                function () {
                  return i;
                },
                function (e) {
                  var t = 2;
                  if (e instanceof ke) {
                    if (7001 == e.code) throw e;
                    t = e.severity;
                  }
                  throw new ke(t, 1, 1007, e);
                }
              );
            }),
            a = Date.now(),
            o = 0,
            l =
              (n.promise.then(
                function () {
                  o = Date.now() - a;
                },
                function () {}
              ),
              0),
            c =
              (i.promise.then(
                function () {
                  l = Date.now();
                },
                function () {}
              ),
              r.ia(
                function (e) {
                  var t = Date.now() - l,
                    n = e.response;
                  return (
                    (n.timeMs += o),
                    (n.timeMs += t),
                    e.dh ||
                      !u.l ||
                      n.fromCache ||
                      s != Xi ||
                      u.l(n.timeMs, n.data.byteLength),
                    n
                  );
                },
                function (e) {
                  throw (e && (e.severity = 2), e);
                }
              ));
          return (
            (n = new Hi(
              c.promise,
              function () {
                return c.abort();
              },
              t
            )),
            Fi(this.m, n),
            n
          );
        }),
        t("shaka.net.NetworkingEngine", Gi),
        (Gi.makeRequest = zi),
        (Gi.defaultRetryParameters = Li),
        (Gi.prototype.clearAllResponseFilters = Gi.prototype.qg),
        (Gi.prototype.unregisterResponseFilter = Gi.prototype.Lh),
        (Gi.prototype.registerResponseFilter = Gi.prototype.vh),
        (Gi.prototype.clearAllRequestFilters = Gi.prototype.pg),
        (Gi.prototype.unregisterRequestFilter = Gi.prototype.Kh),
        (Gi.prototype.registerRequestFilter = Gi.prototype.uh),
        (Gi.unregisterScheme = function (e) {
          delete qi[e];
        }),
        (Gi.registerScheme = Ki),
        (Gi.prototype.setForceHTTPS = Gi.prototype.Me),
        (Gi.NumBytesRemainingClass = Vi),
        e(Hi, Ni),
        (Gi.PendingRequest = Hi);
      var Xi = 1,
        Wi =
          ((Gi.RequestType = {
            MANIFEST: 0,
            SEGMENT: Xi,
            LICENSE: 2,
            APP: 3,
            TIMING: 4,
            SERVER_CERTIFICATE: 5,
            KEY: 6,
          }),
          3),
        qi =
          ((Gi.PluginPriority = { FALLBACK: 1, PREFERRED: 2, APPLICATION: Wi }),
          {});
      function Yi(e) {
        (this.g = !1), (this.h = new P()), (this.i = e);
      }
      function O(e, t) {
        if (e.g) {
          if (t instanceof ke && 7003 == t.code) throw t;
          throw new ke(2, 7, 7003, t);
        }
      }
      function f() {
        this.g = new ue();
      }
      function $i(e, t, n, i) {
        (this.target = e),
          (this.type = t),
          (this.listener = n),
          (this.g = (function (e, t) {
            if (null == t) return !1;
            if ("boolean" == typeof t) return t;
            var n = new Set(["passive", "capture"]);
            return (
              Object.keys(t).filter(function (e) {
                return !n.has(e);
              }),
              (function (e) {
                var t = Ji;
                if (null == t) {
                  t = !1;
                  try {
                    var n = {},
                      i = {
                        get: function () {
                          return !(t = !0);
                        },
                      };
                    Object.defineProperty(n, "passive", i),
                      Object.defineProperty(n, "capture", i),
                      (i = function () {}),
                      e.addEventListener("test", i, n),
                      e.removeEventListener("test", i, n);
                  } catch (e) {
                    t = !1;
                  }
                  Ji = t;
                }
                return t;
              })(e)
                ? t
                : t.capture || !1
            );
          })(e, i)),
          this.target.addEventListener(t, n, this.g);
      }
      (Yi.prototype.destroy = function () {
        var e = this;
        return this.g
          ? this.h
          : ((this.g = !0),
            this.i().then(
              function () {
                e.h.resolve();
              },
              function () {
                e.h.resolve();
              }
            ));
      }),
        ((n = f.prototype).release = function () {
          this.Rb(), (this.g = null);
        }),
        (n.o = function (e, t, n, i) {
          this.g && ((e = new $i(e, t, n, i)), this.g.push(t, e));
        }),
        (n.Ea = function (n, i, r, e) {
          var a = this;
          this.o(
            n,
            i,
            function e(t) {
              a.pc(n, i, e), r(t);
            },
            e
          );
        }),
        (n.pc = function (e, t, n) {
          if (this.g)
            for (
              var i = this.g.get(t) || [], r = (i = Ee(i)).next();
              !r.done;
              r = i.next()
            )
              (r = r.value).target != e ||
                (n != r.listener && n) ||
                (r.pc(), this.g.remove(t, r));
        }),
        (n.Rb = function () {
          if (this.g) {
            var e,
              t = this.g,
              n = [];
            for (e in t.g) n.push.apply(n, I(t.g[e]));
            for (n = (t = Ee(n)).next(); !n.done; n = t.next()) n.value.pc();
            this.g.g = {};
          }
        }),
        t("shaka.util.EventManager", f),
        (f.prototype.removeAll = f.prototype.Rb),
        (f.prototype.unlisten = f.prototype.pc),
        (f.prototype.listenOnce = f.prototype.Ea),
        (f.prototype.listen = f.prototype.o),
        ($i.prototype.pc = function () {
          this.target.removeEventListener(this.type, this.listener, this.g),
            (this.listener = this.target = null),
            (this.g = !1);
        });
      var Ji = void 0;
      function Qi(e) {
        for (
          var t = new Map(), n = Ee(Object.keys(e)), i = n.next();
          !i.done;
          i = n.next()
        )
          (i = i.value), t.set(i, e[i]);
        return t;
      }
      function Zi(e) {
        var n = {};
        return (
          e.forEach(function (e, t) {
            n[t] = e;
          }),
          n
        );
      }
      function D(e, t) {
        (this.W = Ut(e)), (this.h = t == tr), (this.g = 0);
      }
      function er() {
        return new ke(2, 3, 3e3);
      }
      ((n = D.prototype).Ca = function () {
        return this.g < this.W.byteLength;
      }),
        (n.na = function () {
          return this.g;
        }),
        (n.Jg = function () {
          return this.W.byteLength;
        }),
        (n.ob = function () {
          try {
            var e = this.W.getUint8(this.g);
            return (this.g += 1), e;
          } catch (e) {
            throw er();
          }
        }),
        (n.Ce = function () {
          try {
            var e = this.W.getUint16(this.g, this.h);
            return (this.g += 2), e;
          } catch (e) {
            throw er();
          }
        }),
        (n.P = function () {
          try {
            var e = this.W.getUint32(this.g, this.h);
            return (this.g += 4), e;
          } catch (e) {
            throw er();
          }
        }),
        (n.Qf = function () {
          try {
            var e = this.W.getInt32(this.g, this.h);
            return (this.g += 4), e;
          } catch (e) {
            throw er();
          }
        }),
        (n.Db = function () {
          try {
            var e, t;
            this.h
              ? ((e = this.W.getUint32(this.g, !0)),
                (t = this.W.getUint32(this.g + 4, !0)))
              : ((t = this.W.getUint32(this.g, !1)),
                (e = this.W.getUint32(this.g + 4, !1)));
          } catch (e) {
            throw er();
          }
          if (2097151 < t) throw new ke(2, 3, 3001);
          return (this.g += 8), t * Math.pow(2, 32) + e;
        }),
        (n.Cb = function (e) {
          if (this.g + e > this.W.byteLength) throw er();
          var t = R(this.W, this.g, e);
          return (this.g += e), t;
        }),
        (n.skip = function (e) {
          if (this.g + e > this.W.byteLength) throw er();
          this.g += e;
        }),
        (n.Dh = function (e) {
          if (this.g < e) throw er();
          this.g -= e;
        }),
        (n.seek = function (e) {
          if (e < 0 || e > this.W.byteLength) throw er();
          this.g = e;
        }),
        (n.Tc = function () {
          for (var e = this.g; this.Ca() && 0 != this.W.getUint8(this.g); )
            this.g += 1;
          return (e = R(this.W, e, this.g - e)), (this.g += 1), en(e);
        }),
        t("shaka.util.DataViewReader", D),
        (D.prototype.readTerminatedString = D.prototype.Tc),
        (D.prototype.rewind = D.prototype.Dh),
        (D.prototype.readBytes = D.prototype.Cb),
        (D.prototype.readUint64 = D.prototype.Db),
        (D.prototype.readInt32 = D.prototype.Qf),
        (D.prototype.readUint32 = D.prototype.P),
        (D.prototype.readUint16 = D.prototype.Ce),
        (D.prototype.readUint8 = D.prototype.ob),
        (D.prototype.getLength = D.prototype.Jg),
        (D.prototype.getPosition = D.prototype.na),
        (D.prototype.hasMoreData = D.prototype.Ca);
      var tr = 1;
      function nr() {
        (this.i = []), (this.h = []), (this.g = !1);
      }
      function ir(e) {
        for (var t = ur(e); e.reader.Ca() && !e.parser.g; )
          e.parser.Gd(e.start + t, e.reader, e.partialOkay);
      }
      function rr(e) {
        for (
          var t = ur(e), n = e.reader.P(), i = 0;
          i < n &&
          (e.parser.Gd(e.start + t, e.reader, e.partialOkay), !e.parser.g);
          i++
        );
      }
      function ar(t) {
        return function (e) {
          t(e.reader.Cb(e.reader.W.byteLength - e.reader.na()));
        };
      }
      function or(e) {
        for (var t = 0, n = (e = Ee(e)).next(); !n.done; n = e.next())
          t = (t << 8) | n.value.charCodeAt(0);
        return t;
      }
      function sr(e) {
        return String.fromCharCode(
          (e >> 24) & 255,
          (e >> 16) & 255,
          (e >> 8) & 255,
          255 & e
        );
      }
      function ur(e) {
        return 8 + (e.has64BitSize ? 8 : 0) + (null != e.flags ? 4 : 0);
      }
      (D.Endianness = { BIG_ENDIAN: 0, LITTLE_ENDIAN: tr }),
        ((n = nr.prototype).box = function (e, t) {
          e = or(e);
          return (this.i[e] = lr), (this.h[e] = t), this;
        }),
        (n.X = function (e, t) {
          e = or(e);
          return (this.i[e] = cr), (this.h[e] = t), this;
        }),
        (n.stop = function () {
          this.g = !0;
        }),
        (n.parse = function (e, t, n) {
          for (e = new D(e, 0), this.g = !1; e.Ca() && !this.g; )
            this.Gd(0, e, t, n);
        }),
        (n.Gd = function (e, t, n, i) {
          var r = t.na();
          if (i && r + 8 > t.W.byteLength) this.g = !0;
          else {
            var a = t.P(),
              o = t.P(),
              s = !1;
            switch (a) {
              case 0:
                a = t.W.byteLength - r;
                break;
              case 1:
                if (i && t.na() + 8 > t.W.byteLength) return void (this.g = !0);
                (a = t.Db()), (s = !0);
            }
            var u = this.h[o];
            if (u) {
              var l = null,
                c = null;
              if (this.i[o] == cr) {
                if (i && t.na() + 4 > t.W.byteLength) return void (this.g = !0);
                (l = (c = t.P()) >>> 24), (c &= 16777215);
              }
              (o = r + a),
                n && o > t.W.byteLength && (o = t.W.byteLength),
                i && o > t.W.byteLength
                  ? (this.g = !0)
                  : u({
                      parser: this,
                      partialOkay: n || !1,
                      version: l,
                      flags: c,
                      reader: (t = new D(
                        (t =
                          0 < (i = o - t.na()) ? t.Cb(i) : new Uint8Array(0)),
                        0
                      )),
                      size: a,
                      start: r + e,
                      has64BitSize: s,
                    });
            } else t.skip(Math.min(r + a - t.na(), t.W.byteLength - t.na()));
          }
        }),
        t("shaka.util.Mp4Parser", nr),
        (nr.headerSize = ur),
        (nr.typeToString = sr),
        (nr.allData = ar),
        (nr.sampleDescription = rr),
        (nr.children = ir),
        (nr.prototype.parseNext = nr.prototype.Gd),
        (nr.prototype.fullBox = nr.prototype.X);
      var lr = 0,
        cr = 1;
      function dr(e) {
        var r = this;
        (this.g = []),
          (this.h = []),
          (this.data = []),
          new nr()
            .box("moov", ir)
            .box("moof", ir)
            .X("pssh", function (e) {
              if (!(1 < e.version)) {
                var t = R(e.reader.W, -12, e.size);
                if (
                  (r.data.push(t), r.g.push(hn(e.reader.Cb(16))), 0 < e.version)
                )
                  for (var t = e.reader.P(), n = 0; n < t; n++) {
                    var i = hn(e.reader.Cb(16));
                    r.h.push(i);
                  }
              }
            })
            .parse(e);
      }
      function hr(e, t, n, i) {
        var r = e.length,
          a = t.length + 16 + r,
          o = (0 < i && (a += 4 + 16 * n.size), new Uint8Array(a)),
          s = Ut(o),
          u = 0;
        if (
          (s.setUint32(u, a),
          s.setUint32((u += 4), 1886614376),
          (u += 4),
          i < 1 ? s.setUint32(u, 0) : s.setUint32(u, 16777216),
          o.set(t, (u += 4)),
          (u += t.length),
          0 < i)
        )
          for (
            s.setUint32(u, n.size), u += 4, n = (t = Ee(n)).next();
            !n.done;
            n = t.next()
          )
            (n = dn(n.value)), o.set(n, u), (u += n.length);
        return s.setUint32(u, r), o.set(e, u + 4), o;
      }
      function fr(e, t) {
        e = gr(e, t);
        return 1 != e.length ? null : e[0];
      }
      function pr(e, t, n) {
        return 1 != (e = mr(e, t, n)).length ? null : e[0];
      }
      function gr(e, t) {
        for (
          var n = [], i = Ee(e.childNodes), r = i.next();
          !r.done;
          r = i.next()
        )
          (r = r.value) instanceof Element && r.tagName == t && n.push(r);
        return n;
      }
      function mr(e, t, n) {
        for (
          var i = [], r = (e = Ee(e.childNodes)).next();
          !r.done;
          r = e.next()
        )
          (r = r.value) instanceof Element &&
            r.localName == n &&
            r.namespaceURI == t &&
            i.push(r);
        return i;
      }
      function vr(e, t, n) {
        return e.hasAttributeNS(t, n) ? e.getAttributeNS(t, n) : null;
      }
      function yr(e, t, n) {
        for (var i = (t = Ee(t)).next(); !i.done; i = t.next())
          if (((i = i.value), e.hasAttributeNS(i, n)))
            return e.getAttributeNS(i, n);
        return null;
      }
      function br(e) {
        return Array.from(e.childNodes).every(Er) ? e.textContent.trim() : null;
      }
      function Er(e) {
        return (
          e.nodeType == Node.TEXT_NODE || e.nodeType == Node.CDATA_SECTION_NODE
        );
      }
      function U(e, t, n, i) {
        i = void 0 === i ? null : i;
        var r = null;
        return null == (r = null != (e = e.getAttribute(t)) ? n(e) : r) ? i : r;
      }
      function Tr(e) {
        return e
          ? (/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e) && (e += "Z"),
            (e = Date.parse(e)),
            isNaN(e) ? null : e / 1e3)
          : null;
      }
      function Ar(e) {
        return (e =
          e &&
          RegExp(
            "^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$"
          ).exec(e))
          ? ((e =
              31536e3 * Number(e[1] || null) +
              2592e3 * Number(e[2] || null) +
              86400 * Number(e[3] || null) +
              3600 * Number(e[4] || null) +
              60 * Number(e[5] || null) +
              Number(e[6] || null)),
            isFinite(e) ? e : null)
          : null;
      }
      function wr(e) {
        var t = /([0-9]+)-([0-9]+)/.exec(e);
        return t
          ? ((e = Number(t[1])),
            isFinite(e)
              ? ((t = Number(t[2])), isFinite(t) ? { start: e, end: t } : null)
              : null)
          : null;
      }
      function Sr(e) {
        return 0 == (e = Number(e)) % 1 ? e : null;
      }
      function xr(e) {
        return 0 == (e = Number(e)) % 1 && 0 < e ? e : null;
      }
      function Ir(e) {
        return 0 == (e = Number(e)) % 1 && 0 <= e ? e : null;
      }
      function kr(e) {
        return (e = Number(e)), isNaN(e) ? null : e;
      }
      function Cr(e) {
        var t = (t = e.match(/^(\d+)\/(\d+)$/))
          ? Number(t[1]) / Number(t[2])
          : Number(e);
        return isNaN(t) ? null : t;
      }
      function Mr(e, t) {
        var n = new DOMParser(),
          i = Nr.value()(e),
          r = null;
        try {
          r = n.parseFromString(i, "text/xml");
        } catch (e) {
          return null;
        }
        if (
          !(n = r.documentElement) ||
          n.getElementsByTagName("parsererror").length ||
          n.tagName != t
        )
          return null;
        for (
          r = document.createNodeIterator(r, NodeFilter.SHOW_ALL);
          (i = r.nextNode());

        )
          if (i instanceof HTMLElement || i instanceof SVGElement) return null;
        return n;
      }
      function Lr(e, t) {
        try {
          return Mr(en(e), t);
        } catch (e) {
          return null;
        }
      }
      var Nr = new Bt(function () {
        var t;
        return "undefined" != typeof trustedTypes
          ? ((t = trustedTypes.createPolicy("shaka-player#xml", {
              createHTML: function (e) {
                return e;
              },
            })),
            function (e) {
              return t.createHTML(e);
            })
          : function (e) {
              return e;
            };
      });
      function Rr(t, e) {
        var i = this;
        (e = void 0 === e ? 1 : e),
          (this.G = t),
          (this.I = new Set()),
          (this.l = this.C = null),
          (this.aa = this.Y = !1),
          (this.J = 0),
          (this.g = null),
          (this.B = new f()),
          (this.i = new Map()),
          (this.F = []),
          (this.s = new P()),
          (this.h = null),
          (this.m = function (e) {
            i.s.reject(e), t.onError(e);
          }),
          (this.ba = new Map()),
          (this.$ = new Map()),
          (this.R = new M(function () {
            return (
              (t = (e = i).ba),
              (n = e.$).clear(),
              t.forEach(function (e, t) {
                return n.set(t, e);
              }),
              (t = Array.from(n.values())).length &&
                t.every(function (e) {
                  return "expired" == e;
                }) &&
                e.m(new ke(2, 6, 6014)),
              void e.G.Ed(Zi(n))
            );
            var e, t, n;
          })),
          (this.M = !1),
          (this.K = []),
          (this.O = !1),
          (this.sa = new M(function () {
            var r;
            (r = i).i.forEach(function (e, t) {
              var n = e.Ae,
                i = t.expiration;
              (i = isNaN(i) ? 1 / 0 : i) != n &&
                (r.G.onExpirationUpdated(t.sessionId, i), (e.Ae = i));
            });
          }).ha(e)),
          this.s.catch(function () {}),
          (this.j = new Yi(function () {
            return (
              (t = i),
              Ie(function (e) {
                switch (e.g) {
                  case 1:
                    return (
                      t.B.release(),
                      (t.B = null),
                      t.s.reject(),
                      t.sa.stop(),
                      (t.sa = null),
                      t.R.stop(),
                      (t.R = null),
                      Te(e, Hr(t), 2)
                    );
                  case 2:
                    if (t.l) return we(e, 4), Te(e, t.l.setMediaKeys(null), 6);
                    e.D(3);
                    break;
                  case 6:
                    Se(e, 5);
                    break;
                  case 4:
                    xe(e);
                  case 5:
                    t.l = null;
                  case 3:
                    (t.g = null),
                      t.I.clear(),
                      (t.C = null),
                      (t.F = []),
                      (t.h = null),
                      (t.m = function () {}),
                      (t.G = null),
                      (t.U = !1),
                      (t.H = null),
                      Ae(e);
                }
              })
            );
            var t;
          })),
          (this.U = !1),
          (this.H = null);
      }
      function _r(e, t, n) {
        return (e.F = n), (e.M = 0 < n.length), Pr(e, t);
      }
      function Pr(d, h) {
        var f, p, g, m, v, y, b, E, T, A, w;
        return Ie(function (e) {
          if (1 != e.g)
            return v || Object.keys(d.h.servers).length
              ? ((w = Gr(d, void 0, h)),
                e.return(v ? w : w.catch(function () {})))
              : ((d.Y = !0), e.return(Promise.resolve()));
          var t, n, i, r, a;
          if (
            (f = (function (e) {
              if (0 == (e = Qi(e.h.clearKeys)).size) return null;
              var t,
                i = [],
                r = [];
              return (
                e.forEach(function (e, t) {
                  var n = t,
                    t = (22 != n.length && (n = ln(dn(t), !1)), e);
                  22 != t.length && (t = ln(dn(e), !1)),
                    i.push((n = { kty: "oct", kid: n, k: t })),
                    r.push(n.kid);
                }),
                (e = JSON.stringify({ keys: i })),
                (t = [
                  {
                    initData: R(rn((t = JSON.stringify({ kids: r })))),
                    initDataType: "keyids",
                  },
                ]),
                {
                  keySystem: "org.w3.clearkey",
                  licenseServerUri: "data:application/json;base64," + N.btoa(e),
                  distinctiveIdentifierRequired: !1,
                  persistentStateRequired: !1,
                  audioRobustness: "",
                  videoRobustness: "",
                  serverCertificate: null,
                  serverCertificateUri: "",
                  sessionType: "",
                  initData: t,
                  keyIds: new Set(r),
                }
              );
            })(d))
          )
            for (p = Ee(h), g = p.next(); !g.done; g = p.next())
              (m = g.value).video && (m.video.drmInfos = [f]),
                m.audio && (m.audio.drmInfos = [f]);
          if (
            !(v = h.some(function (e) {
              return !!(
                (e.video && e.video.drmInfos.length) ||
                (e.audio && e.audio.drmInfos.length)
              );
            }))
          ) {
            w = Qi(d.h.servers);
            var o = h,
              s,
              u = [];
            w.forEach(function (e, t) {
              u.push({
                keySystem: t,
                licenseServerUri: e,
                distinctiveIdentifierRequired: !1,
                persistentStateRequired: !1,
                audioRobustness: "",
                videoRobustness: "",
                serverCertificate: null,
                serverCertificateUri: "",
                initData: [],
                keyIds: new Set(),
              });
            });
            for (var l = Ee(o), c = l.next(); !c.done; c = l.next())
              (c = c.value).video && (c.video.drmInfos = u),
                c.audio && (c.audio.drmInfos = u);
          }
          for (y = Ee(h), g = y.next(); !g.done; g = y.next())
            for (
              b = g.value, b = Wr(b), E = Ee(b), T = E.next();
              !T.done;
              T = E.next()
            )
              (A = T.value),
                (t = A),
                (n = Qi(d.h.servers)),
                (i = Qi(d.h.advanced || {})),
                (r = d.h.keySystemsMapping),
                (a = void 0),
                !(a = t.keySystem) ||
                  ("org.w3.clearkey" == a && t.licenseServerUri) ||
                  (n.size && ((n = n.get(a) || ""), (t.licenseServerUri = n)),
                  t.keyIds || (t.keyIds = new Set()),
                  (i = i.get(a)) &&
                    (t.distinctiveIdentifierRequired ||
                      (t.distinctiveIdentifierRequired =
                        i.distinctiveIdentifierRequired),
                    t.persistentStateRequired ||
                      (t.persistentStateRequired = i.persistentStateRequired),
                    t.videoRobustness ||
                      (t.videoRobustness = i.videoRobustness),
                    t.audioRobustness ||
                      (t.audioRobustness = i.audioRobustness),
                    t.serverCertificate ||
                      (t.serverCertificate = i.serverCertificate),
                    i.sessionType && (t.sessionType = i.sessionType),
                    t.serverCertificateUri ||
                      (t.serverCertificateUri = i.serverCertificateUri)),
                  r[a] && (t.keySystem = r[a]),
                  N.cast &&
                    N.cast.__platform__ &&
                    "com.microsoft.playready" == a &&
                    (t.keySystem = "com.chromecast.playready"));
          return Te(e, Bn(h, d.M, d.U), 2);
        });
      }
      function Dr(t) {
        var n;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if (t.l.mediaKeys) return e.return();
              if (t.H) return Te(e, t.H, 3);
              e.D(2);
              break;
            case 3:
              return O(t.j), e.return();
            case 2:
              return we(e, 4), (t.H = t.l.setMediaKeys(t.C)), Te(e, t.H, 6);
            case 6:
              Se(e, 5);
              break;
            case 4:
              (n = xe(e)), t.m(new ke(2, 6, 6003, n.message));
            case 5:
              O(t.j), Ae(e);
          }
        });
      }
      function Or(t) {
        var n;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if (!t.C || !t.g) return e.return();
              if (
                !t.g.serverCertificateUri ||
                (t.g.serverCertificate && t.g.serverCertificate.length)
              ) {
                e.D(2);
                break;
              }
              return (
                (n = zi([t.g.serverCertificateUri], t.h.retryParameters)),
                we(e, 3),
                Te(e, t.G.Pb.request(5, n).promise, 5)
              );
            case 5:
              (n = e.h), (t.g.serverCertificate = R(n.data)), Se(e, 4);
              break;
            case 3:
              throw new ke(2, 6, 6017, xe(e));
            case 4:
              if (t.j.g) return e.return();
            case 2:
              return t.g.serverCertificate && t.g.serverCertificate.length
                ? (we(e, 6),
                  Te(e, t.C.setServerCertificate(t.g.serverCertificate), 8))
                : e.return();
            case 8:
              Se(e, 0);
              break;
            case 6:
              throw new ke(2, 6, 6004, xe(e).message);
          }
        });
      }
      function Ur(e) {
        for (
          var t = (e.g ? e.g.initData : []) || [], n = Ee(t), i = n.next();
          !i.done;
          i = n.next()
        )
          jr(e, (i = i.value).initDataType, i.initData);
        for (i = (n = Ee(e.F)).next(); !i.done; i = n.next()) Kr(e, i.value);
        return t.length || e.F.length || e.s.resolve(), e.s;
      }
      function jr(e, t, n) {
        if (n.length) {
          for (
            var i = e.i.values(), r = (i = Ee(i)).next();
            !r.done;
            r = i.next()
          )
            if (Pt(n, r.value.initData) && !Yt("Tizen 2")) return;
          0 < e.i.size &&
            qr(e) &&
            (e.s.resolve(), (e.s = new P()), e.s.catch(function () {}));
          var a = e,
            o = n,
            e = e.g.sessionType;
          try {
            var s = a.C.createSession(e);
          } catch (e) {
            return void a.m(new ke(2, 6, 6005, e.message));
          }
          a.B.o(s, "message", function (e) {
            a.l && a.h.delayLicenseRequestUntilPlayed && a.l.paused && !a.O
              ? a.K.push(e)
              : zr(a, e);
          }),
            a.B.o(s, "keystatuseschange", function (e) {
              return Vr(a, e);
            }),
            a.i.set(s, {
              initData: o,
              initDataType: t,
              loaded: !1,
              Ae: 1 / 0,
              cb: null,
              type: e,
            });
          try {
            o = a.h.initDataTransform(o, t, a.g);
          } catch (e) {
            return void ((t = e) instanceof ke || (t = new ke(2, 6, 6016, e)),
            a.m(t));
          }
          a.h.logLicenseExchange && ln(o),
            s.generateRequest(t, o).catch(function (e) {
              var t, n;
              a.j.g ||
                (a.i.delete(s),
                (t = e.errorCode) &&
                  t.systemCode &&
                  ((n = t.systemCode) < 0 && (n += Math.pow(2, 32)),
                  (n = "0x" + n.toString(16))),
                a.m(new ke(2, 6, 6006, e.message, e, n)));
            });
        }
      }
      function Br(e) {
        return e && e.match(/^com\.(microsoft|chromecast)\.playready/);
      }
      function Fr(e) {
        return (
          (e = Le((e = e.i.keys()), function (e) {
            return e.sessionId;
          })),
          Array.from(e)
        );
      }
      function Gr(w, S, x) {
        var I, k, C, M, L, N, R, _, P, D;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if (((I = new Map()), x.length)) {
                (k = (function (e, t, n) {
                  for (var i = Ee(t), r = i.next(); !r.done; r = i.next()) {
                    var a = Ee(Wr(r.value));
                    for (r = a.next(); !r.done; r = a.next())
                      (r = r.value),
                        n.has(r.keySystem) || n.set(r.keySystem, []),
                        n.get(r.keySystem).push(r);
                  }
                  if (1 == n.size && n.has("")) throw new ke(2, 6, 6e3);
                  for (
                    i = {}, e = Ee(e.h.preferredKeySystems), r = e.next();
                    !r.done;
                    i = { Xd: i.Xd }, r = e.next()
                  )
                    for (
                      i.Xd = r.value, a = Ee(t), r = a.next();
                      !r.done;
                      r = a.next()
                    )
                      if (
                        (r = r.value.decodingInfos.find(
                          (function (t) {
                            return function (e) {
                              return (
                                e.supported &&
                                null != e.keySystemAccess &&
                                e.keySystemAccess.keySystem == t.Xd
                              );
                            };
                          })(i)
                        ))
                      )
                        return r.keySystemAccess;
                  for (e = Ee([!0, !1]), r = e.next(); !r.done; r = e.next())
                    for (
                      i = r.value, a = Ee(t), r = a.next();
                      !r.done;
                      r = a.next()
                    ) {
                      var o = Ee(r.value.decodingInfos);
                      for (r = o.next(); !r.done; r = o.next()) {
                        var s = r.value;
                        if (s.supported && s.keySystemAccess) {
                          var u = Ee((r = n.get(s.keySystemAccess.keySystem)));
                          for (r = u.next(); !r.done; r = u.next())
                            if (!!r.value.licenseServerUri == i)
                              return s.keySystemAccess;
                        }
                      }
                    }
                  return null;
                })(w, x, I)),
                  e.D(2);
                break;
              }
              return Te(
                e,
                ((l = w),
                (c = S),
                Ie(function (e) {
                  switch (e.g) {
                    case 1:
                      if (1 == c.size && c.has("")) throw new ke(2, 6, 6e3);
                      for (
                        h = Ee(c.values()), f = h.next();
                        !f.done;
                        f = h.next()
                      )
                        0 == (p = f.value).audioCapabilities.length &&
                          delete p.audioCapabilities,
                          0 == p.videoCapabilities.length &&
                            delete p.videoCapabilities;
                      (g = Ee(l.h.preferredKeySystems)), (m = g.next());
                    case 2:
                      if (m.done) {
                        e.D(4);
                        break;
                      }
                      if (((T = m.value), c.has(T)))
                        return (
                          (A = c.get(T)),
                          we(e, 6),
                          Te(
                            e,
                            navigator.requestMediaKeySystemAccess(T, [A]),
                            8
                          )
                        );
                      e.D(3);
                      break;
                    case 8:
                      return (d = e.h), e.return(d);
                    case 6:
                      xe(e);
                    case 7:
                      O(l.j);
                    case 3:
                      (m = g.next()), e.D(2);
                      break;
                    case 4:
                      (v = Ee([!0, !1])), (y = v.next());
                    case 9:
                      if (y.done) {
                        e.D(11);
                        break;
                      }
                      (b = y.value), (E = Ee(c.keys())), (m = E.next());
                    case 12:
                      if (m.done) {
                        (y = v.next()), e.D(9);
                        break;
                      }
                      if (
                        ((T = m.value),
                        (A = c.get(T)),
                        A.drmInfos.some(function (e) {
                          return !!e.licenseServerUri;
                        }) == b)
                      )
                        return (
                          we(e, 15),
                          Te(
                            e,
                            navigator.requestMediaKeySystemAccess(T, [A]),
                            17
                          )
                        );
                      e.D(13);
                      break;
                    case 17:
                      return (d = e.h), e.return(d);
                    case 15:
                      xe(e);
                    case 16:
                      O(l.j);
                    case 13:
                      (m = E.next()), e.D(12);
                      break;
                    case 11:
                      return e.return(d);
                  }
                })),
                3
              );
            case 3:
              k = e.h;
            case 2:
              if (!(C = k)) throw new ke(2, 6, 6001);
              for (
                O(w.j),
                  we(e, 4),
                  w.I.clear(),
                  D = C.getConfiguration(),
                  P = D.audioCapabilities || [],
                  D = D.videoCapabilities || [],
                  M = Ee(P),
                  L = M.next();
                !L.done;
                L = M.next()
              )
                (N = L.value), w.I.add(N.contentType.toLowerCase());
              for (R = Ee(D), L = R.next(); !L.done; L = R.next())
                (_ = L.value), w.I.add(_.contentType.toLowerCase());
              if (x.length) {
                for (
                  var t = C.keySystem,
                    n = I.get(C.keySystem),
                    i = [],
                    r = [],
                    a = [],
                    o = [],
                    s = new Set(),
                    u =
                      (Yr(n, i, a, r, o, s),
                      w.M ? "persistent-license" : "temporary"),
                    t = {
                      keySystem: t,
                      licenseServerUri: i[0],
                      distinctiveIdentifierRequired:
                        n[0].distinctiveIdentifierRequired,
                      persistentStateRequired: n[0].persistentStateRequired,
                      sessionType: n[0].sessionType || u,
                      audioRobustness: n[0].audioRobustness || "",
                      videoRobustness: n[0].videoRobustness || "",
                      serverCertificate: a[0],
                      serverCertificateUri: r[0],
                      initData: o,
                      keyIds: s,
                    },
                    i = (n = Ee(n)).next();
                  !i.done;
                  i = n.next()
                )
                  (i = i.value).distinctiveIdentifierRequired &&
                    (t.distinctiveIdentifierRequired =
                      i.distinctiveIdentifierRequired),
                    i.persistentStateRequired &&
                      (t.persistentStateRequired = i.persistentStateRequired);
                n = t;
              } else (n = C.keySystem), (t = S.get(C.keySystem)), (i = []), (r = []), (a = []), (o = []), (s = new Set()), Yr(t.drmInfos, i, a, r, o, s), (n = { keySystem: n, licenseServerUri: i[0], distinctiveIdentifierRequired: "required" == t.distinctiveIdentifier, persistentStateRequired: "required" == t.persistentState, sessionType: t.sessionTypes[0] || "temporary", audioRobustness: (t.audioCapabilities ? t.audioCapabilities[0].robustness : "") || "", videoRobustness: (t.videoCapabilities ? t.videoCapabilities[0].robustness : "") || "", serverCertificate: a[0], serverCertificateUri: r[0], initData: o, keyIds: s });
              if (((w.g = n), w.g.licenseServerUri))
                return Te(e, C.createMediaKeys(), 6);
              throw new ke(2, 6, 6012, w.g.keySystem);
            case 6:
              return (P = e.h), O(w.j), (w.C = P), (w.Y = !0), Te(e, Or(w), 7);
            case 7:
              O(w.j), Se(e, 0);
              break;
            case 4:
              if (
                ((D = xe(e)),
                O(w.j, D),
                (w.g = null),
                w.I.clear(),
                D instanceof ke)
              )
                throw D;
              throw new ke(2, 6, 6002, D.message);
          }
          var l, c, d, h, f, p, g, m, v, y, b, E, T, A;
        });
      }
      function Kr(n, e) {
        var i, r, a;
        return Ie(function (t) {
          switch (t.g) {
            case 1:
              try {
                i = n.C.createSession("persistent-license");
              } catch (e) {
                return (
                  (r = new ke(2, 6, 6005, e.message)),
                  n.m(r),
                  t.return(Promise.reject(r))
                );
              }
              return (
                n.B.o(i, "message", function (e) {
                  n.l &&
                  n.h.delayLicenseRequestUntilPlayed &&
                  n.l.paused &&
                  !n.O
                    ? n.K.push(e)
                    : zr(n, e);
                }),
                n.B.o(i, "keystatuseschange", function (e) {
                  return Vr(n, e);
                }),
                (r = {
                  initData: null,
                  initDataType: null,
                  loaded: !1,
                  Ae: 1 / 0,
                  cb: null,
                  type: "persistent-license",
                }),
                n.i.set(i, r),
                we(t, 2),
                Te(t, i.load(e), 4)
              );
            case 4:
              return ((a = t.h), O(n.j), a)
                ? ((r.loaded = !0), qr(n) && n.s.resolve(), t.return(i))
                : (n.i.delete(i),
                  n.m(new ke(2, 6, 6013)),
                  t.return(Promise.resolve()));
            case 2:
              (a = xe(t)),
                O(n.j, a),
                n.i.delete(i),
                n.m(new ke(2, 6, 6005, a.message));
            case 3:
              return t.return(Promise.resolve());
          }
        });
      }
      function zr(a, o) {
        var s, u, l, c, d, h, f;
        Ie(function (e) {
          switch (e.g) {
            case 1:
              if (
                ((s = o.target),
                a.h.logLicenseExchange && ln(o.message),
                (u = a.i.get(s)),
                (l = a.g.licenseServerUri),
                (d = a.h.advanced[a.g.keySystem]),
                "individualization-request" == o.messageType &&
                  d &&
                  d.individualizationServer &&
                  (l = d.individualizationServer),
                ((d = zi([l], a.h.retryParameters)).body = o.message),
                (d.method = "POST"),
                (d.licenseRequestType = o.messageType),
                (d.sessionId = s.sessionId),
                (d.drmInfo = a.g),
                u &&
                  ((d.initData = u.initData),
                  (d.initDataType = u.initDataType)),
                Br(a.g.keySystem))
              ) {
                var t = d;
                var n = tn(t.body, !0, !0);
                if (n.includes("PlayReadyKeyMessage")) {
                  for (
                    var i = Ee(
                        (n = Mr(n, "PlayReadyKeyMessage")).getElementsByTagName(
                          "HttpHeader"
                        )
                      ),
                      r = i.next();
                    !r.done;
                    r = i.next()
                  )
                    (r = r.value),
                      (t.headers[
                        r.getElementsByTagName("name")[0].textContent
                      ] = r.getElementsByTagName("value")[0].textContent);
                  t.body = cn(
                    n.getElementsByTagName("Challenge")[0].textContent
                  );
                } else t.headers["Content-Type"] = "text/xml; charset=utf-8";
              }
              return (
                (l = Date.now()),
                we(e, 2),
                Te(e, a.G.Pb.request(2, d).promise, 4)
              );
            case 4:
              (c = e.h), Se(e, 3);
              break;
            case 2:
              return (
                (d = xe(e)),
                (h = new ke(2, 6, 6007, d)),
                a.m(h),
                u && u.cb && u.cb.reject(h),
                e.return()
              );
            case 3:
              return a.j.g
                ? e.return()
                : ((a.J += (Date.now() - l) / 1e3),
                  a.h.logLicenseExchange && ln(c.data),
                  we(e, 5),
                  Te(e, s.update(c.data), 7));
            case 7:
              Se(e, 6);
              break;
            case 5:
              return (
                (h = xe(e)),
                (f = new ke(2, 6, 6008, h.message)),
                a.m(f),
                u && u.cb && u.cb.reject(f),
                e.return()
              );
            case 6:
              if (a.j.g) return e.return();
              (f = new _("drmsessionupdate")),
                a.G.onEvent(f),
                u &&
                  (u.cb && u.cb.resolve(),
                  new M(function () {
                    (u.loaded = !0), qr(a) && a.s.resolve();
                  }).S(Jr)),
                Ae(e);
          }
        });
      }
      function Vr(o, e) {
        var e = e.target,
          s = o.i.get(e),
          u = !1,
          t =
            (e.keyStatuses.forEach(function (e, t) {
              var n, i, r, a;
              "string" == typeof t && ((n = t), (t = e), (e = n)),
                Br(o.g.keySystem) &&
                  16 == t.byteLength &&
                  (navigator.userAgent.match(/Edge?\//) || Wt()) &&
                  ((i = (n = Ut(t)).getUint32(0, !0)),
                  (r = n.getUint16(4, !0)),
                  (a = n.getUint16(6, !0)),
                  n.setUint32(0, i, !1),
                  n.setUint16(4, r, !1),
                  n.setUint16(6, a, !1)),
                "status-pending" != e && (s.loaded = !0),
                "expired" == e && (u = !0),
                (n = hn(t).slice(0, 32)),
                o.ba.set(n, e);
            }),
            e.expiration - Date.now());
        (t < 0 || (u && t < 1e3)) &&
          s &&
          !s.cb &&
          (o.i.delete(e), e.close().catch(function () {})),
          qr(o) && (o.s.resolve(), o.R.S(Qr));
      }
      function Hr(a) {
        var t;
        return Ie(function (e) {
          return (
            (t = Array.from(a.i.entries())),
            a.i.clear(),
            Te(
              e,
              Promise.all(
                t.map(function (e) {
                  var i = (e = Ee(e)).next().value,
                    r = e.next().value;
                  return Ie(function (e) {
                    return 1 == e.g
                      ? (we(e, 2),
                        a.aa ||
                        a.F.includes(i.sessionId) ||
                        "persistent-license" !== r.type
                          ? Te(
                              e,
                              ((t = i),
                              Ie(function (e) {
                                return 1 == e.g
                                  ? ((n = new Promise(function (e, t) {
                                      new M(t).S($r);
                                    })),
                                    we(e, 2),
                                    Te(
                                      e,
                                      Promise.race([
                                        Promise.all([t.close(), t.closed]),
                                        n,
                                      ]),
                                      4
                                    ))
                                  : 2 != e.g
                                  ? Se(e, 0)
                                  : (xe(e), void Ae(e));
                              })),
                              5
                            )
                          : Te(e, i.remove(), 5))
                      : 2 != e.g
                      ? Se(e, 0)
                      : (xe(e), void Ae(e));
                    var t, n;
                  });
                })
              ),
              0
            )
          );
        });
      }
      function Xr(e, t) {
        if (!e.length) return t;
        if (!t.length) return e;
        for (var n = [], i = Ee(e), r = i.next(); !r.done; r = i.next())
          for (
            var r = r.value, a = {}, o = Ee(t), s = o.next();
            !s.done;
            a = { Ta: a.Ta }, s = o.next()
          )
            if (((s = s.value), r.keySystem == s.keySystem)) {
              (a.Ta = []),
                (a.Ta = a.Ta.concat(r.initData || [])),
                (a.Ta = a.Ta.concat(s.initData || [])),
                (a.Ta = a.Ta.filter(
                  (function (n) {
                    return function (t, e) {
                      return (
                        void 0 === t.keyId ||
                        e ===
                          n.Ta.findIndex(function (e) {
                            return e.keyId === t.keyId;
                          })
                      );
                    };
                  })(a)
                )),
                (o =
                  r.keyIds && s.keyIds
                    ? new Set([].concat(I(r.keyIds), I(s.keyIds)))
                    : r.keyIds || s.keyIds),
                n.push({
                  keySystem: r.keySystem,
                  licenseServerUri: r.licenseServerUri || s.licenseServerUri,
                  distinctiveIdentifierRequired:
                    r.distinctiveIdentifierRequired ||
                    s.distinctiveIdentifierRequired,
                  persistentStateRequired:
                    r.persistentStateRequired || s.persistentStateRequired,
                  videoRobustness: r.videoRobustness || s.videoRobustness,
                  audioRobustness: r.audioRobustness || s.audioRobustness,
                  serverCertificate: r.serverCertificate || s.serverCertificate,
                  serverCertificateUri:
                    r.serverCertificateUri || s.serverCertificateUri,
                  initData: a.Ta,
                  keyIds: o,
                });
              break;
            }
        return n;
      }
      function Wr(e) {
        return (e.video ? e.video.drmInfos : []).concat(
          e.audio ? e.audio.drmInfos : []
        );
      }
      function qr(e) {
        e = e.i.values();
        for (
          var t = function (e) {
              return e.loaded;
            },
            n = Ee(e),
            i = n.next();
          !i.done;
          i = n.next()
        )
          if (!t(i.value)) return;
        return 1;
      }
      function Yr(e, t, n, i, r, a) {
        for (
          var o = {}, s = (e = Ee(e)).next();
          !s.done;
          o = { Ga: o.Ga }, s = e.next()
        ) {
          if (
            ((o.Ga = s.value),
            t.includes(o.Ga.licenseServerUri) || t.push(o.Ga.licenseServerUri),
            i.includes(o.Ga.serverCertificateUri) ||
              i.push(o.Ga.serverCertificateUri),
            !o.Ga.serverCertificate ||
              n.some(
                (function (t) {
                  return function (e) {
                    return Pt(e, t.Ga.serverCertificate);
                  };
                })(o)
              ) ||
              n.push(o.Ga.serverCertificate),
            o.Ga.initData)
          )
            for (
              var s = {}, u = Ee(o.Ga.initData), l = u.next();
              !l.done;
              s = { cd: s.cd }, l = u.next()
            )
              (s.cd = l.value),
                r.some(
                  (function (n) {
                    return function (e) {
                      var t = n.cd;
                      return (
                        !(!e.keyId || e.keyId != t.keyId) ||
                        (e.initDataType == t.initDataType &&
                          Pt(e.initData, t.initData))
                      );
                    };
                  })(s)
                ) || r.push(s.cd);
          if (o.Ga.keyIds)
            for (u = (s = Ee(o.Ga.keyIds)).next(); !u.done; u = s.next())
              a.add(u.value);
        }
      }
      ((n = Rr.prototype).destroy = function () {
        return this.j.destroy();
      }),
        (n.configure = function (e) {
          this.h = e;
        }),
        (n.Ac = function (t) {
          var n,
            i = this;
          return Ie(function (e) {
            if (1 == e.g)
              return i.C
                ? ((i.l = t),
                  i.B.Ea(i.l, "play", function () {
                    for (var e = Ee(i.K), t = e.next(); !t.done; t = e.next())
                      zr(i, t.value);
                    (i.O = !0), (i.K = []);
                  }),
                  "webkitCurrentPlaybackTargetIsWireless" in i.l &&
                    i.B.o(
                      i.l,
                      "webkitcurrentplaybacktargetiswirelesschanged",
                      function () {
                        return Hr(i);
                      }
                    ),
                  (n = i.g.initData.find(function (e) {
                    return 0 < e.initData.length;
                  })) ||
                  "com.apple.fps" !== i.g.keySystem ||
                  i.F.length
                    ? Te(e, Dr(i), 2)
                    : e.D(2))
                : (i.B.Ea(t, "encrypted", function () {
                    i.m(new ke(2, 6, 6010));
                  }),
                  e.return());
            Ur(i),
              n ||
                i.F.length ||
                i.h.parseInbandPsshEnabled ||
                i.B.o(i.l, "encrypted", function (e) {
                  return (
                    (t = i),
                    (n = e),
                    Ie(function (e) {
                      if (1 == e.g) return Te(e, Dr(t), 2);
                      jr(t, n.initDataType, R(n.initData)), Ae(e);
                    })
                  );
                  var t, n;
                }),
              Ae(e);
          });
        }),
        (n.Fc = function () {
          for (
            var e = 1 / 0, t = this.i.keys(), n = (t = Ee(t)).next();
            !n.done;
            n = t.next()
          )
            (n = n.value),
              isNaN(n.expiration) || (e = Math.min(e, n.expiration));
          return e;
        }),
        (n.sd = function () {
          return Zi(this.$);
        });
      var $r = 1,
        Jr = 5,
        Qr = 0.5,
        Zr = new Bt(function () {
          return Ot(new Uint8Array([0]));
        });
      function ea() {}
      function ta(t, n, i, r) {
        var a, o;
        return Ie(function (e) {
          if (1 == e.g)
            return r && (a = ra[r.toLowerCase()])
              ? e.return(a)
              : (a = ia(t)) && (o = aa[a])
              ? e.return(o)
              : r
              ? e.D(2)
              : Te(e, na(t, n, i), 3);
          if (2 != e.g && (r = e.h) && (o = ra[r])) return e.return(o);
          throw new ke(2, 4, 4e3, t);
        });
      }
      function na(t, n, i) {
        var r, a;
        return Ie(function (e) {
          return 1 == e.g
            ? (((r = zi([t], i)).method = "HEAD"),
              Te(e, n.request(0, r).promise, 2))
            : ((r = e.h),
              (a = r.headers["content-type"]),
              e.return(a ? a.toLowerCase().split(";").shift() : ""));
        });
      }
      function ia(e) {
        return 1 == (e = new fe(e).Ha.split("/").pop().split(".")).length
          ? ""
          : e.pop().toLowerCase();
      }
      t("shaka.media.ManifestParser", ea),
        (ea.unregisterParserByMime = function (e) {
          delete ra[e];
        }),
        (ea.registerParserByMime = function (e, t) {
          ra[e] = t;
        }),
        (ea.registerParserByExtension = function (e, t) {
          aa[e] = t;
        });
      var ra = {},
        aa = {};
      function oa(e) {
        function t() {
          r = !0;
        }
        function n(e) {
          a.push(e), ir(e);
        }
        e = R(e);
        var i,
          r = !1,
          a = [],
          o = [];
        if (
          (new nr()
            .box("moov", n)
            .box("trak", n)
            .box("mdia", n)
            .box("minf", n)
            .box("stbl", n)
            .X("stsd", function (e) {
              (i = e), a.push(e), rr(e);
            })
            .X("encv", t)
            .X("enca", t)
            .X("avc1", function (e) {
              o.push({ box: e, Rc: 1701733238 });
            })
            .X("avc3", function (e) {
              o.push({ box: e, Rc: 1701733238 });
            })
            .X("ac-3", function (e) {
              o.push({ box: e, Rc: 1701733217 });
            })
            .X("ec-3", function (e) {
              o.push({ box: e, Rc: 1701733217 });
            })
            .X("mp4a", function (e) {
              o.push({ box: e, Rc: 1701733217 });
            })
            .parse(e),
          r)
        )
          return e;
        if (0 == o.length || !i) throw (hn(e), new ke(2, 3, 3019));
        o.reverse();
        for (var s = Ee(o), u = s.next(); !u.done; u = s.next())
          (u = u.value),
            (e = (function (e, t, n, i, r) {
              var a = ua.value(),
                o = e.subarray(n.start, n.start + n.size),
                s = Ut(o),
                u = new Uint8Array(n.size + a.byteLength);
              for (
                u.set(o, 0),
                  (o = Ut(u)).setUint32(4, r),
                  u.set(a, n.size),
                  r = s.getUint32(4),
                  o.setUint32(n.size + 16, r),
                  sa(u, 0, u.byteLength),
                  r = new Uint8Array(e.byteLength + u.byteLength),
                  n = zt() ? n.start : n.start + n.size,
                  a = e.subarray(n),
                  r.set(e.subarray(0, n)),
                  r.set(u, n),
                  r.set(a, n + u.byteLength),
                  e = Ee(i),
                  i = e.next();
                !i.done;
                i = e.next()
              )
                (i = i.value), sa(r, i.start, i.size + u.byteLength);
              return (
                (u = Ut(r, t.start)),
                (t = ur(t)),
                (e = u.getUint32(t)),
                u.setUint32(t, e + 1),
                r
              );
            })(e, i, u.box, a, u.Rc));
        return e;
      }
      function sa(e, t, n) {
        0 != (t = (e = Ut(e, t)).getUint32(0)) &&
          (1 == t
            ? (e.setUint32(8, n >> 32), e.setUint32(12, 4294967295 & n))
            : e.setUint32(0, n));
      }
      var ua = new Bt(function () {
        return new Uint8Array([
          0, 0, 0, 80, 115, 105, 110, 102, 0, 0, 0, 12, 102, 114, 109, 97, 0, 0,
          0, 0, 0, 0, 0, 20, 115, 99, 104, 109, 0, 0, 0, 0, 99, 101, 110, 99, 0,
          1, 0, 0, 0, 0, 0, 40, 115, 99, 104, 105, 0, 0, 0, 32, 116, 101, 110,
          99, 0, 0, 0, 0, 0, 0, 1, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
          0, 0,
        ]);
      });
      function la(e, t, n, i, r) {
        if (r <= i) return null;
        for (var a = -1, o = -1, s = 0; s < n.length; s++)
          if (
            n[s].some(function (e) {
              return null != e && "" != e.g.trim();
            })
          ) {
            a = s;
            break;
          }
        for (s = n.length - 1; 0 <= s; s--)
          if (
            n[s].some(function (e) {
              return null != e && "" != e.g.trim();
            })
          ) {
            o = s;
            break;
          }
        if (-1 === a || -1 === o) return null;
        for (
          var u = (s = !1), l = "white", c = "black", d = ca(i, r, s, u, l, c);
          a <= o;
          a++
        ) {
          for (
            var h, f, p, g, m = n[a], v = -1, y = -1, b = 0;
            b < m.length;
            b++
          )
            if (null != m[b] && "" !== m[b].g.trim()) {
              v = b;
              break;
            }
          for (b = m.length - 1; 0 <= b; b--)
            if (null != m[b] && "" !== m[b].g.trim()) {
              y = b;
              break;
            }
          if (-1 === v || -1 === y) (m = da(i, r)), e.nestedCues.push(m);
          else {
            for (; v <= y; v++)
              (b = m[v])
                ? ((h = b.l),
                  (f = b.i),
                  (p = b.j),
                  (g = b.h),
                  (h == s && f == u && p == l && g == c) ||
                    (d.payload && e.nestedCues.push(d),
                    (d = ca(i, r, h, f, p, g)),
                    (s = h),
                    (u = f),
                    (l = p),
                    (c = g)),
                  (d.payload += b.g))
                : (d.payload += " ");
            d.payload && e.nestedCues.push(d),
              a !== o && ((d = da(i, r)), e.nestedCues.push(d)),
              (d = ca(i, r, s, u, l, c));
          }
        }
        return e.nestedCues.length ? { cue: e, stream: t } : null;
      }
      function ca(e, t, n, i, r, a) {
        return (
          (e = new L(e, t, "")),
          n && e.textDecoration.push("underline"),
          i && (e.fontStyle = "italic"),
          (e.color = r),
          (e.backgroundColor = a),
          e
        );
      }
      function da(e, t) {
        e = new L(e, t, "");
        return (e.lineBreak = !0), e;
      }
      function ha(e, t, n, i, r) {
        (this.g = e), (this.l = t), (this.i = n), (this.h = i), (this.j = r);
      }
      function fa(e, t) {
        (this.i = []),
          (this.g = 1),
          (this.h = 0),
          (this.C = e),
          (this.B = t),
          (this.j = this.m = !1),
          (this.l = "white"),
          (this.s = "black"),
          ga(this);
      }
      function pa(e, t, n) {
        return la(new L(t, n, ""), "CC" + ((e.C << 1) | (e.B + 1)), e.i, t, n);
      }
      function ga(e) {
        ya(e, 0, 15), (e.g = 1);
      }
      function ma(e, t, n) {
        if (!(n < 32 || 127 < n)) {
          var i = "";
          switch (t) {
            case ba:
              i = wa.has(n) ? wa.get(n) : String.fromCharCode(n);
              break;
            case Ea:
              i = Sa.get(n);
              break;
            case Ta:
              e.i[e.g].pop(), (i = xa.get(n));
              break;
            case Aa:
              e.i[e.g].pop(), (i = Ia.get(n));
          }
          i && e.i[e.g].push(new ha(i, e.m, e.j, e.s, e.l));
        }
      }
      function va(e, t, n, i) {
        if (!(n < 0 || t < 0))
          if (n <= t)
            for (--i; 0 <= i; i--)
              e.i[t + i] = e.i[n + i].map(function (e) {
                return e;
              });
          else
            for (var r = 0; r < i; r++)
              e.i[t + r] = e.i[n + r].map(function (e) {
                return e;
              });
      }
      function ya(e, t, n) {
        for (var i = 0; i <= n; i++) e.i[t + i] = [];
      }
      var ba = 0,
        Ea = 1,
        Ta = 2,
        Aa = 3,
        wa = new Map([
          [39, ""],
          [42, ""],
          [92, ""],
          [92, ""],
          [94, ""],
          [95, ""],
          [96, ""],
          [123, ""],
          [124, ""],
          [125, ""],
          [126, ""],
          [127, ""],
        ]),
        Sa = new Map([
          [48, ""],
          [49, ""],
          [50, ""],
          [51, ""],
          [52, ""],
          [53, ""],
          [54, ""],
          [55, ""],
          [56, ""],
          [57, ""],
          [58, ""],
          [59, ""],
          [60, ""],
          [61, ""],
          [62, ""],
          [63, ""],
        ]),
        xa = new Map([
          [32, ""],
          [33, ""],
          [34, ""],
          [35, ""],
          [36, ""],
          [37, ""],
          [38, ""],
          [39, ""],
          [40, "*"],
          [41, "'"],
          [42, ""],
          [43, ""],
          [44, ""],
          [45, ""],
          [46, ""],
          [47, ""],
          [48, ""],
          [49, ""],
          [50, ""],
          [51, ""],
          [52, ""],
          [53, ""],
          [54, ""],
          [55, ""],
          [56, ""],
          [57, ""],
          [58, ""],
          [59, ""],
          [60, ""],
          [61, ""],
          [62, ""],
          [63, ""],
        ]),
        Ia = new Map([
          [32, ""],
          [33, ""],
          [34, ""],
          [35, ""],
          [36, ""],
          [37, ""],
          [38, ""],
          [39, ""],
          [40, ""],
          [41, "{"],
          [42, "}"],
          [43, "\\"],
          [44, "^"],
          [45, "_"],
          [46, "|"],
          [47, "~"],
          [48, ""],
          [49, ""],
          [50, ""],
          [51, ""],
          [52, ""],
          [53, ""],
          [54, ""],
          [55, ""],
          [56, ""],
          [57, ""],
          [58, ""],
          [59, ""],
          [60, ""],
          [61, ""],
          [62, ""],
          [63, ""],
        ]);
      function ka(e, t) {
        (this.h = Na),
          (this.s = new fa(e, t)),
          (this.i = new fa(e, t)),
          (this.l = new fa(e, t)),
          (this.g = this.i),
          (this.j = 0),
          (this.m = null);
      }
      function Ca(e, t, n) {
        e.g = e.i;
        var i = e.g,
          r = null;
        return (
          e.h !== _a &&
            e.h !== Pa &&
            ((r = pa(i, e.j, n)),
            ((n = e.i).g = 0 < n.h ? n.h : 0),
            ya(n, 0, 15),
            ((n = e.l).g = 0 < n.h ? n.h : 0),
            ya(n, 0, 15),
            (i.g = 15)),
          (e.h = _a),
          (i.h = t),
          r
        );
      }
      function Ma(e) {
        (e.h = Ra), (e.g = e.l), (e.g.h = 0);
      }
      function La(e) {
        ae(
          "Cea608DataChannel",
          "CEA-608 text mode entered, but is unsupported"
        ),
          (e.g = e.s),
          (e.h = Pa);
      }
      var Na = 0,
        Ra = 1,
        _a = 3,
        Pa = 4,
        Da = "black green blue cyan red yellow magenta black".split(" "),
        Oa = "white green blue cyan red yellow magenta white_italics".split(
          " "
        );
      function Ua() {
        (this.l = !1),
          (this.F = this.H = 0),
          (this.G = Ha),
          (this.i = []),
          (this.g = this.h = this.j = 0),
          (this.C = this.s = !1),
          (this.B = "white"),
          (this.m = "black"),
          ja(this);
      }
      function ja(e) {
        e.i = [];
        for (var t = 0; t < 15; t++) e.i.push(Ba());
      }
      function Ba() {
        for (var e = [], t = 0; t < 42; t++) e.push(null);
        return e;
      }
      function Fa(e, t) {
        Ga(e) && ((e.i[e.h][e.g] = new ha(t, e.C, e.s, e.m, e.B)), e.g++);
      }
      function Ga(e) {
        var t = e.g < e.F && 0 <= e.g;
        return e.h < e.H && 0 <= e.h && t;
      }
      function Ka(e, t, n) {
        var i = new L(e.j, t, "");
        return (
          (i.textAlign = e.G === za ? "left" : e.G === Va ? "right" : mt),
          (n = la(i, "svc" + n, e.i, e.j, t)) && (e.j = t),
          n
        );
      }
      Ua.prototype.isVisible = function () {
        return this.l;
      };
      var za = 0,
        Va = 1,
        Ha = 2;
      function Xa() {
        (this.i = []), (this.h = null), (this.g = 0);
      }
      function Wa(e) {
        (this.g = 0), (this.h = e);
      }
      function qa(e) {
        if (e.Ca()) return e.h[e.g++];
        throw new ke(2, 2, 3e3);
      }
      function Ya(e) {
        (this.i = e),
          (this.h = [null, null, null, null, null, null, null, null]),
          (this.g = null);
      }
      function $a(e, t) {
        for (var n = [], i = 0; i < 8; i++)
          1 == (1 & t) && e.h[i] && n.push(i), (t >>= 1);
        return n;
      }
      function Ja(e, t, n) {
        for (
          var i = null, r = (t = Ee($a(e, t))).next();
          !r.done;
          r = t.next()
        ) {
          var r = r.value,
            a = e.h[r];
          a.isVisible() && (i = Ka(a, n, e.i)), (e.h[r] = null);
        }
        return i;
      }
      function Qa(e) {
        (e.g = null), (e.h = [null, null, null, null, null, null, null, null]);
      }
      function Za(e, t, n) {
        var i = { 0: 0, 1: 0, 2: 1, 3: 1 };
        return to[((e = i[e]) << 2) | ((t = i[t]) << 1) | (n = i[n])];
      }
      (Wa.prototype.Ca = function () {
        return this.g < this.h.length;
      }),
        (Wa.prototype.na = function () {
          return this.g;
        }),
        (Wa.prototype.skip = function (e) {
          if (this.g + e > this.h.length) throw new ke(2, 2, 3e3);
          this.g += e;
        });
      var eo = new Map([
          [32, " "],
          [33, " "],
          [37, ""],
          [42, ""],
          [44, ""],
          [48, ""],
          [49, ""],
          [50, ""],
          [51, ""],
          [52, ""],
          [53, ""],
          [57, ""],
          [58, ""],
          [60, ""],
          [61, ""],
          [63, ""],
          [118, ""],
          [119, ""],
          [120, ""],
          [121, ""],
          [122, ""],
          [123, ""],
          [124, ""],
          [125, ""],
          [126, ""],
          [127, ""],
        ]),
        to = "black blue green cyan red magenta yellow white".split(" ");
      function no() {
        (this.h = []),
          (this.g = []),
          (this.i = new Xa()),
          (this.l = 0),
          (this.B = new Map([
            ["CC1", new ka(0, 0)],
            ["CC2", new ka(0, 1)],
            ["CC3", new ka(1, 0)],
            ["CC4", new ka(1, 1)],
          ])),
          (this.s = this.m = 0),
          (this.j = new Map()),
          io(this);
      }
      function io(e) {
        (e.m = 0), (e.s = 0);
        for (var t = (e = Ee(e.B.values())).next(); !t.done; t = e.next())
          ((t = t.value).h = 2),
            (t.g = t.i),
            (t.m = null),
            ga(t.i),
            ga(t.l),
            ga(t.s);
      }
      function ro(e) {
        function t(e, t) {
          return e.pts - t.pts || e.order - t.order;
        }
        var n = [];
        e.h.sort(t), e.g.sort(t);
        for (var i, r, a = Ee(e.h), o = a.next(); !o.done; o = a.next())
          (o = (function (e, t) {
            var n = t.type;
            {
              var i;
              16 == (112 & t.Oa) &&
                ((i = (t.Oa >> 3) & 1), 0 === n ? (e.m = i) : (e.s = i));
            }
            if (
              ((n = e.B.get("CC" + ((n << 1) | ((n ? e.s : e.m) + 1)))),
              (255 === t.Oa && 255 === t.hb) ||
                (!t.Oa && !t.hb) ||
                !ao(t.Oa) ||
                !ao(t.hb))
            )
              return 45 <= ++e.l && io(e), null;
            if (((e.l = 0), (t.Oa &= 127), (t.hb &= 127), !t.Oa && !t.hb))
              return null;
            if (((i = null), 16 == (112 & t.Oa)))
              e: {
                var r = t.Oa;
                if (((i = t.hb), n.m === ((r << 8) | i))) n.m = null;
                else if (
                  ((n.m = (r << 8) | i), 16 == (240 & r) && 64 == (192 & i))
                ) {
                  r = [11, 11, 1, 2, 3, 4, 12, 13, 14, 15, 5, 6, 7, 8, 9, 10][
                    ((7 & r) << 1) | ((i >> 5) & 1)
                  ];
                  var a,
                    o = (30 & i) >> 1,
                    s = "white",
                    u = !1;
                  o < 7 ? (s = Oa[o]) : 7 === o && (u = !0),
                    (i = 1 == (1 & i)),
                    n.h !== Pa &&
                      ((o = n.g),
                      n.h === _a &&
                        r !== o.g &&
                        ((a = 1 + r - o.h),
                        va(o, a, 1 + o.g - o.h, o.h),
                        ya(o, 0, a - 1),
                        ya(o, r + 1, 15 - r)),
                      (o.g = r),
                      (n.g.m = i),
                      (n.g.j = u),
                      (n.g.l = s),
                      (n.g.s = "black"));
                } else if (17 == (247 & r) && 32 == (240 & i))
                  (n.g.m = !1),
                    (n.g.j = !1),
                    (n.g.l = "white"),
                    ma(n.g, ba, 32),
                    (s = !1),
                    "white_italics" === (r = Oa[(14 & i) >> 1]) &&
                      ((r = "white"), (s = !0)),
                    (n.g.m = 1 == (1 & i)),
                    (n.g.j = s),
                    (n.g.l = r);
                else if (
                  (16 == (247 & r) && 32 == (240 & i)) ||
                  (23 == (247 & r) && 45 == (255 & i))
                )
                  (s = "black"),
                    0 == (7 & r) && (s = Da[(14 & i) >> 1]),
                    (n.g.s = s);
                else if (17 == (247 & r) && 48 == (240 & i)) ma(n.g, Ea, i);
                else if (18 == (246 & r) && 32 == (224 & i))
                  ma(n.g, 1 & r ? Aa : Ta, i);
                else if (20 == (246 & r) && 32 == (240 & i)) {
                  switch (((i = t.pts), (r = null), t.hb)) {
                    case 32:
                      Ma(n);
                      break;
                    case 33:
                      (n = n.g).i[n.g].pop();
                      break;
                    case 37:
                      r = Ca(n, 2, i);
                      break;
                    case 38:
                      r = Ca(n, 3, i);
                      break;
                    case 39:
                      r = Ca(n, 4, i);
                      break;
                    case 40:
                      ma(n.g, ba, 32);
                      break;
                    case 41:
                      (n.h = 2), (n.g = n.i), (n.g.h = 0), (n.j = i);
                      break;
                    case 42:
                      ga(n.s), La(n);
                      break;
                    case 43:
                      La(n);
                      break;
                    case 44:
                      (r = n.i),
                        (s = null),
                        n.h !== Pa && (s = pa(r, n.j, i)),
                        ya(r, 0, 15),
                        (r = s);
                      break;
                    case 45:
                      (r = n.g),
                        (r =
                          n.h !== _a
                            ? null
                            : ((s = pa(r, n.j, i)),
                              (u = r.g - r.h + 1),
                              va(r, u - 1, u, r.h),
                              ya(r, 0, u - 1),
                              ya(r, r.g, 15 - r.g),
                              (n.j = i),
                              s));
                      break;
                    case 46:
                      ya(n.l, 0, 15);
                      break;
                    case 47:
                      (r = null),
                        n.h !== Pa && (r = pa(n.i, n.j, i)),
                        (s = n.l),
                        (n.l = n.i),
                        (n.i = s),
                        Ma(n),
                        (n.j = i);
                  }
                  i = r;
                  break e;
                }
                i = null;
              }
            else (r = t.hb), ma(n.g, ba, t.Oa), ma(n.g, ba, r);
            return i;
          })(e, o.value)) && n.push(o);
        for (a = Ee(e.g), o = a.next(); !o.done; o = a.next())
          (i = e.i),
            3 === (r = o.value).type
              ? ((i.g = 2 * (63 & r.value) - 1), (i.h = []))
              : i.h &&
                (0 < i.g && (i.h.push(r), i.g--),
                0 === i.g && (i.i.push(new Wa(i.h)), (i.h = null), (i.g = 0)));
        for (o = (a = Ee(e.i.i)).next(); !o.done; o = a.next())
          (o = (function (e, t) {
            var n = [];
            try {
              for (; t.Ca(); ) {
                var i = qa(t).value,
                  r = (224 & i) >> 5,
                  a = 31 & i;
                if (0 != (r = 7 === r && 0 != a ? 63 & qa(t).value : r)) {
                  e.j.has(r) || e.j.set(r, new Ya(r));
                  for (var o = e.j.get(r), s = t.na(); t.na() - s < a; ) {
                    var u,
                      l,
                      c = qa((r = t)),
                      d = c.value,
                      h = c.pts;
                    if (
                      (16 === d && ((u = qa(r)), (d = (d << 16) | u.value)),
                      0 <= d && d <= 31)
                    ) {
                      var f = h;
                      if (o.g) {
                        var p = o.g;
                        switch (((r = null), d)) {
                          case 8:
                            !Ga(p) ||
                              (p.g <= 0 && p.h <= 0) ||
                              (p.g <= 0 ? ((p.g = p.F - 1), p.h--) : p.g--,
                              (p.i[p.h][p.g] = null));
                            break;
                          case 13:
                            if (
                              (p.isVisible() && (r = Ka(p, f, o.i)),
                              p.h + 1 >= p.H)
                            ) {
                              f = p;
                              for (var g = 0, m = 1; m < 15; m++, g++)
                                f.i[g] = f.i[m];
                              for (m = 0; m < 1; m++, g++) f.i[g] = Ba();
                            } else p.h++;
                            p.g = 0;
                            break;
                          case 14:
                            p.isVisible() && (r = Ka(p, f, o.i)),
                              (p.i[p.h] = Ba()),
                              (p.g = 0);
                            break;
                          case 12:
                            p.isVisible() && (r = Ka(p, f, o.i)),
                              ja(p),
                              ((f = p).h = 0),
                              (f.g = 0);
                        }
                        var v = r;
                      } else v = null;
                    } else
                      v =
                        128 <= d && d <= 159
                          ? (function (e, t, n, i) {
                              if (128 <= n && n <= 135)
                                e.h[(i = 7 & n)] && (e.g = e.h[i]);
                              else {
                                if (136 === n) {
                                  (n = qa(t).value), (t = null);
                                  for (
                                    var r = (n = Ee($a(e, n))).next();
                                    !r.done;
                                    r = n.next()
                                  )
                                    (r = e.h[r.value]).isVisible() &&
                                      (t = Ka(r, i, e.i)),
                                      ja(r);
                                  return t;
                                }
                                if (137 === n)
                                  for (
                                    n = (t = Ee(
                                      $a(e, (t = qa(t).value))
                                    )).next();
                                    !n.done;
                                    n = t.next()
                                  )
                                    (n = e.h[n.value]).isVisible() || (n.j = i),
                                      (n.l = !0);
                                else {
                                  if (138 === n) {
                                    for (
                                      n = qa(t).value,
                                        t = null,
                                        r = (n = Ee($a(e, n))).next();
                                      !r.done;
                                      r = n.next()
                                    )
                                      (r = e.h[r.value]).isVisible() &&
                                        (t = Ka(r, i, e.i)),
                                        (r.l = !1);
                                    return t;
                                  }
                                  if (139 === n) {
                                    for (
                                      n = qa(t).value,
                                        t = null,
                                        r = (n = Ee($a(e, n))).next();
                                      !r.done;
                                      r = n.next()
                                    )
                                      (r = e.h[r.value]).isVisible()
                                        ? (t = Ka(r, i, e.i))
                                        : (r.j = i),
                                        (r.l = !r.l);
                                    return t;
                                  }
                                  if (140 === n)
                                    return Ja(e, (t = qa(t).value), i);
                                  if (143 === n)
                                    return (i = Ja(e, 255, i)), Qa(e), i;
                                  var a, o;
                                  144 === n
                                    ? (t.skip(1),
                                      (i = qa(t).value),
                                      e.g &&
                                        ((e.g.s = 0 < (128 & i)),
                                        (e.g.C = 0 < (64 & i))))
                                    : 145 === n
                                    ? ((i = qa(t).value),
                                      (n = qa(t).value),
                                      t.skip(1),
                                      e.g &&
                                        ((t = Za(
                                          (48 & n) >> 4,
                                          (12 & n) >> 2,
                                          3 & n
                                        )),
                                        (e.g.B = Za(
                                          (48 & i) >> 4,
                                          (12 & i) >> 2,
                                          3 & i
                                        )),
                                        (e.g.m = t)))
                                    : 146 === n
                                    ? ((i = qa(t).value),
                                      (t = qa(t).value),
                                      e.g &&
                                        (((e = e.g).h = 15 & i),
                                        (e.g = 63 & t)))
                                    : 151 === n
                                    ? (t.skip(1),
                                      t.skip(1),
                                      (i = qa(t).value),
                                      t.skip(1),
                                      e.g && (e.g.G = 3 & i))
                                    : 152 <= n &&
                                      n <= 159 &&
                                      ((r = null !== e.h[(n = (15 & n) - 8)]) ||
                                        (((a = new Ua()).j = i), (e.h[n] = a)),
                                      (i = qa(t).value),
                                      qa(t),
                                      qa(t),
                                      (a = qa(t).value),
                                      (o = qa(t).value),
                                      (t = qa(t).value),
                                      (r && 0 == (7 & t)) ||
                                        (((t = e.h[n]).h = 0),
                                        (t.g = 0),
                                        (t.C = !1),
                                        (t.s = !1),
                                        (t.B = "white"),
                                        (t.m = "black")),
                                      ((t = e.h[n]).l = 0 < (32 & i)),
                                      (t.H = 1 + (15 & a)),
                                      (t.F = 1 + (63 & o)),
                                      (e.g = e.h[n]));
                                }
                              }
                              return null;
                            })(o, r, d, h)
                          : (4096 <= d && d <= 4127
                              ? 8 <= (f = 255 & d) && f <= 15
                                ? r.skip(1)
                                : 16 <= f && f <= 23
                                ? r.skip(2)
                                : 24 <= f && f <= 31 && r.skip(3)
                              : 4224 <= d && d <= 4255
                              ? 128 <= (f = 255 & d) && f <= 135
                                ? r.skip(4)
                                : 136 <= f && f <= 143 && r.skip(5)
                              : 32 <= d && d <= 127
                              ? ((r = d),
                                o.g &&
                                  Fa(
                                    o.g,
                                    127 === r ? "" : String.fromCharCode(r)
                                  ))
                              : 160 <= d && d <= 255
                              ? o.g && Fa(o.g, String.fromCharCode(d))
                              : 4128 <= d && d <= 4223
                              ? ((r = 255 & d),
                                o.g &&
                                  (eo.has(r)
                                    ? ((l = eo.get(r)), Fa(o.g, l))
                                    : Fa(o.g, "_")))
                              : 4256 <= d &&
                                d <= 4351 &&
                                o.g &&
                                Fa(o.g, 160 != (255 & d) ? "_" : "[CC]"),
                            null);
                    (r = v) && n.push(r);
                  }
                }
              }
            } catch (e) {
              if (!(e instanceof ke && 3e3 === e.code)) throw e;
              ae(
                "CEA708_INVALID_DATA",
                "Buffer read out of bounds / invalid CEA-708 Data."
              );
            }
            return n;
          })(e, o.value)),
            n.push.apply(n, I(o));
        return (e.i.i = []), (e.h = []), (e.g = []), n;
      }
      function ao(e) {
        for (var t = 0; e; ) (t ^= 1 & e), (e >>= 1);
        return 1 === t;
      }
      function oo() {}
      function so(e, t) {
        var n = null,
          i = null,
          r = null,
          a = e.P();
        return (
          1 & t && (r = e.Db()),
          2 & t && e.skip(4),
          {
            trackId: a,
            Af: (n = 8 & t ? e.P() : n),
            vg: (i = 16 & t ? e.P() : i),
            qj: r,
          }
        );
      }
      function uo(e, t) {
        return { pf: 1 == t ? e.Db() : e.P() };
      }
      function lo(e, t) {
        return (
          1 == t ? (e.skip(8), e.skip(8)) : (e.skip(4), e.skip(4)),
          { timescale: e.P() }
        );
      }
      function co(e, t, n) {
        var i = e.P(),
          r = [],
          a = null;
        1 & n && (a = e.P()), 4 & n && e.skip(4);
        for (var o = 0; o < i; o++) {
          var s = { Fe: null, sampleSize: null, Ld: null };
          256 & n && (s.Fe = e.P()),
            512 & n && (s.sampleSize = e.P()),
            1024 & n && e.skip(4),
            2048 & n && (s.Ld = 0 == t ? e.P() : e.Qf()),
            r.push(s);
        }
        return { vj: i, Sf: r, ug: a };
      }
      function ho() {
        (this.j = new Map()), (this.i = this.h = 0), (this.g = fo);
      }
      (oo.prototype.init = function () {}),
        (oo.prototype.parse = function () {
          return [];
        }),
        (ho.prototype.init = function (e) {
          function t(e) {
            return function () {
              n.g = e;
            };
          }
          var n = this,
            i = [],
            r = [];
          if (
            (new nr()
              .box("moov", ir)
              .box("mvex", ir)
              .X("trex", function (e) {
                var t = e.reader;
                t.skip(4),
                  t.skip(4),
                  (e = t.P()),
                  (t = t.P()),
                  (n.h = e),
                  (n.i = t);
              })
              .box("trak", ir)
              .X("tkhd", function (e) {
                var t = e.reader;
                1 == e.version
                  ? (t.skip(8), t.skip(8))
                  : (t.skip(4), t.skip(4)),
                  (e = t.P()),
                  i.push(e);
              })
              .box("mdia", ir)
              .X("mdhd", function (e) {
                (e = lo(e.reader, e.version)), r.push(e.timescale);
              })
              .box("minf", ir)
              .box("stbl", ir)
              .X("stsd", rr)
              .box("avc1", t(po))
              .box("avc3", t(po))
              .box("hev1", t(go))
              .box("hvc1", t(go))
              .box("dvh1", t(go))
              .box("dvhe", t(go))
              .parse(e, !0),
            !i.length || !r.length || i.length != r.length)
          )
            throw new ke(2, 2, 2010);
          this.g == fo &&
            k("Unable to determine bitstream format for CEA parsing!"),
            i.forEach(function (e, t) {
              n.j.set(e, r[t]);
            });
        }),
        (ho.prototype.parse = function (e) {
          var g = this;
          if (this.g == fo) return [];
          var m = [],
            v = this.h,
            y = this.i,
            b = [],
            E = null,
            T = null,
            A = null,
            w = 9e4;
          return (
            new nr()
              .box("moof", function (e) {
                (E = e.start), ir(e);
              })
              .box("traf", ir)
              .X("trun", function (e) {
                (e = co(e.reader, e.version, e.flags)), (b = e.Sf), (T = e.ug);
              })
              .X("tfhd", function (e) {
                (e = so(e.reader, e.flags)),
                  (v = e.Af || g.h),
                  (y = e.vg || g.i),
                  (e = e.trackId),
                  g.j.has(e) && (w = g.j.get(e));
              })
              .X("tfdt", function (e) {
                A = uo(e.reader, e.version).pf;
              })
              .box("mdat", function (e) {
                if (null === A) throw new ke(2, 2, 2010);
                e: {
                  var t = e.reader,
                    n = A,
                    i = w,
                    r = v,
                    a = y,
                    o = b,
                    s = 0,
                    u = a;
                  for (
                    o.length && (u = o[0].sampleSize || a),
                      t.skip((E || 0) + (T || 0) - e.start - 8);
                    t.Ca();

                  ) {
                    e = t.P();
                    var l = t.ob();
                    switch (g.g) {
                      case po:
                        l = 6 == (l &= 31);
                        break;
                      case go:
                        l = 39 == (l = (l >> 1) & 63) || 40 == l;
                        break;
                      default:
                        break e;
                    }
                    if (l) {
                      l = 0;
                      for (
                        var c,
                          l = (n + (l = o.length > s ? o[s].Ld || 0 : l)) / i,
                          d = [],
                          h = t.Cb(e - 1),
                          f = (c = 0);
                        f < h.length;

                      )
                        2 == c && 3 == h[f]
                          ? ((c = 0),
                            (h = [].concat(I(h))).splice(f, 1),
                            (h = new Uint8Array(h)))
                          : 0 == h[f]
                          ? c++
                          : (c = 0),
                          f++;
                      for (c = h, f = 0; f < c.length; ) {
                        for (h = 0; 255 == c[f]; ) (h += 255), f++;
                        h += c[f++];
                        for (var p = 0; 255 == c[f]; ) (p += 255), f++;
                        (p += c[f++]),
                          4 == h && d.push(c.subarray(f, f + p)),
                          (f += p);
                      }
                      for (c = (d = Ee(d)).next(); !c.done; c = d.next())
                        m.push({ qh: c.value, pts: l });
                    } else
                      try {
                        t.skip(e - 1);
                      } catch (e) {
                        break;
                      }
                    0 == (u -= e + 4) &&
                      ((n = o.length > s ? n + (o[s].Fe || r) : n + r),
                      s++,
                      (u = (o.length > s && o[s].sampleSize) || a));
                  }
                }
              })
              .parse(e, !1),
            m
          );
        });
      var fo = 0,
        po = 1,
        go = 2;
      function mo(e) {
        (this.h = new oo()),
          e.includes("video/mp4") && (this.h = new ho()),
          (this.g = new no());
      }
      function vo(e, t, n, i, r) {
        (this.Pa = e),
          (this.Sa = t),
          (this.Ba = n),
          (this.we = void 0 === i ? null : i),
          (this.timescale = r);
      }
      function j(e, t, n, i, r, a, o, s, u, l, c, d, h, f, p) {
        (l = void 0 === l ? [] : l),
          (f = void 0 === f ? yo : f),
          (this.startTime = e),
          (this.j = this.endTime = t),
          (this.B = n),
          (this.Sa = i),
          (this.Ba = r),
          (this.h = a),
          (this.timestampOffset = o),
          (this.appendWindowStart = s),
          (this.appendWindowEnd = u),
          (this.i = l),
          (this.tilesLayout = void 0 === c ? "" : c),
          (this.s = void 0 === d ? null : d),
          (this.g = void 0 === h ? null : h),
          (this.status = f),
          (this.l = void 0 === p ? null : p),
          (this.m = null);
      }
      (mo.prototype.init = function (e) {
        this.h.init(e);
      }),
        (vo.prototype.Ic = function () {
          return this.Sa;
        }),
        (vo.prototype.Ec = function () {
          return this.Ba;
        }),
        t("shaka.media.InitSegmentReference", vo),
        (vo.prototype.getEndByte = vo.prototype.Ec),
        (vo.prototype.getStartByte = vo.prototype.Ic),
        ((n = j.prototype).Pa = function () {
          return this.B();
        }),
        (n.getStartTime = function () {
          return this.startTime;
        }),
        (n.Hg = function () {
          return this.endTime;
        }),
        (n.Ic = function () {
          return this.Sa;
        }),
        (n.Ec = function () {
          return this.Ba;
        }),
        (n.$g = function () {
          return this.tilesLayout;
        }),
        (n.Zg = function () {
          return this.s;
        }),
        (n.ec = function () {
          return this.status;
        }),
        (n.jh = function () {
          this.status = bo;
        }),
        (n.Zf = function (e) {
          this.m = e;
        }),
        (n.Xg = function () {
          return this.m;
        }),
        t("shaka.media.SegmentReference", j),
        (j.prototype.getThumbnailSprite = j.prototype.Xg),
        (j.prototype.setThumbnailSprite = j.prototype.Zf),
        (j.prototype.markAsUnavailable = j.prototype.jh),
        (j.prototype.getStatus = j.prototype.ec),
        (j.prototype.getTileDuration = j.prototype.Zg),
        (j.prototype.getTilesLayout = j.prototype.$g),
        (j.prototype.getEndByte = j.prototype.Ec),
        (j.prototype.getStartByte = j.prototype.Ic),
        (j.prototype.getEndTime = j.prototype.Hg),
        (j.prototype.getUris = j.prototype.Pa);
      var yo = 0,
        bo = 1;
      function Eo(e) {
        return !e || (1 == e.length && e.end(0) - e.start(0) < 1e-6)
          ? null
          : 1 == e.length && e.start(0) < 0
          ? 0
          : e.length
          ? e.start(0)
          : null;
      }
      function To(e) {
        return e && !(1 == e.length && e.end(0) - e.start(0) < 1e-6) && e.length
          ? e.end(e.length - 1)
          : null;
      }
      function Ao(e, t) {
        return (
          !(
            !e ||
            !e.length ||
            (1 == e.length && e.end(0) - e.start(0) < 1e-6) ||
            t > e.end(e.length - 1)
          ) && t >= e.start(0)
        );
      }
      function wo(e, t) {
        if (!e || !e.length || (1 == e.length && e.end(0) - e.start(0) < 1e-6))
          return 0;
        for (var n = 0, i = Ee(So(e)), r = i.next(); !r.done; r = i.next()) {
          var a = r.value,
            r = a.start;
          t < (a = a.end) && (n += a - Math.max(r, t));
        }
        return n;
      }
      function So(e) {
        if (!e) return [];
        for (var t = [], n = 0; n < e.length; n++)
          t.push({ start: e.start(n), end: e.end(n) });
        return t;
      }
      function xo() {}
      function Io(e, t) {
        var n = (127 & e[t]) << 21;
        return (
          (n = (n |= (127 & e[t + 1]) << 14) | ((127 & e[t + 2]) << 7)) |
          (127 & e[t + 3])
        );
      }
      function ko(e) {
        for (
          var t = 0, n = [];
          t + 10 <= e.length &&
          73 === e[t] &&
          68 === e[t + 1] &&
          51 === e[t + 2] &&
          e[t + 3] < 255 &&
          e[t + 4] < 255 &&
          e[t + 6] < 128 &&
          e[t + 7] < 128 &&
          e[t + 8] < 128 &&
          e[t + 9] < 128;

        ) {
          var i = Io(e, t + 6);
          for (
            (e[t + 5] >> 6) & 1 && (t += 10), i = (t += 10) + i;
            t + 10 < i;

          ) {
            var r = e.subarray(t),
              a = Io(r, 4);
            (a = (function (e) {
              var t = { key: e.type, description: "", data: "" };
              if ("TXXX" !== e.type)
                return "WXXX" === e.type
                  ? e.size < 2 ||
                    3 !== e.data[0] ||
                    -1 === (n = e.data.subarray(1).indexOf(0))
                    ? null
                    : ((i = en(R(e.data, 1, n))),
                      (e = en(R(e.data, 2 + n)).replace(/\0*$/, "")),
                      (t.description = i),
                      (t.data = e),
                      t)
                  : "PRIV" === e.type
                  ? e.size < 2 || -1 === (i = e.data.indexOf(0))
                    ? null
                    : ((i = en(R(e.data, 0, i))),
                      (e = Ot(e.data.subarray(i.length + 1))),
                      (t.description = i),
                      (t.data = e),
                      t)
                  : "T" === e.type[0]
                  ? e.size < 2 || 3 !== e.data[0]
                    ? null
                    : ((e = en(e.data.subarray(1)).replace(/\0*$/, "")),
                      (t.data = e),
                      t)
                  : "W" === e.type[0]
                  ? ((e = en(e.data).replace(/\0*$/, "")), (t.data = e), t)
                  : e.data
                  ? ((t.data = Ot(e.data)), t)
                  : null;
              if (e.size < 2 || 3 !== e.data[0]) return null;
              var n = e.data.subarray(1).indexOf(0);
              if (-1 === n) return null;
              var i = en(R(e.data, 1, n));
              return (
                (e = en(R(e.data, 2 + n)).replace(/\0*$/, "")),
                (t.description = i),
                (t.data = e),
                t
              );
            })(
              (r = {
                type: String.fromCharCode(r[0], r[1], r[2], r[3]),
                size: a,
                data: r.subarray(10, 10 + a),
              })
            )) && n.push(a),
              (t += r.size + 10);
          }
          t + 10 <= e.length &&
            51 === e[t] &&
            68 === e[t + 1] &&
            73 === e[t + 2] &&
            e[t + 3] < 255 &&
            e[t + 4] < 255 &&
            e[t + 6] < 128 &&
            e[t + 7] < 128 &&
            e[t + 8] < 128 &&
            e[t + 9] < 128 &&
            (t += 10);
        }
        return n;
      }
      function Co() {
        (this.s = null),
          (this.B = !1),
          (this.l = this.m = null),
          (this.F = []),
          (this.g = this.h = null),
          (this.C = []),
          (this.j = null),
          (this.i = []);
      }
      function Mo(e) {
        if (1 != ((e[0] << 16) | (e[1] << 8) | e[2])) return null;
        var t = {
            data: new Uint8Array(0),
            uj: 6 + ((e[4] << 8) | e[5]),
            pts: null,
            dts: null,
          },
          n = e[7];
        return (
          192 & n &&
            ((t.pts =
              536870912 * (14 & e[9]) +
              4194304 * (255 & e[10]) +
              16384 * (254 & e[11]) +
              128 * (255 & e[12]) +
              (254 & e[13]) / 2),
            (t.dts = t.pts),
            64 & n &&
              (t.dts =
                536870912 * (14 & e[14]) +
                4194304 * (255 & e[15]) +
                16384 * (254 & e[16]) +
                128 * (255 & e[17]) +
                (254 & e[18]) / 2)),
          (t.data = e.subarray(9 + e[8])),
          t
        );
      }
      function Lo(e) {
        for (var t = Math.min(1e3, e.length - 564), n = 0; n < t; ) {
          if (71 === e[n] && 71 === e[n + 188] && 71 === e[n + 376]) return n;
          n++;
        }
        return -1;
      }
      function No(e, t, n) {
        (this.g = null),
          (this.i = -1),
          (this.j = e),
          (this.h = t),
          (this.l = n),
          "undefined" == typeof libDPIModule &&
            k("Could not Find LCEVC Library dependencies on this page"),
          "undefined" == typeof LcevcDil
            ? k("Could not Find LCEVC Library on this page")
            : LcevcDil.SupportObject.SupportStatus ||
              k(LcevcDil.SupportObject.SupportError),
          "undefined" != typeof LcevcDil &&
            "undefined" != typeof libDPIModule &&
            this.h instanceof HTMLCanvasElement &&
            LcevcDil.SupportObject.SupportStatus &&
            !this.g &&
            LcevcDil.SupportObject.webGLSupport(this.h) &&
            (this.h.classList.remove("shaka-hidden"),
            (this.g = new LcevcDil.LcevcDil(this.j, this.h, this.l)));
      }
      function Ro(e, t) {
        var n = _o;
        switch (t.mimeType) {
          case "video/webm":
            n = Po;
            break;
          case "video/mp4":
            n = Do;
        }
        e.g &&
          ((e.i = t.id),
          e.g.setLevelSwitching(t.id, !0),
          e.g.setContainerFormat(n));
      }
      (j.Status = { Uh: yo, jj: bo, zi: 2 }),
        t("shaka.util.Id3Utils", xo),
        (xo.getID3Frames = ko),
        (Co.prototype.parse = function (e) {
          if (e.length < 564) return this;
          for (
            var t = Math.max(0, Lo(e)),
              n = e.length - ((e.length + t) % 188),
              i = !1,
              r = t;
            r < n;
            r += 188
          )
            if (71 === e[r]) {
              var a = !!(64 & e[r + 1]),
                o = ((31 & e[r + 1]) << 8) + e[r + 2];
              if (1 < (48 & e[r + 3]) >> 4) {
                var s = r + 5 + e[r + 4];
                if (s === r + 188) continue;
              } else s = r + 4;
              switch (o) {
                case 0:
                  a && (s += e[s] + 1),
                    (this.s = ((31 & e[s + 10]) << 8) | e[s + 11]);
                  break;
                case 17:
                case 8191:
                  break;
                case this.s:
                  a && (s += e[s] + 1);
                  var o = {
                      audio: -1,
                      video: -1,
                      me: -1,
                      audioCodec: "",
                      videoCodec: "",
                    },
                    u = s + 3 + (((15 & (a = e)[s + 1]) << 8) | a[s + 2]) - 4;
                  for (
                    s += 12 + (((15 & a[s + 10]) << 8) | a[s + 11]);
                    s < u;

                  ) {
                    var l = ((31 & a[s + 1]) << 8) | a[s + 2];
                    switch (a[s]) {
                      case 15:
                        -1 === o.audio &&
                          ((o.audio = l), (o.audioCodec = "aac"));
                        break;
                      case 21:
                        -1 === o.me && (o.me = l);
                        break;
                      case 27:
                        -1 === o.video &&
                          ((o.video = l), (o.videoCodec = "avc"));
                        break;
                      case 3:
                      case 4:
                        -1 === o.audio &&
                          ((o.audio = l), (o.audioCodec = "mp3"));
                        break;
                      case 36:
                        -1 === o.video &&
                          ((o.video = l), (o.videoCodec = "hvc"));
                    }
                    s += 5 + (((15 & a[s + 3]) << 8) | a[s + 4]);
                  }
                  (a = o),
                    null == this.l && (this.l = a.video),
                    null == this.g && (this.g = a.audio),
                    null == this.j && (this.j = a.me),
                    i && !this.B && ((i = !1), (r = t - 188)),
                    (this.B = !0);
                  break;
                case this.l:
                  (a = e.subarray(s, r + 188)),
                    null == this.m &&
                      (s = Mo(a)) &&
                      null != s.pts &&
                      (this.m = s.pts / 9e4),
                    this.F.push(a);
                  break;
                case this.g:
                  (a = e.subarray(s, r + 188)),
                    null == this.h &&
                      (s = Mo(a)) &&
                      null != s.pts &&
                      (this.h = s.pts / 9e4),
                    this.C.push(a);
                  break;
                case this.j:
                  this.i.push(e.subarray(s, r + 188));
                  break;
                default:
                  i = !0;
              }
            }
          return this;
        }),
        (Co.prototype.getStartTime = function () {
          return { audio: this.h, video: this.m };
        }),
        t("shaka.util.TsParser", Co),
        (No.prototype.release = function () {
          this.g && (this.g.close(), (this.g = null));
        }),
        t("shaka.lcevc.Dil", No);
      var _o = 0,
        Po = 1,
        Do = 2;
      function Oo(e, t, n, i) {
        var r,
          a,
          c = this;
        (this.j = e),
          (this.H = null),
          (this.m = t),
          (this.h = {}),
          (this.M = {}),
          (this.R = {}),
          (this.g = null),
          (this.J = !1),
          (this.U = n || function () {}),
          (this.G = i || null),
          (this.i = {}),
          (this.C = new f()),
          (this.s = {}),
          (this.B = null),
          (this.K = new P()),
          (this.l =
            ((a = (r = this).K),
            (e = new MediaSource()),
            r.C.Ea(e, "sourceopen", function () {
              URL.revokeObjectURL(r.O), a.resolve();
            }),
            (r.O = Zo(e)),
            (r.j.src = r.O),
            e)),
          (this.I = new Yi(function () {
            return (
              (t = c),
              Ie(function (e) {
                if (1 == e.g) {
                  for (i in ((n = []), t.i))
                    for (
                      r = t.i[i],
                        a = r[0],
                        t.i[i] = r.slice(0, 1),
                        a && n.push(a.p.catch(Be)),
                        o = Ee(r.slice(1)),
                        s = o.next();
                      !s.done;
                      s = o.next()
                    )
                      (u = s.value), u.p.reject(new ke(2, 7, 7003, void 0));
                  for (l in (t.g && n.push(t.g.destroy()),
                  t.m && n.push(t.m.destroy()),
                  t.s))
                    n.push(t.s[l].destroy());
                  return Te(e, Promise.all(n), 2);
                }
                t.C && (t.C.release(), (t.C = null)),
                  t.j && (t.j.removeAttribute("src"), t.j.load(), (t.j = null)),
                  (t.H = null),
                  (t.l = null),
                  (t.g = null),
                  (t.m = null),
                  (t.h = {}),
                  (t.s = {}),
                  (t.B = null),
                  (t.i = {}),
                  (t.G = null),
                  Ae(e);
              })
            );
            var t, n, i, r, a, o, s, u, l;
          })),
          (this.O = ""),
          (this.F = !1),
          (this.Y = new P());
      }
      function Uo(e, t, n) {
        e.g || (e.g = new Cn(e.m));
        var i = e.g;
        (e = e.J),
          "application/cea-608" != t &&
            "application/cea-708" != t &&
            ((i.j = (0, Rn[t])()),
            i.j.setSequenceMode
              ? i.j.setSequenceMode(n)
              : k('Text parsers should have a "setSequenceMode" method!'),
            (i.C = e));
      }
      function jo(e) {
        return !e.l || "ended" == e.l.readyState;
      }
      function Bo(e, t) {
        return t == G ? e.g.g : Eo(Go(e, t));
      }
      function Fo(e, t) {
        return t == G ? e.g.h : To(Go(e, t));
      }
      function Go(e, t) {
        try {
          return e.h[t].buffered;
        } catch (e) {
          return null;
        }
      }
      function Ko(d, h, f, p, g, m, v) {
        var y, b, E, T, A, w, S, x, I, k, C, M;
        return (
          (m = void 0 !== m && m),
          (v = void 0 !== v && v),
          Ie(function (e) {
            switch (e.g) {
              case 1:
                if (h != (y = He).ma) {
                  e.D(2);
                  break;
                }
                if (d.F) return Te(e, d.Y, 4);
                e.D(3);
                break;
              case 4:
                (b = e.h), (d.g.B = b);
              case 3:
                return Te(
                  e,
                  ((o = d.g),
                  (s = f),
                  (u = p ? p.startTime : null),
                  (l = p ? p.endTime : null),
                  Ie(function (e) {
                    return 1 == e.g
                      ? Te(e, Promise.resolve(), 2)
                      : o.j && o.i
                      ? null == u || null == l
                        ? (o.j.parseInit(R(s)), e.return())
                        : ((c = o.C ? u : o.B),
                          (c = {
                            periodStart: o.B,
                            segmentStart: u,
                            segmentEnd: l,
                            vttOffset: c,
                          }),
                          (c = o.j.parseMedia(R(s), c)),
                          (c = c.filter(function (e) {
                            return e.startTime >= o.l && e.startTime < o.m;
                          })),
                          o.i.append(c),
                          null == o.g && (o.g = Math.max(u, o.l)),
                          (o.h = Math.min(l, o.m)),
                          void Ae(e))
                      : e.return();
                  })),
                  5
                );
              case 5:
                return e.return();
              case 2:
                if (
                  ((b = R(f)),
                  (A = d.M[h]),
                  d.s[h] && (A = d.s[h].s),
                  Lo(b) < 0
                    ? !ts.includes(A) ||
                      ((E = ko(b)).length &&
                        p &&
                        ((E = {
                          cueTime: p.startTime,
                          data: b,
                          frames: E,
                          dts: p.startTime,
                          pts: p.startTime,
                        }),
                        d.U([E], 0, p.endTime)))
                    : (E = (function (e) {
                        for (
                          var t = [], n = new Uint8Array(0), i = e.i.length - 1;
                          0 <= i;
                          i--
                        ) {
                          var r = Mo((n = fn(e.i[i], n)));
                          r &&
                            (t.unshift({
                              cueTime: r.pts ? r.pts / 9e4 : null,
                              data: r.data,
                              frames: ko(r.data),
                              dts: r.dts,
                              pts: r.pts,
                            }),
                            (n = new Uint8Array(0)));
                        }
                        return t;
                      })(new Co().parse(b))).length &&
                      ((T = d.h[h].timestampOffset),
                      d.U(E, T, p ? p.endTime : null)),
                  d.s[h])
                )
                  return (
                    m && d.s[h].g.resetCaptions(),
                    Te(
                      e,
                      ((r = d.s[h]),
                      (a = f),
                      (r.j = !0),
                      (r.h = new P()),
                      (r.l = []),
                      (r.i = []),
                      (a = R(a)),
                      r.g.push(a),
                      r.g.flush(),
                      r.j && r.h.reject(new ke(2, 3, 3018)),
                      r.h),
                      7
                    )
                  );
                g &&
                  h == y.Ma &&
                  (d.g || Uo(d, "text/vtt", d.F),
                  d.B || (d.B = new mo(A)),
                  p
                    ? (T = (function (e, t) {
                        for (
                          var n = e.h.parse(t), i = (n = Ee(n)).next();
                          !i.done;
                          i = n.next()
                        ) {
                          var r = i.value,
                            a = R(r.qh);
                          if (
                            0 < a.length &&
                            ((i = e.g),
                            (r = r.pts),
                            181 === (a = new D(a, 0)).ob() &&
                              49 === a.Ce() &&
                              1195456820 === a.P() &&
                              3 === a.ob())
                          ) {
                            var o = a.ob();
                            if (0 != (64 & o)) {
                              (o &= 31), a.skip(1);
                              for (var s = 0; s < o; s++) {
                                var u = a.ob(),
                                  l = (4 & u) >> 2,
                                  c = a.ob(),
                                  d = a.ob();
                                l &&
                                  (0 == (u &= 3) || 1 == u
                                    ? i.h.push({
                                        pts: r,
                                        type: u,
                                        Oa: c,
                                        hb: d,
                                        order: i.h.length,
                                      })
                                    : (i.g.push({
                                        pts: r,
                                        type: u,
                                        value: c,
                                        order: i.g.length,
                                      }),
                                      i.g.push({
                                        pts: r,
                                        type: 2,
                                        value: d,
                                        order: i.g.length,
                                      })));
                              }
                            }
                          }
                        }
                        return ro(e.g);
                      })(d.B, f)).length &&
                      ((A = d.h[y.Ma].timestampOffset),
                      Nn(d.g, T, p.startTime, p.endTime, A))
                    : d.B.init(f)),
                  e.D(6);
                break;
              case 7:
                (A = e.h),
                  d.g || Uo(d, "text/vtt", d.F),
                  A.captions &&
                    A.captions.length &&
                    ((C = d.h[y.Ma].timestampOffset),
                    (k = (function (e) {
                      for (
                        var t = [], n = (e = Ee(e)).next();
                        !n.done;
                        n = e.next()
                      )
                        (n = n.value),
                          t.push({
                            stream: n.stream,
                            cue: new L(n.startTime, n.endTime, n.text),
                          });
                      return t;
                    })(A.captions)),
                    Nn(
                      d.g,
                      k,
                      p ? p.startTime : null,
                      p ? p.endTime : null,
                      C
                    )),
                  (f = A.data);
              case 6:
                if (
                  ((a = d),
                  (r = f),
                  (t = p ? p.startTime : null),
                  (n = h),
                  (i = a.R[n]),
                  (f = r =
                    null == t &&
                    i &&
                    (Vt() || zt()) &&
                    "mp4" == a.M[n].split(";")[0].split("/")[1]
                      ? oa(r)
                      : r),
                  (w = d.h[h]),
                  (S = es),
                  !d.F || w.mode == S || !p)
                ) {
                  e.D(8);
                  break;
                }
                if (h == y.Ma || !(y.Ma in d.h))
                  return (
                    (x = [w.appendWindowStart, w.appendWindowEnd]),
                    (w.appendWindowStart = 0),
                    (w.appendWindowEnd = 1 / 0),
                    (I = w.timestampOffset),
                    (w.timestampOffset = 0),
                    Te(
                      e,
                      Yo(d, h, function () {
                        return Ho(d, h, f);
                      }),
                      10
                    )
                  );
                e.D(9);
                break;
              case 10:
                return Te(
                  e,
                  Yo(d, h, function () {
                    return Wo(d, h);
                  }),
                  11
                );
              case 11:
                return (
                  (w.timestampOffset = I),
                  (w.appendWindowStart = x[0]),
                  (w.appendWindowEnd = x[1]),
                  (k = Eo(Go(d, h))),
                  (C = (p.startTime || 0) - (k || 0)),
                  d.Y.resolve(C),
                  Te(
                    e,
                    Yo(d, h, function () {
                      return Xo(d, h, 0, d.l.duration);
                    }),
                    12
                  )
                );
              case 12:
                if (h == y.Ma)
                  return Te(
                    e,
                    Yo(d, h, function () {
                      (d.j.currentTime -= 0.001), qo(d, h);
                    }),
                    9
                  );
                e.D(9);
                break;
              case 9:
                w.mode = S;
              case 8:
                return (
                  p &&
                    d.F &&
                    h != y.ma &&
                    (m || v) &&
                    ((M = p.startTime),
                    Yo(d, h, function () {
                      return Wo(d, h);
                    }),
                    Yo(d, h, function () {
                      var e = M;
                      e < 0 && (e += 0.001),
                        (d.h[h].timestampOffset = e),
                        qo(d, h);
                    })),
                  Te(
                    e,
                    Yo(d, h, function () {
                      Ho(d, h, f);
                    }),
                    15
                  )
                );
              case 15:
                Ae(e);
            }
            var t, n, i, r, a, o, s, u, l, c;
          })
        );
      }
      function zo(t, n) {
        return Ie(function (e) {
          return n == He.ma
            ? t.g
              ? Te(e, t.g.remove(0, 1 / 0), 0)
              : e.return()
            : Te(
                e,
                Yo(t, n, function () {
                  return Xo(t, n, 0, t.l.duration);
                }),
                0
              );
        });
      }
      function Vo(i, r, a, o, s, u) {
        return Ie(function (e) {
          return r == He.ma
            ? (u || (i.g.B = a),
              (t = i.g),
              (n = s),
              (t.l = o),
              (t.m = n),
              e.return())
            : Te(
                e,
                Promise.all([
                  Yo(i, r, function () {
                    return Wo(i, r);
                  }),
                  u
                    ? Promise.resolve()
                    : Yo(i, r, function () {
                        var e = a;
                        e < 0 && (e += 0.001),
                          (i.h[r].timestampOffset = e),
                          qo(i, r);
                      }),
                  Yo(i, r, function () {
                    (i.h[r].appendWindowStart = 0),
                      (i.h[r].appendWindowEnd = s),
                      (i.h[r].appendWindowStart = o),
                      qo(i, r);
                  }),
                ]),
                0
              );
          var t, n;
        });
      }
      function Ho(e, t, n) {
        var i;
        "video" == t && e.G && (i = e.G).g && i.g.appendBuffer(n, "video", i.i),
          e.h[t].appendBuffer(n);
      }
      function Xo(e, t, n, i) {
        i <= n ? qo(e, t) : e.h[t].remove(n, i);
      }
      function Wo(e, t) {
        var n = e.h[t].appendWindowStart,
          i = e.h[t].appendWindowEnd;
        e.h[t].abort(),
          (e.h[t].appendWindowStart = n),
          (e.h[t].appendWindowEnd = i),
          qo(e, t);
      }
      function qo(e, t) {
        var n = e.i[t][0];
        n && (n.p.resolve(), Jo(e, t));
      }
      function Yo(e, t, n) {
        return (
          O(e.I),
          (n = { start: n, p: new P() }),
          e.i[t].push(n),
          1 == e.i[t].length && Qo(e, t),
          n.p
        );
      }
      function $o(t, n) {
        var i, r, a, o, s;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              for (a in (O(t.I), (i = []), (r = {}), t.h))
                (r.xc = new P()),
                  (o = {
                    start: (function (e) {
                      return function () {
                        return e.xc.resolve();
                      };
                    })(r),
                    p: r.xc,
                  }),
                  t.i[a].push(o),
                  i.push(r.xc),
                  1 == t.i[a].length && o.start(),
                  (r = { xc: r.xc });
              return we(e, 2), Te(e, Promise.all(i), 4);
            case 4:
              Se(e, 3);
              break;
            case 2:
              throw xe(e);
            case 3:
              try {
                n();
              } catch (e) {
                throw new ke(2, 3, 3015, e);
              } finally {
                for (s in t.h) Jo(t, s);
              }
              Ae(e);
          }
        });
      }
      function Jo(e, t) {
        e.i[t].shift(), Qo(e, t);
      }
      function Qo(t, n) {
        var i = t.i[n][0];
        if (i)
          try {
            i.start();
          } catch (e) {
            "QuotaExceededError" == e.name
              ? i.p.reject(new ke(2, 3, 3017, n))
              : i.p.reject(new ke(2, 3, 3015, e)),
              Jo(t, n);
          }
      }
      ((n = Oo.prototype).destroy = function () {
        return this.I.destroy();
      }),
        (n.init = function (t, n, i) {
          i = void 0 !== i && i;
          var r,
            a,
            o,
            s,
            u,
            l,
            c,
            d = this;
          return Ie(function (e) {
            if (1 == e.g) return (r = He), Te(e, d.K, 2);
            for (
              d.F = i, a = {}, o = Ee(t.keys()), s = o.next();
              !s.done;
              a = { Fa: a.Fa }, s = o.next()
            )
              (a.Fa = s.value),
                (u = t.get(a.Fa)),
                (l = wn(u.mimeType, u.codecs)),
                a.Fa == r.ma
                  ? Uo(d, l, i)
                  : ((!n && MediaSource.isTypeSupported(l)) ||
                      !yn(l, a.Fa) ||
                      ((d.s[a.Fa] = new vn(l)), (l = En(a.Fa, l))),
                    (c = l + d.H.sourceBufferExtraFeatures),
                    (c = d.l.addSourceBuffer(c)),
                    d.C.o(
                      c,
                      "error",
                      (function (e) {
                        return function () {
                          d.i[e.Fa][0].p.reject(
                            new ke(2, 3, 3014, d.j.error ? d.j.error.code : 0)
                          );
                        };
                      })(a)
                    ),
                    d.C.o(
                      c,
                      "updateend",
                      (function (e) {
                        return function () {
                          return qo(d, e.Fa);
                        };
                      })(a)
                    ),
                    (d.h[a.Fa] = c),
                    (d.M[a.Fa] = l),
                    (d.i[a.Fa] = []),
                    (d.R[a.Fa] = !!u.drmInfos.length));
            Ae(e);
          });
        }),
        (n.configure = function (e) {
          this.H = e;
        }),
        (n.ib = function () {
          var e,
            t,
            n = {
              total: So(this.j.buffered),
              audio: So(Go(this, "audio")),
              video: So(Go(this, "video")),
              text: [],
            };
          return (
            this.g &&
              ((e = this.g.g),
              (t = this.g.h),
              null != e && null != t && n.text.push({ start: e, end: t })),
            n
          );
        }),
        (n.remove = function (t, n, i) {
          var r = this;
          return Ie(function (e) {
            return t == He.ma
              ? Te(e, r.g.remove(n, i), 0)
              : Te(
                  e,
                  Yo(r, t, function () {
                    return Xo(r, t, n, i);
                  }),
                  0
                );
          });
        }),
        (n.flush = function (t) {
          var n = this;
          return Ie(function (e) {
            return t == He.ma
              ? e.return()
              : Te(
                  e,
                  Yo(n, t, function () {
                    (n.j.currentTime -= 0.001), qo(n, t);
                  }),
                  0
                );
          });
        }),
        (n.endOfStream = function (t) {
          var n = this;
          return Ie(function (e) {
            return Te(
              e,
              $o(n, function () {
                jo(n) || (t ? n.l.endOfStream(t) : n.l.endOfStream());
              }),
              0
            );
          });
        }),
        (n.bb = function (n) {
          var i = this;
          return Ie(function (e) {
            return Te(
              e,
              $o(i, function () {
                if (n < i.l.duration)
                  for (var e in i.h) {
                    var t = { start: function () {}, p: new P() };
                    i.i[e].unshift(t);
                  }
                i.l.duration = n;
              }),
              0
            );
          });
        }),
        (n.getDuration = function () {
          return this.l.duration;
        });
      var Zo = N.URL.createObjectURL,
        es = "sequence",
        ts = ["audio/aac", "audio/ac3", "audio/ec3", "audio/mpeg"];
      function B(e, t, n) {
        (this.i = e),
          (this.m = t),
          (this.s = this.j = 1 / 0),
          (this.g = 1),
          (this.h = this.l = null),
          (this.B = 0),
          (this.C = !0),
          (this.F = 0),
          (this.G = void 0 === n || n),
          (this.H = 0),
          (this.I = !1);
      }
      function ns(e, t, n) {
        (this.l = n),
          (this.j = e),
          (this.B = rs(e)),
          (this.g = e.g.currentTime),
          (this.m = Date.now() / 1e3),
          (this.h = !1),
          (this.s = 0),
          (this.C = t),
          (this.i = function () {});
      }
      function is(e) {
        this.g = e;
      }
      function rs(e) {
        if (e.g.paused || 0 == e.g.playbackRate || 0 == e.g.buffered.length)
          var t = !1;
        else
          e: {
            for (
              var t = e.g.currentTime, n = (e = Ee(So(e.g.buffered))).next();
              !n.done;
              n = e.next()
            )
              if (!(t < (n = n.value).start - 0.1 || t > n.end - 0.5)) {
                t = !0;
                break e;
              }
            t = !1;
          }
        return t;
      }
      function as(e, t, n, i, r) {
        var a = this;
        (this.s = r),
          (this.g = e),
          (this.B = t),
          (this.G = n),
          (this.i = new f()),
          (this.m = !1),
          (this.F = e.readyState),
          (this.C = 0),
          (this.h = i),
          (this.l = !1),
          this.i.o(e, "waiting", function () {
            return os(a);
          }),
          (this.j = new M(function () {
            os(a);
          }).ha(0.25));
      }
      function os(e) {
        if (0 != e.g.readyState) {
          if (e.g.seeking) {
            if (!e.m) return;
          } else e.m = !1;
          var t, n, i, r;
          (e.g.paused &&
            (0 != e.g.currentTime ||
              (!e.g.autoplay && 0 == e.g.currentTime))) ||
            (e.g.readyState != e.F && (e.F = e.g.readyState),
            (t = !e.h) ||
              ((i = rs((n = (t = e.h).j))),
              (r = n.g.currentTime),
              (a = Date.now() / 1e3),
              (t.g == r && t.B == i) ||
                ((t.m = a), (t.g = r), (t.B = i), (t.h = !1)),
              (i = (r = a - t.m) >= t.C && i && !t.h) &&
                (t.i(t.g, r),
                (t.h = !0),
                (t.g = n.g.currentTime),
                t.s++,
                t.l(new _("stalldetected"))),
              (t = !i)),
            t &&
              ((t = e.g.currentTime),
              (n = e.g.buffered),
              (a = n),
              (o = t),
              (s = e.G.gapDetectionThreshold),
              null ==
                (i =
                  a &&
                  a.length &&
                  !(1 == a.length && a.end(0) - a.start(0) < 1e-6) &&
                  0 <=
                    (a = So(a).findIndex(function (e, t, n) {
                      return e.start > o && (0 == t || n[t - 1].end - o <= s);
                    }))
                    ? a
                    : null) ||
                (0 == i && !e.l) ||
                (r = n.start(i)) >= e.B.jb() ||
                r - t < 0.001 ||
                (0 != i && n.end(i - 1),
                (e.g.currentTime = r),
                e.C++,
                e.s(new _("gapjumped")))));
        }
        var a, o, s;
      }
      function ss(e, t, n, i) {
        t == HTMLMediaElement.HAVE_NOTHING || e.readyState >= t
          ? i()
          : ((t = us.value().get(t)), n.Ea(e, t, i));
      }
      ((n = B.prototype).getDuration = function () {
        return this.j;
      }),
        (n.Pg = function () {
          return this.g;
        }),
        (n.Yf = function (e) {
          this.i = e;
        }),
        (n.bb = function (e) {
          this.j = e;
        }),
        (n.Tg = function () {
          return this.i;
        }),
        (n.Uf = function (e) {
          this.B = e;
        }),
        (n.Yc = function (e) {
          this.C = e;
        }),
        (n.Qe = function (e) {
          this.s = e;
        }),
        (n.Vf = function (e) {
          this.m = e;
        }),
        (n.Gg = function () {
          return this.m;
        }),
        (n.kc = function (e) {
          if (0 != e.length) {
            for (
              var t = e[0].startTime, n = e[0].endTime, i = (e = Ee(e)).next();
              !i.done;
              i = e.next()
            )
              (i = i.value),
                (t = Math.min(t, i.startTime)),
                (n = Math.max(n, i.endTime)),
                (this.g = Math.max(this.g, i.endTime - i.startTime));
            this.ze(t),
              (this.h = Math.max(this.h, n)),
              null != this.i &&
                this.G &&
                !this.I &&
                (this.i = (Date.now() + this.B) / 1e3 - this.h - this.g);
          }
        }),
        (n.ve = function () {
          this.I = !0;
        }),
        (n.ze = function (e) {
          this.l = null == this.l ? e : Math.min(this.l, e);
        }),
        (n.ye = function (e) {
          this.g = Math.max(this.g, e);
        }),
        (n.offset = function (e) {
          null != this.l && (this.l += e), null != this.h && (this.h += e);
        }),
        (n.T = function () {
          return 1 / 0 == this.j && !this.C;
        }),
        (n.Mb = function () {
          return 1 / 0 != this.j && !this.C;
        }),
        (n.kb = function () {
          return Math.max(this.F, this.Jb() - this.s);
        }),
        (n.$f = function (e) {
          this.F = e;
        }),
        (n.Jb = function () {
          return this.T() || this.Mb()
            ? Math.min(
                Math.max(0, (Date.now() + this.B) / 1e3 - this.g - this.i) +
                  this.H,
                this.j
              )
            : this.h
            ? Math.min(this.h, this.j)
            : this.j;
        }),
        (n.Hc = function (e) {
          var t = Math.max(this.l, this.F);
          return 1 / 0 == this.s
            ? Math.ceil(1e3 * t) / 1e3
            : Math.max(t, Math.min(this.Jb() - this.s + e, this.jb()));
        }),
        (n.dc = function () {
          return this.Hc(0);
        }),
        (n.jb = function () {
          return Math.max(0, this.Jb() - (this.T() || this.Mb() ? this.m : 0));
        }),
        (n.eg = function () {
          return !(null == this.i || (null != this.h && this.G));
        }),
        (n.Tf = function (e) {
          this.H = e;
        }),
        t("shaka.media.PresentationTimeline", B),
        (B.prototype.setAvailabilityTimeOffset = B.prototype.Tf),
        (B.prototype.usingPresentationStartTime = B.prototype.eg),
        (B.prototype.getSeekRangeEnd = B.prototype.jb),
        (B.prototype.getSeekRangeStart = B.prototype.dc),
        (B.prototype.getSafeSeekRangeStart = B.prototype.Hc),
        (B.prototype.getSegmentAvailabilityEnd = B.prototype.Jb),
        (B.prototype.setUserSeekStart = B.prototype.$f),
        (B.prototype.getSegmentAvailabilityStart = B.prototype.kb),
        (B.prototype.isInProgress = B.prototype.Mb),
        (B.prototype.isLive = B.prototype.T),
        (B.prototype.notifyMaxSegmentDuration = B.prototype.ye),
        (B.prototype.notifyMinSegmentStartTime = B.prototype.ze),
        (B.prototype.lockStartTime = B.prototype.ve),
        (B.prototype.notifySegments = B.prototype.kc),
        (B.prototype.getDelay = B.prototype.Gg),
        (B.prototype.setDelay = B.prototype.Vf),
        (B.prototype.setSegmentAvailabilityDuration = B.prototype.Qe),
        (B.prototype.setStatic = B.prototype.Yc),
        (B.prototype.setClockOffset = B.prototype.Uf),
        (B.prototype.getPresentationStartTime = B.prototype.Tg),
        (B.prototype.setDuration = B.prototype.bb),
        (B.prototype.setPresentationStartTime = B.prototype.Yf),
        (B.prototype.getMaxSegmentDuration = B.prototype.Pg),
        (ns.prototype.release = function () {
          (this.l = this.j = null), (this.i = function () {});
        }),
        (as.prototype.release = function () {
          this.i && (this.i.release(), (this.i = null)),
            null != this.j && (this.j.stop(), (this.j = null)),
            this.h && (this.h.release(), (this.h = null)),
            (this.g = this.B = this.s = null);
        }),
        (as.prototype.Be = function () {
          (this.l = !0), os(this);
        });
      var us = new Bt(function () {
        return new Map([
          [HTMLMediaElement.HAVE_METADATA, "loadedmetadata"],
          [HTMLMediaElement.HAVE_CURRENT_DATA, "loadeddata"],
          [HTMLMediaElement.HAVE_FUTURE_DATA, "canplay"],
          [HTMLMediaElement.HAVE_ENOUGH_DATA, "canplaythrough"],
        ]);
      });
      function ls(e, t, n) {
        var i = this;
        (this.g = e),
          (this.l = t),
          (this.j = n),
          (this.m = !1),
          (this.h = new f()),
          (this.i = new ps(e)),
          ss(this.g, HTMLMediaElement.HAVE_METADATA, this.h, function () {
            hs(i, i.j);
          });
      }
      function cs(e) {
        return e.m ? e.g.currentTime : e.j;
      }
      function ds(e, t) {
        0 < e.g.readyState
          ? gs(e.i, t)
          : ss(e.g, HTMLMediaElement.HAVE_METADATA, e.h, function () {
              hs(e, e.j);
            });
      }
      function hs(e, t) {
        Math.abs(e.g.currentTime - t) < 0.001
          ? fs(e)
          : (e.h.Ea(e.g, "seeking", function () {
              fs(e);
            }),
            gs(e.i, 0 == e.g.currentTime ? t : e.g.currentTime));
      }
      function fs(e) {
        (e.m = !0),
          e.h.o(e.g, "seeking", function () {
            return e.l();
          });
      }
      function ps(e) {
        var t = this;
        (this.h = e),
          (this.m = 10),
          (this.l = this.j = this.i = 0),
          (this.g = new M(function () {
            t.i <= 0 || t.h.currentTime != t.j
              ? t.g.stop()
              : ((t.h.currentTime = t.l), t.i--);
          }));
      }
      function gs(e, t) {
        (e.j = e.h.currentTime),
          (e.l = t),
          (e.i = e.m),
          (e.h.currentTime = t),
          e.g.ha(0.1);
      }
      function ms(e) {
        (this.g = e), (this.j = !1), (this.h = null), (this.i = new f());
      }
      function vs(e, t, n, i, r, a) {
        var o = this;
        (this.i = e),
          (this.g = t.presentationTimeline),
          (this.F = t.minBufferTime || 0),
          (this.l = n),
          (this.C = r),
          (this.B = null),
          (this.s = (function (e, t, n) {
            if (!t.stallEnabled) return null;
            var i = t.stallSkip;
            return (
              (function (e, t) {
                e.i = t;
              })((t = new ns(new is(e), t.stallThreshold, n)), function () {
                i ? (e.currentTime += i) : (e.pause(), e.play());
              }),
              t
            );
          })(e, n, a)),
          (this.j = new as(e, t.presentationTimeline, n, this.s, a)),
          (this.h = new ls(
            e,
            function () {
              ((t = o.j).m = !0), (t.l = !1);
              var e = cs(o.h),
                t = bs(o, e);
              return (
                0.001 < Math.abs(t - e) &&
                ((e = Date.now() / 1e3), !o.B || o.B < e - 1)
                  ? ((o.B = e), ds(o.h, t), (t = void 0))
                  : (o.C(), (t = void 0)),
                t
              );
            },
            ((r = this),
            null == (t = i)
              ? (t = 1 / 0 > r.g.getDuration() ? r.g.dc() : r.g.jb())
              : t < 0 && (t = r.g.jb() + t),
            ys(r, Es(r, t)))
          )),
          (this.m = new M(function () {
            var e, t, n;
            0 == o.i.readyState ||
              o.i.paused ||
              ((e = cs(o.h)),
              (t = o.g.dc()),
              e < (t = (n = o.g.jb()) - t < 3 ? n - 3 : t) &&
                ((e = bs(o, e)), (o.i.currentTime = e)));
          }));
      }
      function ys(e, t) {
        var n = e.g.getDuration();
        return n <= t ? n - e.l.durationBackoff : t;
      }
      function bs(e, t) {
        var n = Math.max(e.F, e.l.rebufferingGoal),
          i = e.l.safeSeekOffset,
          r = e.g.dc(),
          a = e.g.jb(),
          o = e.g.getDuration(),
          s = (a - r < 3 && (r = a - 3), e.g.Hc(n)),
          u = e.g.Hc(i),
          n = e.g.Hc(n + i);
        return o <= t
          ? ys(e, t)
          : a < t
          ? a
          : t < r
          ? Ao(e.i.buffered, u)
            ? u
            : n
          : s <= t || Ao(e.i.buffered, t)
          ? t
          : n;
      }
      function Es(e, t) {
        var n = e.g.dc();
        return t < n || (n = e.g.jb()) < t ? n : t;
      }
      function K(e) {
        (this.g = e), (this.h = null), (this.i = 0), (this.j = !1);
      }
      function Ts(e, t, n) {
        return new K([
          new j(
            e,
            e + t,
            function () {
              return n;
            },
            0,
            null,
            null,
            e,
            e,
            e + t
          ),
        ]);
      }
      function As(e, t, n) {
        (this.i = e), (this.g = t), (this.h = n);
      }
      function ws() {
        K.call(this, []), (this.l = []);
      }
      function Ss(e) {
        var t = this;
        (this.g = e),
          (this.j = !1),
          (this.i = this.g.ud()),
          (this.h = new M(function () {
            t.g.Nf(0.25 * t.i);
          }));
      }
      function xs(e) {
        e.h.stop();
        var t = e.j ? 0 : e.i;
        if (0 <= t)
          try {
            return void (e.g.ud() != t && e.g.Oe(t));
          } catch (e) {}
        e.h.ha(0.25), 0 != e.g.ud() && e.g.Oe(0);
      }
      function Is(e) {
        var t = this;
        (this.h = e),
          (this.g = new Set()),
          (this.i = new M(function () {
            ks(t, !1);
          }).ha(0.25));
      }
      function ks(e, t) {
        for (var n = Ee(e.g), i = n.next(); !i.done; i = n.next())
          i.value.j(e.h.currentTime, t);
      }
      function Cs(e) {
        h.call(this), (this.g = new Map()), (this.h = e);
      }
      function Ms(e) {
        h.call(this);
        var i = this;
        (this.g = new Set()),
          (this.i = e),
          (this.h = new M(function () {
            for (
              var e = i.i(), t = Ee(i.g), n = t.next();
              !n.done;
              n = t.next()
            )
              (n = n.value).endTime < e.start &&
                (i.g.delete(n),
                (n = new _("regionremove", new Map([["region", n]]))),
                i.dispatchEvent(n));
          }).ha(2));
      }
      function Ls(e) {
        h.call(this);
        var n = this;
        (this.i = e),
          (this.g = new Map()),
          (this.l = [
            {
              Vb: null,
              Ub: _s,
              Lb: function (e, t) {
                return Ns(n, "enter", e, t);
              },
            },
            {
              Vb: Rs,
              Ub: _s,
              Lb: function (e, t) {
                return Ns(n, "enter", e, t);
              },
            },
            {
              Vb: Ps,
              Ub: _s,
              Lb: function (e, t) {
                return Ns(n, "enter", e, t);
              },
            },
            {
              Vb: _s,
              Ub: Rs,
              Lb: function (e, t) {
                return Ns(n, "exit", e, t);
              },
            },
            {
              Vb: _s,
              Ub: Ps,
              Lb: function (e, t) {
                return Ns(n, "exit", e, t);
              },
            },
            {
              Vb: Rs,
              Ub: Ps,
              Lb: function (e, t) {
                return Ns(n, "skip", e, t);
              },
            },
            {
              Vb: Ps,
              Ub: Rs,
              Lb: function (e, t) {
                return Ns(n, "skip", e, t);
              },
            },
          ]),
          (this.h = new f()),
          this.h.o(this.i, "regionremove", function (e) {
            n.g.delete(e.region);
          });
      }
      function Ns(e, t, n, i) {
        (t = new _(
          t,
          new Map([
            ["region", n],
            ["seeking", i],
          ])
        )),
          e.dispatchEvent(t);
      }
      (ls.prototype.release = function () {
        this.h && (this.h.release(), (this.h = null)),
          null != this.i && (this.i.release(), (this.i = null)),
          (this.l = function () {}),
          (this.g = null);
      }),
        (ps.prototype.release = function () {
          this.g && (this.g.stop(), (this.g = null)), (this.h = null);
        }),
        ((n = ms.prototype).ge = function () {
          var e = this;
          ss(this.g, HTMLMediaElement.HAVE_CURRENT_DATA, this.i, function () {
            null == e.h || 0 == e.h
              ? (e.j = !0)
              : (e.i.Ea(e.g, "seeking", function () {
                  e.j = !0;
                }),
                (e.g.currentTime = Math.max(0, e.g.currentTime + e.h)));
          });
        }),
        (n.release = function () {
          this.i && (this.i.release(), (this.i = null)), (this.g = null);
        }),
        (n.ie = function (e) {
          this.h = this.j ? this.h : e;
        }),
        (n.hd = function () {
          return (this.j ? this.g.currentTime : this.h) || 0;
        }),
        (n.lf = function () {
          return 0;
        }),
        (n.kf = function () {
          return 0;
        }),
        (n.Of = function () {}),
        ((n = vs.prototype).ge = function () {
          this.m.ha(0.25);
        }),
        (n.release = function () {
          this.h && (this.h.release(), (this.h = null)),
            this.j && (this.j.release(), (this.j = null)),
            this.m && (this.m.stop(), (this.m = null)),
            (this.i = this.h = this.g = this.l = null),
            (this.C = function () {});
        }),
        (n.ie = function (e) {
          ds(this.h, e);
        }),
        (n.hd = function () {
          var e = cs(this.h);
          return 0 < this.i.readyState && !this.i.paused ? Es(this, e) : e;
        }),
        (n.lf = function () {
          return this.s ? this.s.s : 0;
        }),
        (n.kf = function () {
          return this.j.C;
        }),
        (n.Of = function () {
          this.j.Be();
        }),
        ((n = K.prototype).release = function () {
          this.j || ((this.g = []), this.h && this.h.stop(), (this.h = null));
        }),
        (n.kh = function () {
          this.j = !0;
        }),
        (n.find = function (e) {
          for (var t = this.g.length - 1, n = t; 0 <= n; --n) {
            var i = this.g[n],
              r = n < t ? this.g[n + 1].startTime : i.endTime;
            if (e >= i.startTime && e < r) return n + this.i;
          }
          return this.g.length && e < this.g[0].startTime ? this.i : null;
        }),
        (n.get = function (e) {
          return 0 == this.g.length || (e -= this.i) < 0 || e >= this.g.length
            ? null
            : this.g[e];
        }),
        (n.offset = function (e) {
          if (!this.j)
            for (var t = Ee(this.g), n = t.next(); !n.done; n = t.next()) {
              ((n = n.value).startTime += e), (n.endTime += e), (n.j += e);
              for (var i = (n = Ee(n.i)).next(); !i.done; i = n.next())
                ((i = i.value).startTime += e), (i.endTime += e), (i.j += e);
            }
        }),
        (n.Qc = function (t) {
          !this.j &&
            t.length &&
            ((this.g = this.g.filter(function (e) {
              return e.startTime < t[0].startTime;
            })),
            this.g.push.apply(this.g, I(t)));
        }),
        (n.jc = function (e, t) {
          var n = this;
          (e = e.filter(function (e) {
            return (
              e.endTime > t && (0 == n.g.length || e.endTime > n.g[0].startTime)
            );
          })),
            this.Qc(e),
            this.Hb(t);
        }),
        (n.Hb = function (t) {
          var e;
          this.j ||
            ((e = this.g.length),
            (this.g = this.g.filter(function (e) {
              return e.endTime > t;
            })),
            (this.i += e - this.g.length));
        }),
        (n.xb = function (e, t, n) {
          if (((n = void 0 !== n && n), !this.j)) {
            for (; this.g.length && this.g[this.g.length - 1].startTime >= t; )
              this.g.pop();
            for (; this.g.length && this.g[0].endTime <= e; )
              this.g.shift(), n || this.i++;
            0 != this.g.length &&
              ((e = this.g[this.g.length - 1]),
              (this.g[this.g.length - 1] = new j(
                e.startTime,
                t,
                e.B,
                e.Sa,
                e.Ba,
                e.h,
                e.timestampOffset,
                e.appendWindowStart,
                e.appendWindowEnd,
                e.i,
                e.tilesLayout,
                e.s,
                e.g,
                e.status,
                e.l
              )));
          }
        }),
        (n.Nd = function (e, t) {
          var n = this;
          this.j ||
            (this.h && this.h.stop(),
            (this.h = new M(function () {
              var e = t();
              e ? n.g.push.apply(n.g, I(e)) : (n.h.stop(), (n.h = null));
            })),
            this.h.ha(e));
        }),
        (K.prototype[Symbol.iterator] = function () {
          return this.bc(0);
        }),
        (K.prototype.bc = function (e) {
          var t = this.find(e);
          if (null == t) return null;
          var n = this.get(--t + 1),
            i = -1;
          if (n && 0 < n.i.length)
            for (var r = n.i.length - 1; 0 <= r; --r) {
              var a = n.i[r];
              if (e >= a.startTime && e < a.endTime) {
                t++, (i = r - 1);
                break;
              }
            }
          return new As(this, t, i);
        }),
        t("shaka.media.SegmentIndex", K),
        (K.forSingleSegment = Ts),
        (K.prototype.getIteratorForTime = K.prototype.bc),
        (K.prototype.updateEvery = K.prototype.Nd),
        (K.prototype.fit = K.prototype.xb),
        (K.prototype.evict = K.prototype.Hb),
        (K.prototype.mergeAndEvict = K.prototype.jc),
        (K.prototype.markImmutable = K.prototype.kh),
        (As.prototype.sg = function () {
          return this.g;
        }),
        (As.prototype.current = function () {
          var e = this.i.get(this.g);
          return (
            e &&
              0 < e.i.length &&
              e.Pa().length &&
              this.h >= e.i.length &&
              (this.g++, (this.h = 0), (e = this.i.get(this.g))),
            e && 0 < e.i.length ? e.i[this.h] : e
          );
        }),
        (As.prototype.next = function () {
          var e = this.i.get(this.g);
          return (
            e && 0 < e.i.length
              ? (this.h++,
                e.Pa().length &&
                  this.h == e.i.length &&
                  (this.g++, (this.h = 0)))
              : (this.g++, (this.h = 0)),
            { value: (e = this.current()), done: !e }
          );
        }),
        t("shaka.media.SegmentIterator", As),
        (As.prototype.currentPosition = As.prototype.sg),
        e(ws, K),
        ((n = ws.prototype).clone = function () {
          var e = new ws();
          return (e.l = this.l.slice()), e;
        }),
        (n.release = function () {
          for (var e = Ee(this.l), t = e.next(); !t.done; t = e.next())
            t.value.release();
          this.l = [];
        }),
        (n.find = function (e) {
          for (var t = 0, n = Ee(this.l), i = n.next(); !i.done; i = n.next()) {
            var r = (i = i.value).find(e);
            if (null != r) return r + t;
            t += i.i + i.g.length;
          }
          return null;
        }),
        (n.get = function (e) {
          for (var t = 0, n = Ee(this.l), i = n.next(); !i.done; i = n.next()) {
            var r = (i = i.value).get(e - t);
            if (r) return r;
            t += i.i + i.g.length;
          }
          return null;
        }),
        (n.offset = function () {}),
        (n.Qc = function () {}),
        (n.Hb = function () {}),
        (n.jc = function () {}),
        (n.xb = function () {}),
        (n.Nd = function () {}),
        t("shaka.media.MetaSegmentIndex", ws),
        (ws.prototype.updateEvery = ws.prototype.Nd),
        (ws.prototype.fit = ws.prototype.xb),
        (ws.prototype.mergeAndEvict = ws.prototype.jc),
        (ws.prototype.evict = ws.prototype.Hb),
        (ws.prototype.merge = ws.prototype.Qc),
        (Ss.prototype.release = function () {
          this.h && (this.h.stop(), (this.h = null)), (this.g = null);
        }),
        (Ss.prototype.set = function (e) {
          (this.i = e), xs(this);
        }),
        (Ss.prototype.rd = function () {
          return this.g.rd();
        }),
        (Is.prototype.release = function () {
          this.i.stop();
          for (var e = Ee(this.g), t = e.next(); !t.done; t = e.next())
            t.value.release();
          this.g.clear();
        }),
        e(Cs, h),
        (Cs.prototype.release = function () {
          this.g.clear(), h.prototype.release.call(this);
        }),
        (Cs.prototype.j = function (e) {
          for (
            var t = Ee(this.g.values()), n = t.next();
            !n.done;
            n = t.next()
          ) {
            e: {
              for (var i = (n = n.value).Sc, r = i.length - 1; 0 <= r; r--) {
                var a = i[r];
                if (a.position <= e) {
                  i = a.we;
                  break e;
                }
              }
              i = null;
            }
            if (
              (r = (r = i)
                ? !(
                    (r = n.yf) === i ||
                    (r &&
                      i &&
                      r.bandwidth == i.bandwidth &&
                      r.audioSamplingRate == i.audioSamplingRate &&
                      r.codecs == i.codecs &&
                      r.contentType == i.contentType &&
                      r.frameRate == i.frameRate &&
                      r.height == i.height &&
                      r.mimeType == i.mimeType &&
                      r.channelsCount == i.channelsCount &&
                      r.pixelAspectRatio == i.pixelAspectRatio &&
                      r.width == i.width)
                  )
                : r)
            )
              e: {
                if (
                  ((r = e),
                  (a = i.contentType),
                  (a = this.h()[a]) && 0 < a.length)
                ) {
                  var o = a[a.length - 1].end;
                  if (r >= a[0].start && r < o) {
                    r = !0;
                    break e;
                  }
                }
                r = !1;
              }
            r &&
              ((n.yf = i),
              JSON.stringify(i),
              (n = new _(
                "qualitychange",
                new Map([
                  ["quality", i],
                  ["position", e],
                ])
              )),
              this.dispatchEvent(n));
          }
        }),
        e(Ms, h),
        (Ms.prototype.release = function () {
          this.g.clear(), this.h.stop(), h.prototype.release.call(this);
        }),
        e(Ls, h),
        (Ls.prototype.release = function () {
          (this.i = null),
            this.g.clear(),
            this.h.release(),
            (this.h = null),
            h.prototype.release.call(this);
        }),
        (Ls.prototype.j = function (e, t) {
          for (var n = Ee(this.i.g), i = n.next(); !i.done; i = n.next()) {
            var i = i.value,
              r = this.g.get(i),
              a = e < i.startTime ? Rs : e > i.endTime ? Ps : _s;
            this.g.set(i, a);
            for (var o = Ee(this.l), s = o.next(); !s.done; s = o.next())
              (s = s.value).Vb == r && s.Ub == a && s.Lb(i, t);
          }
        });
      var Rs = 1,
        _s = 2,
        Ps = 3;
      function Ds(e, t, n, i, r) {
        return (
          (e = zi(e, i, r)),
          (0 == t && null == n) ||
            (e.headers.Range = n ? "bytes=" + t + "-" + n : "bytes=" + t + "-"),
          e
        );
      }
      function Os(e, t) {
        var o = this;
        (this.g = t),
          (this.m = e),
          (this.i = null),
          (this.C = 1),
          (this.s = this.l = null),
          (this.G = !1),
          (this.j = new Map()),
          (this.F = !1),
          (this.H = null),
          (this.B = !1),
          (this.h = new Yi(function () {
            return (
              (t = o),
              Ie(function (e) {
                if (1 == e.g) {
                  for (
                    n = [], i = Ee(t.j.values()), r = i.next();
                    !r.done;
                    r = i.next()
                  )
                    qs((a = r.value)), n.push(Ys(a));
                  return Te(e, Promise.all(n), 2);
                }
                t.j.clear(), (t.g = null), (t.m = null), (t.i = null), Ae(e);
              })
            );
            var t, n, i, r, a;
          }));
      }
      function Us(e, t) {
        var n,
          i = e.j.get("video");
        i &&
          (n = i.stream) &&
          (t
            ? (t = n.trickModeVideo) &&
              !i.Sb &&
              (Fs(e, t, !1, 0, !1), (i.Sb = n))
            : (n = i.Sb) && Fs(e, n, !(i.Sb = null), 0, !1));
      }
      function js(e, t, n, i, r, a) {
        (n = void 0 !== n && n),
          (i = void 0 === i ? 0 : i),
          (r = void 0 !== r && r),
          (a = void 0 !== a && a),
          (e.l = t),
          e.F &&
            (t.video && Fs(e, t.video, n, i, r, a),
            t.audio && Fs(e, t.audio, n, i, r, a));
      }
      function Bs(e, t) {
        (e.s = t), e.F && Fs(e, t, !0, 0, !1);
      }
      function Fs(t, e, n, i, r, a) {
        var o,
          s,
          u,
          l,
          c,
          d,
          h,
          f,
          p,
          g = t.j.get(e.type);
        g || e.type != G
          ? g &&
            (g.Sb &&
              (e.trickModeVideo
                ? (e = (g.Sb = e).trickModeVideo)
                : (g.Sb = null)),
            g.stream != e || r) &&
            (e.type == G &&
              Uo(t.g.V, wn(e.mimeType, e.codecs), t.m.sequenceMode),
            g.stream.closeSegmentIndex && g.stream.closeSegmentIndex(),
            (g.stream = e),
            (g.ra = null),
            (g.mf = !!a),
            n &&
              (g.Bc
                ? (g.Pd = !0)
                : g.ab
                ? ((g.Fb = !0), (g.od = i), (g.Pd = !0))
                : (qs(g),
                  Xs(t, g, !0, i).catch(function (e) {
                    t.g && t.g.onError(e);
                  }))),
            (d = t),
            (h = g),
            Ie(function (e) {
              if (1 == e.g)
                return h.Ka
                  ? ((f = h.stream),
                    (p = h.Ka),
                    f.segmentIndex ? e.D(2) : Te(e, f.createSegmentIndex(), 2))
                  : e.return();
              if (h.Ka != p || h.stream != f) return e.return();
              var t = d.g.td(),
                n = Fo(d.g.V, h.type),
                i =
                  null ==
                  (r = h.stream.segmentIndex.find(h.Qa ? h.Qa.endTime : t))
                    ? null
                    : h.stream.segmentIndex.get(r),
                r = i && i.Ba ? i.Ba - i.Sa : null;
              (t =
                !!(r =
                  i && !r
                    ? ((i.endTime - i.getStartTime()) *
                        (h.stream.bandwidth || 0)) /
                      8
                    : r) &&
                ((i = i.h) && (r += (i.Ba ? i.Ba - i.Sa : null) || 0),
                (8 * r) / (i = d.g.getBandwidthEstimate()) <
                  (n || 0) -
                    t -
                    Math.max(d.m.minBufferTime || 0, d.i.rebufferingGoal) ||
                  h.Ka.h.g > r)) && h.Ka.abort(),
                Ae(e);
            }).catch(function (e) {
              t.g && t.g.onError(e);
            }))
          : ((o = t),
            (s = e),
            Ie(function (e) {
              switch (e.g) {
                case 1:
                  return (u = He), we(e, 2), Te(e, zo(o.g.V, u.ma), 4);
                case 4:
                  Se(e, 3);
                  break;
                case 2:
                  (l = xe(e)), o.g && o.g.onError(l);
                case 3:
                  (l = wn(s.mimeType, s.codecs)),
                    Uo(o.g.V, l, o.m.sequenceMode),
                    (c = o.g.V.m),
                    (c.isTextVisible() || o.i.alwaysStreamText) &&
                      ((c = Gs(s)), o.j.set(u.ma, c), Ws(o, c, 0)),
                    Ae(e);
              }
            }));
      }
      function Gs(e) {
        return {
          stream: e,
          type: e.type,
          ra: null,
          Qa: null,
          wd: null,
          se: null,
          re: null,
          qe: null,
          Sb: null,
          endOfStream: !1,
          ab: !1,
          qb: null,
          Fb: !1,
          od: 0,
          Pd: !1,
          Bc: !1,
          Vc: !0,
          De: !1,
          Lc: !1,
          Ka: null,
        };
      }
      function Ks(t, n) {
        var i, r, a;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if ((O(t.h), n.ab || null == n.qb || n.Bc)) return e.return();
              if (((n.qb = null), n.Fb)) return Te(e, Xs(t, n, n.Pd, n.od), 3);
              e.D(2);
              break;
            case 3:
              return e.return();
            case 2:
              if (n.stream.segmentIndex) {
                e.D(4);
                break;
              }
              return (i = n.stream), Te(e, n.stream.createSegmentIndex(), 5);
            case 5:
              if (i != n.stream)
                return (
                  i.closeSegmentIndex && i.closeSegmentIndex(),
                  null == n.qb && Ws(t, n, 0),
                  e.return()
                );
            case 4:
              we(e, 6),
                null !=
                  (r = (function (e, t) {
                    if (Vs(t))
                      return (
                        (function (e, t) {
                          var n = Fo(e, "video") || 0;
                          Ln(e.g, t, n);
                        })(e.g.V, t.stream.originalId || ""),
                        null
                      );
                    t.type == G &&
                      (function (e) {
                        e.g && Ln(e.g, "", 0);
                      })(e.g.V);
                    var n = e.g.td(),
                      i = t.Qa ? t.Qa.endTime : n,
                      r = (function (e, t, n) {
                        return t == G
                          ? null == (e = e.g).h || e.h < n
                            ? 0
                            : e.h - Math.max(n, e.g)
                          : wo((e = Go(e, t)), n);
                      })(e.g.V, t.type, n),
                      a =
                        Math.max(
                          e.m.minBufferTime || 0,
                          e.i.rebufferingGoal,
                          e.i.bufferingGoal
                        ) * e.C,
                      o = e.m.presentationTimeline.getDuration() - i,
                      s = Fo(e.g.V, t.type);
                    if (o < 1e-6 && s)
                      return (
                        (t.endOfStream = !0),
                        "video" == t.type &&
                          (n = e.j.get(G)) &&
                          Vs(n) &&
                          (n.endOfStream = !0),
                        null
                      );
                    if (((t.endOfStream = !1), a <= r))
                      return e.i.updateIntervalSeconds / 2;
                    if (
                      !(r = (function (e, t, n, i) {
                        if (t.ra) return t.ra.current();
                        if (t.Qa || i)
                          return (
                            (t.ra = t.stream.segmentIndex.bc(
                              t.Qa ? t.Qa.endTime : i
                            )),
                            t.ra && t.ra.next().value
                          );
                        (e = e.i.inaccurateManifestTolerance),
                          (i = Math.max(n - e, 0));
                        var r = null;
                        return (
                          e &&
                            ((t.ra = t.stream.segmentIndex.bc(i)),
                            (r = t.ra && t.ra.next().value)),
                          r ||
                            ((t.ra = t.stream.segmentIndex.bc(n)),
                            (r = t.ra && t.ra.next().value)),
                          r
                        );
                      })(e, t, n, s))
                    )
                      return e.i.updateIntervalSeconds;
                    for (
                      a = 1 / 0,
                        o = Ee((o = Array.from(e.j.values()))),
                        s = o.next();
                      !s.done;
                      s = o.next()
                    )
                      Vs((s = s.value)) ||
                        (s.ra && !s.ra.current()) ||
                        (a = Math.min(a, s.Qa ? s.Qa.endTime : n));
                    return i >= a + e.m.presentationTimeline.g
                      ? e.i.updateIntervalSeconds
                      : ((function (v, y, b, E) {
                          var T, A, w, S, x, I, k, C, M, L;
                          return Ie(function (e) {
                            switch (e.g) {
                              case 1:
                                if (
                                  ((T = He),
                                  (A = y.stream),
                                  (w = y.ra),
                                  (y.ab = !0),
                                  we(e, 2),
                                  2 == E.ec())
                                )
                                  throw new ke(1, 1, 1011);
                                return Te(
                                  e,
                                  ((u = v),
                                  (l = y),
                                  (c = E),
                                  Ie(function (e) {
                                    var t, n;
                                    return (
                                      (d = []),
                                      (h = Math.max(
                                        0,
                                        c.appendWindowStart - 0.1
                                      )),
                                      (f = c.appendWindowEnd + 0.01),
                                      ((p = c.timestampOffset) == l.se &&
                                        h == l.re &&
                                        f == l.qe) ||
                                        ((m = function () {
                                          var t;
                                          return Ie(function (e) {
                                            if (1 == e.g)
                                              return (
                                                we(e, 2),
                                                (l.re = h),
                                                (l.qe = f),
                                                (l.se = p),
                                                Te(
                                                  e,
                                                  Vo(
                                                    u.g.V,
                                                    l.type,
                                                    p,
                                                    h,
                                                    f,
                                                    u.m.sequenceMode
                                                  ),
                                                  4
                                                )
                                              );
                                            if (2 != e.g) return Se(e, 0);
                                            throw (
                                              ((t = xe(e)),
                                              (l.re = null),
                                              (l.qe = null),
                                              (l.se = null),
                                              t)
                                            );
                                          });
                                        }),
                                        d.push(m())),
                                      (t = c.h),
                                      (n = l.wd),
                                      !(t && n
                                        ? t.Ic() == n.Ic() &&
                                          t.Ec() == n.Ec() &&
                                          ft(t.Pa(), n.Pa())
                                        : t == n) &&
                                        (l.wd = c.h) &&
                                        ((g = Hs(u, l, c.h)),
                                        (m = function () {
                                          var t, n, i;
                                          return Ie(function (e) {
                                            switch (e.g) {
                                              case 1:
                                                return we(e, 2), Te(e, g, 4);
                                              case 4:
                                                return (
                                                  (t = e.h),
                                                  O(u.h),
                                                  new nr()
                                                    .box("moov", ir)
                                                    .box("trak", ir)
                                                    .box("mdia", ir)
                                                    .X("mdhd", function (e) {
                                                      (e = lo(
                                                        e.reader || 0,
                                                        e.version || 0
                                                      )),
                                                        (c.h.timescale =
                                                          e.timescale);
                                                    })
                                                    .parse(t),
                                                  (n =
                                                    l.stream.closedCaptions &&
                                                    0 <
                                                      l.stream.closedCaptions
                                                        .size),
                                                  Te(e, u.g.qf(l.type, t), 5)
                                                );
                                              case 5:
                                                return Te(
                                                  e,
                                                  Ko(u.g.V, l.type, t, null, n),
                                                  6
                                                );
                                              case 6:
                                                Se(e, 0);
                                                break;
                                              case 2:
                                                throw (
                                                  ((i = xe(e)),
                                                  (l.wd = null),
                                                  i)
                                                );
                                            }
                                          });
                                        }),
                                        u.g.nh(c.startTime, c.h),
                                        d.push(m())),
                                      Te(e, Promise.all(d), 0)
                                    );
                                  })),
                                  4
                                );
                              case 4:
                                return (O(v.h), v.B)
                                  ? e.return()
                                  : ((M =
                                      "video/mp4" == A.mimeType ||
                                      "audio/mp4" == A.mimeType),
                                    (C = N.ReadableStream),
                                    v.i.lowLatencyMode && C && M && !E.l
                                      ? ((x = new Uint8Array(0)),
                                        (k = I = !1),
                                        Te(
                                          e,
                                          Hs(v, y, E, function (r) {
                                            var a, o, s;
                                            return Ie(function (e) {
                                              return I
                                                ? e.return()
                                                : ((k = !0),
                                                  O(v.h),
                                                  v.B
                                                    ? e.return()
                                                    : ((t = x),
                                                      (n = r),
                                                      (i = new Uint8Array(
                                                        t.length + n.length
                                                      )).set(t),
                                                      i.set(n, t.length),
                                                      (x = i),
                                                      (a = !1),
                                                      (o = 0),
                                                      new nr()
                                                        .box(
                                                          "mdat",
                                                          function (e) {
                                                            (o =
                                                              e.size + e.start),
                                                              (a = !0);
                                                          }
                                                        )
                                                        .parse(x, !1, !0),
                                                      a
                                                        ? ((s = x.subarray(
                                                            0,
                                                            o
                                                          )),
                                                          (x = x.subarray(o)),
                                                          Te(
                                                            e,
                                                            zs(
                                                              v,
                                                              y,
                                                              b,
                                                              A,
                                                              E,
                                                              s
                                                            ),
                                                            0
                                                          ))
                                                        : e.D(0)));
                                              var t, n, i;
                                            });
                                          }),
                                          11
                                        ))
                                      : Te(e, Hs(v, y, E), 7));
                              case 7:
                                if (((S = e.h), O(v.h), v.B)) return e.return();
                                if (E.l)
                                  return Te(
                                    e,
                                    ((t = S),
                                    (n = E),
                                    (i = w),
                                    Ie(function (e) {
                                      if (1 == e.g)
                                        return (r = n.l).cryptoKey
                                          ? e.D(2)
                                          : Te(e, r.fetchKey(), 3);
                                      if (!(a = r.iv))
                                        for (
                                          a = R(new ArrayBuffer(16)),
                                            o =
                                              r.firstMediaSequenceNumber + i.g,
                                            s = a.byteLength - 1;
                                          0 <= s;
                                          s--
                                        )
                                          (a[s] = 255 & o), (o >>= 8);
                                      return e.return(
                                        N.crypto.subtle.decrypt(
                                          { name: "AES-CBC", iv: a },
                                          r.cryptoKey,
                                          t
                                        )
                                      );
                                    })),
                                    9
                                  );
                                e.D(8);
                                break;
                              case 9:
                                S = e.h;
                              case 8:
                                return (
                                  O(v.h),
                                  y.Fb
                                    ? ((y.ab = !1), Ws(v, y, 0), e.return())
                                    : Te(e, zs(v, y, b, A, E, S), 6)
                                );
                              case 11:
                                if (((C = e.h), k)) {
                                  e.D(6);
                                  break;
                                }
                                return (
                                  (I = !0),
                                  O(v.h),
                                  v.B
                                    ? e.return()
                                    : y.Fb
                                    ? ((y.ab = !1), Ws(v, y, 0), e.return())
                                    : Te(e, zs(v, y, b, A, E, C), 6)
                                );
                              case 6:
                                if ((O(v.h), v.B)) return e.return();
                                (y.Qa = E),
                                  w.next(),
                                  (y.ab = !1),
                                  (y.De = !1),
                                  (M = v.g.V.ib()),
                                  (L = M[y.type]),
                                  JSON.stringify(L),
                                  y.Fb ||
                                    v.g.Be(E.startTime, E.endTime, y.type),
                                  Ws(v, y, 0),
                                  Se(e, 0);
                                break;
                              case 2:
                                if (((L = xe(e)), O(v.h, L), v.B))
                                  return e.return();
                                if (((y.ab = !1), 7001 == L.code))
                                  (y.ab = !1),
                                    (y.qb = null),
                                    Ws(v, y, 0),
                                    e.D(0);
                                else if (
                                  y.type == T.ma &&
                                  v.i.ignoreTextStreamFailures
                                )
                                  v.j.delete(T.ma), e.D(0);
                                else {
                                  if (3017 != L.code)
                                    return (
                                      (y.Lc = !0),
                                      (L.severity = 2),
                                      Te(e, $s(v, L), 0)
                                    );
                                  (function (e, t, n) {
                                    if (
                                      !Array.from(e.j.values()).some(function (
                                        e
                                      ) {
                                        return e != t && e.De;
                                      })
                                    ) {
                                      var i = Math.round(100 * e.C);
                                      if (20 < i) e.C -= 0.2;
                                      else {
                                        if (!(4 < i))
                                          return (
                                            (t.Lc = !0),
                                            (e.B = !0),
                                            e.g.onError(n)
                                          );
                                        e.C -= 0.04;
                                      }
                                      t.De = !0;
                                    }
                                    Ws(e, t, 4);
                                  })(v, y, L),
                                    e.D(0);
                                }
                            }
                            var t, n, i, r, a, o, s, u, l, c, d, h, f, p, g, m;
                          });
                        })(e, t, n, r).catch(function () {}),
                        null);
                  })(t, n)) && (Ws(t, n, r), (n.Lc = !1)),
                Se(e, 7);
              break;
            case 6:
              return (r = xe(e)), Te(e, $s(t, r), 8);
            case 8:
              return e.return();
            case 7:
              if (
                ((a = Array.from(t.j.values())),
                t.F &&
                  a.every(function (e) {
                    return e.endOfStream;
                  }))
              )
                return Te(e, t.g.V.endOfStream(), 10);
              e.D(0);
              break;
            case 10:
              O(t.h),
                0 != (a = t.g.V.getDuration()) &&
                  a < t.m.presentationTimeline.getDuration() &&
                  t.m.presentationTimeline.bb(a),
                Ae(e);
          }
        });
      }
      function zs(l, o, s, c, d, u) {
        var h, f, p, g, m, v;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              return (
                (h = c.closedCaptions && 0 < c.closedCaptions.size),
                (p =
                  (null != c.emsgSchemeIdUris &&
                    0 < c.emsgSchemeIdUris.length) ||
                  l.i.dispatchAllEmsgBoxes),
                (g = l.i.parsePrftBox && !l.G),
                (p || g) && (f = new nr()),
                p &&
                  f.X("emsg", function (e) {
                    var t,
                      n,
                      i,
                      r,
                      a,
                      o,
                      s,
                      u = c.emsgSchemeIdUris;
                    0 === e.version
                      ? ((t = e.reader.Tc()),
                        (n = e.reader.Tc()),
                        (i = e.reader.P()),
                        (r = e.reader.P()),
                        (a = e.reader.P()),
                        (o = e.reader.P()),
                        (s = d.startTime + r / i))
                      : ((i = e.reader.P()),
                        (r =
                          (s = e.reader.Db() / i + d.timestampOffset) -
                          d.startTime),
                        (a = e.reader.P()),
                        (o = e.reader.P()),
                        (t = e.reader.Tc()),
                        (n = e.reader.Tc())),
                      (e = e.reader.Cb(e.reader.W.byteLength - e.reader.na())),
                      ((u && u.includes(t)) || l.i.dispatchAllEmsgBoxes) &&
                        ("urn:mpeg:dash:event:2012" == t
                          ? l.g.oh()
                          : "https://aomedia.org/emsg/ID3" == t
                          ? (u = ko(e)).length &&
                            d &&
                            l.g.ph(
                              [
                                {
                                  cueTime: d.startTime,
                                  data: e,
                                  frames: u,
                                  dts: d.startTime,
                                  pts: d.startTime,
                                },
                              ],
                              0,
                              d.endTime
                            )
                          : ((u = new _(
                              "emsg",
                              (u = new Map().set("detail", {
                                startTime: s,
                                endTime: s + a / i,
                                schemeIdUri: t,
                                value: n,
                                timescale: i,
                                presentationTimeDelta: r,
                                eventDuration: a,
                                id: o,
                                messageData: e,
                              }))
                            )),
                            l.g.onEvent(u)));
                  }),
                g &&
                  f.X("prft", function (e) {
                    e: {
                      if (!l.G && d.h.timescale) {
                        e.reader.P();
                        var t =
                          1e3 * e.reader.P() +
                          (e.reader.P() / Math.pow(2, 32)) * 1e3;
                        if (0 === e.version) var n = e.reader.P();
                        else
                          try {
                            n = e.reader.Db();
                          } catch (e) {
                            (l.G = !0), (n = void 0);
                            break e;
                          }
                        (e = new Date(
                          new Date(Date.UTC(1900, 0, 1, 0, 0, 0)).getTime() + t
                        ).getTime()),
                          (n = new _(
                            "prft",
                            (n = new Map().set("detail", {
                              wallClockTime: e,
                              programStartDate: new Date(
                                e - (n / d.h.timescale) * 1e3
                              ),
                            }))
                          )),
                          l.g.onEvent(n),
                          (l.G = !0);
                      }
                      n = void 0;
                    }
                    return n;
                  }),
                (p || g) && f.parse(u),
                Te(
                  e,
                  ((t = l),
                  (n = o),
                  (i = s),
                  Ie(function (e) {
                    if (1 == e.g)
                      return (
                        (a = Math.max(
                          t.i.bufferBehind,
                          t.m.presentationTimeline.g
                        )),
                        null == (r = Bo(t.g.V, n.type)) ||
                        (a = i - r - a) <= 0.01
                          ? e.return()
                          : Te(e, t.g.V.remove(n.type, r, r + a), 2)
                      );
                    O(t.h), Ae(e);
                  })),
                  2
                )
              );
            case 2:
              return (
                O(l.h),
                (m = o.Vc),
                (o.Vc = !1),
                (v = o.mf),
                (o.mf = !1),
                Te(e, l.g.qf(o.type, u), 3)
              );
            case 3:
              return Te(e, Ko(l.g.V, o.type, u, d, h, m, v), 4);
            case 4:
              O(l.h), Ae(e);
          }
          var t, n, i, r, a;
        });
      }
      function Vs(e) {
        return (
          e &&
          e.type == G &&
          ("application/cea-608" == e.stream.mimeType ||
            "application/cea-708" == e.stream.mimeType)
        );
      }
      function Hs(t, n, i, r) {
        var a, o, s;
        return Ie(function (e) {
          return 1 == e.g
            ? ((s = Xi),
              (a = Ds(i.Pa(), i.Sa, i.Ba, t.i.retryParameters, r)),
              (o = n.stream),
              t.g.modifySegmentRequest(a, {
                type: o.type,
                init: i instanceof vo,
                duration: i.endTime - i.startTime,
                mimeType: o.mimeType,
                codecs: o.codecs,
                bandwidth: o.bandwidth,
              }),
              (o = t.g.Pb.request(s, a)),
              Te(e, (n.Ka = o).promise, 2))
            : ((s = e.h), (n.Ka = null), e.return(s.data));
        });
      }
      function Xs(t, n, i, r) {
        var a, o;
        return Ie(function (e) {
          return 1 == e.g
            ? ((n.Fb = !1),
              (n.Pd = !1),
              (n.od = 0),
              (n.Bc = !0),
              (n.Qa = null),
              (n.wd = null),
              (n.ra = null),
              r
                ? ((a = t.g.td()),
                  (o = t.g.V.getDuration()),
                  Te(e, t.g.V.remove(n.type, a + r, o), 3))
                : Te(e, zo(t.g.V, n.type), 4))
            : 3 != e.g
            ? (O(t.h), i ? Te(e, t.g.V.flush(n.type), 3) : e.D(3))
            : (O(t.h),
              (n.Bc = !1),
              (n.endOfStream = !1),
              Ws(t, n, 0),
              void Ae(e));
        });
      }
      function Ws(n, i, e) {
        var t = i.type;
        (t == G && !n.j.has(t)) ||
          (i.qb = new Ft(function () {
            var t;
            return Ie(function (e) {
              return 1 == e.g
                ? (we(e, 2), Te(e, Ks(n, i), 4))
                : 2 != e.g
                ? Se(e, 0)
                : ((t = xe(e)), n.g && n.g.onError(t), void Ae(e));
            });
          }).S(e));
      }
      function qs(e) {
        null != e.qb && (e.qb.stop(), (e.qb = null));
      }
      function Ys(t) {
        return Ie(function (e) {
          return t.Ka ? Te(e, t.Ka.abort(), 0) : e.D(0);
        });
      }
      function $s(t, n) {
        return Ie(function (e) {
          if (1 == e.g) return Te(e, Mi(t.H), 2);
          O(t.h), t.g.onError(n), n.handled || t.i.failureCallback(n), Ae(e);
        });
      }
      function Js(e, t) {
        var n = Ll(),
          r = this;
        (this.j = t),
          (this.i = e),
          (this.l = n),
          (this.s = null),
          (this.m = []),
          (this.h = this.g = null),
          (this.C = Promise.resolve().then(function () {
            return (
              (o = r),
              Ie(function (e) {
                var t, n, i, r, a;
                return (e = o.B.g
                  ? e.D(0)
                  : ((t = (t =
                      !(0 == o.m.length || (o.g && !o.g.Kb)) &&
                      (o.g && (o.g.$a.Qb(), (o.g = null)),
                      (n = (t = o.m.shift()).create(o.l))
                        ? (t.$a.lc(),
                          (o.g = {
                            node: n.node,
                            payload: n.payload,
                            Kb: n.Kb,
                            $a: t.$a,
                          }))
                        : t.$a.Fd(),
                      !0))
                      ? Promise.resolve()
                      : o.g
                      ? ((i = o),
                        Ie(function (e) {
                          switch (e.g) {
                            case 1:
                              return (
                                (i.i = i.j.Rg(i.i, i.l, i.g.node, i.g.payload)),
                                we(e, 2),
                                (i.h = i.j.wg(i.i, i.l, i.g.payload)),
                                Te(e, i.h.promise, 4)
                              );
                            case 4:
                              (i.h = null),
                                i.i == i.g.node && (i.g.$a.Dd(), (i.g = null)),
                                Se(e, 0);
                              break;
                            case 2:
                              return (
                                7001 == (r = xe(e)).code
                                  ? i.g.$a.Qb()
                                  : i.g.$a.onError(r),
                                (i.g = null),
                                (i.h = null),
                                Te(e, (a = i).j.handleError(i.l, r), 5)
                              );
                            case 5:
                              (a.i = e.h), Ae(e);
                          }
                        }))
                      : (o.j.mh(o.i), (o.s = new P()), o.s)),
                    Te(e, t, 1)));
              })
            );
            var o;
          })),
          (this.B = new Yi(function () {
            return (
              (t = r),
              Ie(function (e) {
                if (1 == e.g) return t.h && t.h.abort(), Zs(t), Te(e, t.C, 2);
                for (
                  t.g && t.g.$a.Qb(), n = Ee(t.m), i = n.next();
                  !i.done;
                  i = n.next()
                )
                  i.value.$a.Qb();
                (t.g = null), (t.m = []), (t.j = null), Ae(e);
              })
            );
            var t, n, i;
          }));
      }
      function Qs(e, t) {
        var n = {
          lc: function () {},
          Dd: function () {},
          Qb: function () {},
          onError: function () {},
          Fd: function () {},
          tj: function () {},
        };
        return e.m.push({ create: t, $a: n }), e.h && e.h.abort(), Zs(e), n;
      }
      function Zs(e) {
        e.s && (e.s.resolve(), (e.s = null));
      }
      function eu(e) {
        this.g = null;
        for (
          var t = Ee(Array.from(e.textTracks)), n = t.next();
          !n.done;
          n = t.next()
        )
          ((n = n.value).mode = "disabled"),
            "Shaka Player TextTrack" == n.label && (this.g = n);
        this.g ||
          (this.g = e.addTextTrack("subtitles", "Shaka Player TextTrack")),
          (this.g.mode = "hidden");
      }
      function tu(e, t) {
        var n = e.mode;
        e.mode = "showing" == n ? "showing" : "hidden";
        for (
          var i = Ee(Array.from(e.cues)), r = i.next();
          !r.done;
          r = i.next()
        )
          (r = r.value) && t(r) && e.removeCue(r);
        e.mode = n;
      }
      function nu() {}
      function E(e) {
        return document.createElement(e);
      }
      function iu() {
        return document.createElement("button");
      }
      function ru(e) {
        for (; e.firstChild; ) e.removeChild(e.firstChild);
      }
      function au(e, t) {
        var n = this;
        (this.j = !1),
          (this.i = []),
          (this.F = e),
          (this.m = t),
          (this.g = E("div")),
          this.g.classList.add("shaka-text-container"),
          (this.g.style.textAlign = "center"),
          (this.g.style.display = "flex"),
          (this.g.style.flexDirection = "column"),
          (this.g.style.alignItems = "center"),
          (this.g.style.justifyContent = "flex-end"),
          this.m.appendChild(this.g),
          (this.C = new M(function () {
            su(n);
          }).ha(0.25)),
          (this.h = new Map()),
          (this.B = new f()),
          this.B.o(document, "fullscreenchange", function () {
            su(n, !0);
          }),
          (this.l = null),
          "ResizeObserver" in N &&
            ((this.l = new ResizeObserver(function () {
              su(n, !0);
            })),
            this.l.observe(this.g)),
          (this.s = new Map());
      }
      function ou(e, t, n, i, r) {
        for (
          var a = !1, o = [], s = [], u = (t = Ee(t)).next();
          !u.done;
          u = t.next()
        ) {
          (u = u.value), r.push(u);
          var l,
            c,
            d,
            h = e.h.get(u),
            f = u.startTime <= i && u.endTime > i,
            p = h ? h.fg : null;
          if (
            (h &&
              (o.push(h.je),
              h.Uc && o.push(h.Uc),
              f || ((a = !0), e.h.delete(u), (h = null))),
            f)
          ) {
            s.push(u);
            if (!h) {
              {
                f = void 0;
                g = void 0;
                m = void 0;
                v = void 0;
                y = void 0;
                b = void 0;
                l = void 0;
                c = void 0;
                d = void 0;
                f = e;
                var g = u;
                var m = r;
                var v = 1 < m.length,
                  y = v ? "span" : "div",
                  b =
                    (g.lineBreak && (y = "br"),
                    (v = !v && 0 < g.nestedCues.length),
                    E(y));
                "br" != y &&
                  (function (e, t, n, i, r) {
                    var a = t.style,
                      o = 0 == n.nestedCues.length,
                      s = 1 < i.length,
                      u =
                        ((a.whiteSpace = "pre-wrap"),
                        n.payload.replace(/\s+$/g, function (e) {
                          return " ".repeat(e.length);
                        }));
                    {
                      var l;
                      (a.webkitTextStrokeColor = n.textStrokeColor),
                        (a.webkitTextStrokeWidth = n.textStrokeWidth),
                        (a.color = n.color),
                        (a.direction = n.direction),
                        (a.opacity = n.opacity),
                        (a.paddingLeft = uu(n.linePadding, n, e.m)),
                        (a.paddingRight = uu(n.linePadding, n, e.m)),
                        (a.textShadow = n.textShadow),
                        n.backgroundImage
                          ? ((a.backgroundImage =
                              "url('" + n.backgroundImage + "')"),
                            (a.backgroundRepeat = "no-repeat"),
                            (a.backgroundSize = "contain"),
                            (a.backgroundPosition = "center"),
                            (a.width = "100%"),
                            (a.height = "100%"))
                          : (n.nestedCues.length
                              ? (l = t)
                              : ((l = E("span")), t.appendChild(l)),
                            n.border && (l.style.border = n.border),
                            r ||
                              ((t = (function (e, t) {
                                for (var n = e.length - 1; 0 <= n; n--) {
                                  var i = t(e[n]);
                                  if (i || 0 === i) return i;
                                }
                                return null;
                              })(i, function (e) {
                                return e.backgroundColor;
                              }))
                                ? (l.style.backgroundColor = t)
                                : u &&
                                  (l.style.backgroundColor =
                                    "rgba(0, 0, 0, 0.8)")),
                            u && (l.textContent = u));
                    }
                    s && !i[i.length - 1].isContainer
                      ? (a.display = "inline")
                      : ((a.display = "flex"),
                        (a.flexDirection = "column"),
                        (a.alignItems = "center"),
                        (a.justifyContent =
                          "before" == n.displayAlign
                            ? "flex-start"
                            : "center" == n.displayAlign
                            ? "center"
                            : "flex-end")),
                      o || (a.margin = "0"),
                      (a.fontFamily = n.fontFamily),
                      (a.fontWeight = n.fontWeight.toString()),
                      (a.fontStyle = n.fontStyle),
                      (a.letterSpacing = n.letterSpacing),
                      (a.fontSize = uu(n.fontSize, n, e.m)),
                      null != n.line &&
                        1 == n.lineInterpretation &&
                        ((a.position = "absolute"),
                        (a.left = "0"),
                        (a.top = "0"),
                        n.writingMode == Tt
                          ? ((a.width = "100%"),
                            n.lineAlign == wt
                              ? (a.top = n.line + "%")
                              : "end" == n.lineAlign &&
                                (a.bottom = 100 - n.line + "%"))
                          : "vertical-lr" == n.writingMode
                          ? ((a.height = "100%"),
                            n.lineAlign == wt
                              ? (a.left = n.line + "%")
                              : "end" == n.lineAlign &&
                                (a.right = 100 - n.line + "%"))
                          : ((a.height = "100%"),
                            n.lineAlign == wt
                              ? (a.right = n.line + "%")
                              : "end" == n.lineAlign &&
                                (a.left = 100 - n.line + "%"))),
                      (a.lineHeight = n.lineHeight),
                      null != n.position &&
                        (n.writingMode == Tt
                          ? (a.paddingLeft = n.position)
                          : (a.paddingTop = n.position)),
                      "line-left" == n.positionAlign
                        ? (a.cssFloat = "left")
                        : "line-right" == n.positionAlign &&
                          (a.cssFloat = "right"),
                      (a.textAlign = n.textAlign),
                      (a.textDecoration = n.textDecoration.join(" ")),
                      (a.writingMode = n.writingMode),
                      ("writingMode" in document.documentElement.style &&
                        a.writingMode == n.writingMode) ||
                        (a.webkitWritingMode = n.writingMode),
                      n.size &&
                        (n.writingMode == Tt
                          ? (a.width = n.size + "%")
                          : (a.height = n.size + "%"));
                  })(f, b, g, m, v),
                  (m = null),
                  g.region &&
                    g.region.id &&
                    ((m = g.region),
                    (m = f.s.has(m.id)
                      ? f.s.get(m.id)
                      : ((y = E("span")),
                        (l = m.heightUnits == Nt ? "%" : "px"),
                        (c = m.widthUnits == Nt ? "%" : "px"),
                        (d = m.viewportAnchorUnits == Nt ? "%" : "px"),
                        (y.id = "shaka-text-region---" + m.id),
                        y.classList.add("shaka-text-region"),
                        (y.style.height = m.height + l),
                        (y.style.width = m.width + c),
                        (y.style.position = "absolute"),
                        (y.style.top = m.viewportAnchorY + d),
                        (y.style.left = m.viewportAnchorX + d),
                        (y.style.display = "flex"),
                        (y.style.flexDirection = "column"),
                        (y.style.alignItems = "center"),
                        (y.style.justifyContent =
                          "before" == g.displayAlign
                            ? "flex-start"
                            : "center" == g.displayAlign
                            ? "center"
                            : "flex-end"),
                        f.s.set(m.id, y),
                        y)));
                (y = b),
                  v &&
                    ((y = E("span")).classList.add("shaka-text-wrapper"),
                    (y.style.backgroundColor = g.backgroundColor),
                    b.appendChild(y)),
                  f.h.set(g, { je: b, fg: y, Uc: m });
              }
              (h = e.h.get(u)), (p = h.fg), (a = !0);
            }
          }
          0 < u.nestedCues.length && p && ou(e, u.nestedCues, p, i, r), r.pop();
        }
        if (a) {
          for (r = (i = Ee(o)).next(); !r.done; r = i.next())
            (r = r.value).parentElement && r.parentElement.removeChild(r);
          for (
            s.sort(function (e, t) {
              return e.startTime != t.startTime
                ? e.startTime - t.startTime
                : e.endTime - t.endTime;
            }),
              u = (s = Ee(s)).next();
            !u.done;
            u = s.next()
          )
            (i = e.h.get(u.value)).Uc
              ? (n.appendChild(i.Uc), i.Uc.appendChild(i.je))
              : n.appendChild(i.je);
        }
      }
      function su(e, t) {
        if (e.g) {
          var n = e.F.currentTime;
          if (!e.j || (void 0 !== t && t)) {
            for (var i = Ee(e.s.values()), r = i.next(); !r.done; r = i.next())
              ru(r.value);
            ru(e.g), e.h.clear(), e.s.clear();
          }
          if (e.j) {
            for (
              var i = new Map(), a = (r = Ee(e.h.keys())).next();
              !a.done;
              a = r.next()
            )
              (a = a.value), i.set(a, e.h.get(a));
            ou(e, e.i, e.g, n, []);
          }
        }
      }
      function uu(e, t, n) {
        var i = (i = new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))
          ? { value: Number(i[1]), unit: i[2] }
          : null;
        if (!i) return e;
        var r = i.value;
        switch (i.unit) {
          case "%":
            return ((r / 100) * n.clientHeight) / t.cellResolution.rows + "px";
          case "c":
            return (n.clientHeight * r) / t.cellResolution.rows + "px";
          default:
            return e;
        }
      }
      function lu(e, t) {
        (this.h = e),
          (this.g = t),
          (this.j = ""),
          (this.s = void 0),
          (this.i = !1),
          (this.m = !0),
          (this.l = !1);
      }
      function cu(e, t, n) {
        try {
          var i, r;
          e.g.enabled &&
            (((i = { d: 1e3 * n.duration, st: e.h.T() ? wu : Au }).ot =
              ((o = (a = n).type),
              a.init
                ? bu
                : "video" == o
                ? a.codecs.includes(",")
                  ? yu
                  : vu
                : "audio" == o
                ? mu
                : "text" == o
                ? "application/mp4" === a.mimeType
                  ? Tu
                  : Eu
                : void 0)),
            (r = i.ot === vu || i.ot === mu || i.ot === yu || i.ot === Tu) &&
              (i.bl = (function (e, t) {
                t = e.h.ib()[t];
                if (!t.length) return NaN;
                var n = e.h.getCurrentTime();
                return (t = t.find(function (e) {
                  return e.start <= n && e.end >= n;
                }))
                  ? 1e3 * (t.end - n)
                  : NaN;
              })(e, n.type)),
            n.bandwidth && (i.br = n.bandwidth / 1e3),
            r &&
              i.ot !== Tu &&
              (i.tb =
                (function (e, t) {
                  var n = e.h.Ja();
                  if (!n.length) return NaN;
                  for (
                    var i = n[0], r = (n = Ee(n)).next();
                    !r.done;
                    r = n.next()
                  )
                    "variant" === (r = r.value).type &&
                      r.bandwidth > i.bandwidth &&
                      (i = r);
                  switch (t) {
                    case vu:
                      return i.videoBandwidth || NaN;
                    case mu:
                      return i.audioBandwidth || NaN;
                    default:
                      return i.bandwidth;
                  }
                })(e, i.ot) / 1e3),
            hu(e, t, i));
        } catch (e) {
          ae("CMCD_SEGMENT_ERROR", "Could not generate segment CMCD data.", e);
        }
        var a, o;
      }
      function du(e) {
        return (
          e.j || (e.j = e.g.sessionId || N.crypto.randomUUID()),
          {
            v: 1,
            sf: e.s,
            sid: e.j,
            cid: e.g.contentId,
            mtp: e.h.getBandwidthEstimate() / 1e3,
          }
        );
      }
      function hu(e, t, n) {
        n = void 0 === n ? {} : n;
        var i,
          r,
          a = void 0 === a ? e.g.useHeaders : a;
        e.g.enabled &&
          (Object.assign(n, du(e)),
          (n.pr = e.h.yb()),
          (i = n.ot === vu || n.ot === yu),
          e.l && i && ((n.bs = !0), (n.su = !0), (e.l = !1)),
          null == n.su && (n.su = e.m),
          a
            ? ((e = (function (e) {
                for (
                  var t = Object.keys(e),
                    n = {},
                    i = ["Object", "Request", "Session", "Status"],
                    r = [{}, {}, {}, {}],
                    a = {
                      br: 0,
                      d: 0,
                      ot: 0,
                      tb: 0,
                      bl: 1,
                      dl: 1,
                      mtp: 1,
                      nor: 1,
                      nrr: 1,
                      su: 1,
                      cid: 2,
                      pr: 2,
                      sf: 2,
                      sid: 2,
                      st: 2,
                      v: 2,
                      bs: 3,
                      rtp: 3,
                    },
                    o = (t = Ee(t)).next();
                  !o.done;
                  o = t.next()
                )
                  (o = o.value), (r[null != a[o] ? a[o] : 1][o] = e[o]);
                for (e = 0; e < r.length; e++)
                  (a = fu(r[e])) && (n["CMCD-" + i[e]] = a);
                return n;
              })(n)),
              Object.keys(e).length && Object.assign(t.headers, e))
            : (r = fu(n)) &&
              (t.uris = t.uris.map(function (e) {
                return pu(e, r);
              })));
      }
      function fu(e) {
        function t(e) {
          return 100 * n(e / 100);
        }
        function n(e) {
          return Math.round(e);
        }
        for (
          var i = [],
            r = {
              br: n,
              d: n,
              bl: t,
              dl: t,
              mtp: t,
              nor: function (e) {
                return encodeURIComponent(e);
              },
              rtp: t,
              tb: n,
            },
            a = Object.keys(e || {}).sort(),
            o = (a = Ee(a)).next();
          !o.done;
          o = a.next()
        ) {
          var s,
            u,
            l = e[(o = o.value)];
          (u = l),
            Number.isNaN(u) ||
              null == u ||
              "" === u ||
              !1 === u ||
              ("v" === o && 1 === l) ||
              ("pr" == o && 1 === l) ||
              ((u = void 0),
              (u =
                "string" === (s = typeof (l = (s = r[o]) ? s(l) : l)) &&
                "ot" !== o &&
                "sf" !== o &&
                "st" !== o
                  ? o + "=" + JSON.stringify(l)
                  : "boolean" === s
                  ? o
                  : "symbol" === s
                  ? o + "=" + l.description
                  : o + "=" + l),
              i.push(u));
        }
        return i.join(",");
      }
      function pu(e, t) {
        if (!t || e.includes("offline:")) return e;
        e = new fe(e);
        return e.g.set("CMCD", t), e.toString();
      }
      ((n = Os.prototype).destroy = function () {
        return this.h.destroy();
      }),
        (n.configure = function (e) {
          (this.i = e),
            (this.H = new Ci(
              {
                maxAttempts: Math.max(e.retryParameters.maxAttempts, 2),
                baseDelay: e.retryParameters.baseDelay,
                backoffFactor: e.retryParameters.backoffFactor,
                fuzzFactor: e.retryParameters.fuzzFactor,
                timeout: 0,
                stallTimeout: 0,
                connectionTimeout: 0,
              },
              !0
            ));
        }),
        (n.start = function () {
          var l = this;
          return Ie(function (e) {
            if (1 == e.g)
              return Te(
                e,
                ((t = l),
                Ie(function (e) {
                  if (1 == e.g) {
                    if (((i = He), t.l))
                      return (
                        (n = new Map()),
                        (r = new Set()),
                        t.l.audio && (n.set(i.gd, t.l.audio), r.add(t.l.audio)),
                        t.l.video && (n.set(i.Ma, t.l.video), r.add(t.l.video)),
                        t.s && (n.set(i.ma, t.s), r.add(t.s)),
                        (i = t.g.V),
                        (r = t.i.forceTransmux),
                        Te(e, i.init(n, r, t.m.sequenceMode), 2)
                      );
                    throw new ke(2, 5, 5006);
                  }
                  for (
                    O(t.h), t.updateDuration(), a = Ee(n.keys()), o = a.next();
                    !o.done;
                    o = a.next()
                  )
                    (s = o.value),
                      (u = n.get(s)),
                      t.j.has(s) || ((u = Gs(u)), t.j.set(s, u), Ws(t, u, 0));
                  Ae(e);
                })),
                2
              );
            var t, n, i, r, a, o, s, u;
            O(l.h), (l.F = !0), Ae(e);
          });
        }),
        (n.Vc = function () {
          for (
            var e = this.g.td(), t = Ee(this.j.keys()), n = t.next();
            !n.done;
            n = t.next()
          ) {
            var i = n.value,
              r = (((n = this.j.get(i)).ra = null), this.g.V);
            if (
              !(r =
                i == G
                  ? null != (r = r.g).g && null != r.h && e >= r.g && e < r.h
                  : Ao((r = Go(r, i)), e))
            ) {
              if (
                ((null == Fo(this.g.V, i) && !n.ab) ||
                  (function (t, e) {
                    e.Bc ||
                      e.Fb ||
                      (e.ab
                        ? ((e.Fb = !0), (e.od = 0))
                        : null == Bo(t.g.V, e.type)
                        ? null == e.qb && Ws(t, e, 0)
                        : (qs(e),
                          Xs(t, e, !1, 0).catch(function (e) {
                            t.g && t.g.onError(e);
                          })));
                  })(this, n),
                n.Ka && (n.Ka.abort(), (n.Ka = null)),
                i === G && (i = this.g.V).B)
              )
                for (
                  (i = i.B.g).l = 0,
                    i.h = [],
                    i.g = [],
                    (r = i.i).i = [],
                    r.h = [],
                    r.g = 0,
                    io(i),
                    r = (i = Ee(i.j.values())).next();
                  !r.done;
                  r = i.next()
                )
                  Qa(r.value);
              n.Vc = !0;
            }
          }
        }),
        (n.updateDuration = function () {
          var e = this.m.presentationTimeline.getDuration();
          e < 1 / 0 ? this.g.V.bb(e) : this.g.V.bb(Math.pow(2, 32));
        }),
        (Js.prototype.destroy = function () {
          return this.B.destroy();
        }),
        ((n = eu.prototype).remove = function (t, n) {
          return (
            !!this.g &&
            (tu(this.g, function (e) {
              return e.startTime < n && e.endTime > t;
            }),
            !0)
          );
        }),
        (n.append = function (e) {
          function o(e) {
            var t = [],
              n = 700 <= e.fontWeight,
              i = "italic" == e.fontStyle,
              r = e.textDecoration.includes("underline");
            return (
              n && t.push("b"),
              i && t.push("i"),
              r && t.push("u"),
              (n = t.reduce(function (e, t) {
                return e + "<" + t + ">";
              }, "")),
              (t = t.reduceRight(function (e, t) {
                return e + "</" + t + ">";
              }, "")),
              e.lineBreak
                ? "\n"
                : e.nestedCues.length
                ? e.nestedCues.map(o).join("")
                : n + e.payload + t
            );
          }
          for (
            var t = (function e(t, n) {
                for (var i, r = Ee(t), a = r.next(); !a.done; a = r.next())
                  (a = a.value).isContainer
                    ? e(a.nestedCues, n)
                    : (((i = a.clone()).nestedCues = []),
                      (i.payload = o(a)),
                      n.push(i));
                return n;
              })(e, []),
              n = [],
              i = ((e = this.g.cues ? Array.from(this.g.cues) : []), {}),
              r = (t = Ee(t)).next();
            !r.done;
            i = { Wb: i.Wb }, r = t.next()
          )
            (i.Wb = r.value),
              e.some(
                (function (t) {
                  return function (e) {
                    return (
                      e.startTime == t.Wb.startTime &&
                      e.endTime == t.Wb.endTime &&
                      e.text == t.Wb.payload
                    );
                  };
                })(i)
              ) ||
                ((r = (function (e) {
                  if (e.startTime >= e.endTime) return null;
                  var t = new VTTCue(e.startTime, e.endTime, e.payload);
                  (t.lineAlign = e.lineAlign),
                    (t.positionAlign = e.positionAlign),
                    e.size && (t.size = e.size);
                  try {
                    t.align = e.textAlign;
                  } catch (e) {}
                  return (
                    "center" == e.textAlign &&
                      "center" != t.align &&
                      (t.align = "middle"),
                    "vertical-lr" == e.writingMode
                      ? (t.vertical = "lr")
                      : "vertical-rl" == e.writingMode && (t.vertical = "rl"),
                    1 == e.lineInterpretation && (t.snapToLines = !1),
                    null != e.line && (t.line = e.line),
                    null != e.position && (t.position = e.position),
                    t
                  );
                })(i.Wb)) &&
                  n.push(r));
          for (
            i = (e = Ee(
              (e = n.slice().sort(function (e, t) {
                return e.startTime != t.startTime
                  ? e.startTime - t.startTime
                  : e.endTime != t.endTime
                  ? e.endTime - t.startTime
                  : ("line" in VTTCue.prototype)
                  ? n.indexOf(t) - n.indexOf(e)
                  : n.indexOf(e) - n.indexOf(t);
              }))
            )).next();
            !i.done;
            i = e.next()
          )
            this.g.addCue(i.value);
        }),
        (n.destroy = function () {
          return (
            this.g &&
              (tu(this.g, function () {
                return 1;
              }),
              (this.g.mode = "disabled")),
            (this.g = null),
            Promise.resolve()
          );
        }),
        (n.isTextVisible = function () {
          return "showing" == this.g.mode;
        }),
        (n.setTextVisibility = function (e) {
          this.g.mode = e ? "showing" : "hidden";
        }),
        t("shaka.text.SimpleTextDisplayer", eu),
        t("shaka.util.Dom", nu),
        (nu.removeAllChildren = ru),
        ((n = au.prototype).append = function (e) {
          for (
            var t = [].concat(I(this.i)), n = {}, i = (e = Ee(e)).next();
            !i.done;
            n = { bd: n.bd }, i = e.next()
          )
            (n.bd = i.value),
              t.some(
                (function (t) {
                  return function (e) {
                    return pt(e, t.bd);
                  };
                })(n)
              ) || this.i.push(n.bd);
          su(this);
        }),
        (n.destroy = function () {
          this.m.removeChild(this.g),
            (this.g = null),
            (this.j = !1),
            (this.i = []),
            this.C && this.C.stop(),
            this.h.clear(),
            this.B && (this.B.release(), (this.B = null)),
            this.l && (this.l.disconnect(), (this.l = null));
        }),
        (n.remove = function (t, n) {
          if (!this.g) return !1;
          var e = this.i.length;
          return (
            (this.i = this.i.filter(function (e) {
              return e.startTime < t || e.endTime >= n;
            })),
            su(this, e > this.i.length),
            !0
          );
        }),
        (n.isTextVisible = function () {
          return this.j;
        }),
        (n.setTextVisibility = function (e) {
          this.j = e;
        }),
        t("shaka.text.UITextDisplayer", au),
        t("shaka.text.WebVttGenerator", function () {});
      var gu = "m",
        mu = "a",
        vu = "v",
        yu = "av",
        bu = "i",
        Eu = "c",
        Tu = "tt",
        Au = "v",
        wu = "l";
      function Su() {}
      function xu(e, t, n, i, r) {
        var a,
          o = r in i,
          s = !0;
        for (a in t) {
          var u = r + "." + a,
            l = o ? i[r] : n[a];
          o || a in n
            ? void 0 === t[a]
              ? void 0 === l || o
                ? delete e[a]
                : (e[a] = Ui(l))
              : l.constructor == Object && t[a] && t[a].constructor == Object
              ? (e[a] || (e[a] = Ui(l)),
                (u = xu(e[a], t[a], l, i, u)),
                (s = s && u))
              : typeof t[a] != typeof l ||
                null == t[a] ||
                ("function" != typeof t[a] && t[a].constructor != l.constructor)
              ? (re("Invalid config, wrong type for " + u), (s = !1))
              : ("function" == typeof n[a] &&
                  n[a].length != t[a].length &&
                  k("Unexpected number of arguments for " + u),
                (e[a] = t[a]))
            : (re("Invalid config, unrecognized key " + u), (s = !1));
        }
        return s;
      }
      function Iu(e, t) {
        for (var n = {}, i = n, r = 0, a = 0; !((r = e.indexOf(".", r)) < 0); )
          (0 != r && "\\" == e[r - 1]) ||
            ((i[(a = e.substring(a, r).replace(/\\\./g, "."))] = {}),
            (i = i[a]),
            (a = r + 1)),
            (r += 1);
        return (i[e.substring(a).replace(/\\\./g, ".")] = t), n;
      }
      function ku() {}
      function Cu() {
        var e = 1 / 0,
          t =
            (navigator.connection && navigator.connection.saveData && (e = 360),
            {
              retryParameters: Li(),
              servers: {},
              clearKeys: {},
              advanced: {},
              delayLicenseRequestUntilPlayed: !1,
              initDataTransform: function (e, t, n) {
                return e;
              },
              logLicenseExchange: !1,
              updateExpirationTime: 1,
              preferredKeySystems: [],
              keySystemsMapping: {},
              parseInbandPsshEnabled: zt(),
            }),
          n = {
            retryParameters: Li(),
            availabilityWindowOverride: NaN,
            disableAudio: !1,
            disableVideo: !1,
            disableText: !1,
            disableThumbnails: !1,
            defaultPresentationDelay: 0,
            segmentRelativeVttTiming: !1,
            dash: {
              clockSyncUri: "",
              ignoreDrmInfo: !1,
              disableXlinkProcessing: !1,
              xlinkFailGracefully: !1,
              ignoreMinBufferTime: !1,
              autoCorrectDrift: !0,
              initialSegmentLimit: 1e3,
              ignoreSuggestedPresentationDelay: !1,
              ignoreEmptyAdaptationSet: !1,
              ignoreMaxSegmentDuration: !1,
              keySystemsByURI: {
                "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":
                  "org.w3.clearkey",
                "urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":
                  "org.w3.clearkey",
                "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":
                  "com.widevine.alpha",
                "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":
                  "com.microsoft.playready",
                "urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":
                  "com.microsoft.playready",
                "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":
                  "com.adobe.primetime",
              },
              manifestPreprocessor: function (e) {
                return e;
              },
              sequenceMode: !1,
            },
            hls: {
              ignoreTextStreamFailures: !1,
              ignoreImageStreamFailures: !1,
              defaultAudioCodec: "mp4a.40.2",
              defaultVideoCodec: "avc1.42E01E",
              ignoreManifestProgramDateTime: !1,
              mediaPlaylistFullMimeType:
                'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',
              useSafariBehaviorForLive: !0,
              liveSegmentsDelay: 3,
            },
          },
          i = {
            retryParameters: Li(),
            failureCallback: function (e) {},
            rebufferingGoal: 2,
            bufferingGoal: 10,
            bufferBehind: 30,
            ignoreTextStreamFailures: !1,
            alwaysStreamText: !1,
            startAtSegmentBoundary: !1,
            gapDetectionThreshold: 0.5,
            durationBackoff: 1,
            forceTransmux: !1,
            safeSeekOffset: 5,
            stallEnabled: !0,
            stallThreshold: 1,
            stallSkip: 0.1,
            useNativeHlsOnSafari: !0,
            inaccurateManifestTolerance: 2,
            lowLatencyMode: !1,
            autoLowLatencyMode: !1,
            forceHTTPS: !1,
            preferNativeHls: !1,
            updateIntervalSeconds: 1,
            dispatchAllEmsgBoxes: !1,
            observeQualityChanges: !1,
            maxDisabledTime: 30,
            parsePrftBox: !1,
          },
          r =
            ((Yt("Web0S") || Vt() || Yt("CrKey")) && (i.stallSkip = 0),
            {
              trackSelectionCallback: function (t) {
                return Ie(function (e) {
                  return e.return(t);
                });
              },
              downloadSizeCallback: function (t) {
                var n;
                return Ie(function (e) {
                  return 1 == e.g
                    ? navigator.storage && navigator.storage.estimate
                      ? Te(e, navigator.storage.estimate(), 3)
                      : e.return(!0)
                    : ((n = e.h), e.return(n.usage + t < 0.95 * n.quota));
                });
              },
              progressCallback: function (e, t) {},
              usePersistentLicense: !0,
              numberOfParallelDownloads: 5,
            }),
          a = {
            drm: t,
            manifest: n,
            streaming: i,
            mediaSource: { sourceBufferExtraFeatures: "" },
            offline: r,
            abrFactory: function () {
              return new li();
            },
            abr: {
              enabled: !0,
              useNetworkInformation: !0,
              defaultBandwidthEstimate: 1e6,
              switchInterval: 8,
              bandwidthUpgradeTarget: 0.85,
              bandwidthDowngradeTarget: 0.95,
              restrictions: {
                minWidth: 0,
                maxWidth: 1 / 0,
                minHeight: 0,
                maxHeight: e,
                minPixels: 0,
                maxPixels: 1 / 0,
                minFrameRate: 0,
                maxFrameRate: 1 / 0,
                minBandwidth: 0,
                maxBandwidth: 1 / 0,
              },
              advanced: {
                minTotalBytes: 128e3,
                minBytes: 16e3,
                fastHalfLife: 2,
                slowHalfLife: 5,
              },
              restrictToElementSize: !1,
              restrictToScreenSize: !1,
              ignoreDevicePixelRatio: !1,
            },
            autoShowText: 3,
            preferredAudioLanguage: "",
            preferredTextLanguage: "",
            preferredVariantRole: "",
            preferredTextRole: "",
            preferredAudioChannelCount: 2,
            preferredVideoCodecs: [],
            preferredAudioCodecs: [],
            preferForcedSubs: !1,
            preferredDecodingAttributes: [],
            restrictions: {
              minWidth: 0,
              maxWidth: 1 / 0,
              minHeight: 0,
              maxHeight: 1 / 0,
              minPixels: 0,
              maxPixels: 1 / 0,
              minFrameRate: 0,
              maxFrameRate: 1 / 0,
              minBandwidth: 0,
              maxBandwidth: 1 / 0,
            },
            playRangeStart: 0,
            playRangeEnd: 1 / 0,
            textDisplayFactory: function () {
              return null;
            },
            cmcd: { enabled: !1, sessionId: "", contentId: "", useHeaders: !1 },
            lcevc: {
              enabled: !1,
              dynamicPerformanceScaling: !0,
              logLevel: 0,
              drawLogo: !1,
            },
          };
        return (
          (r.trackSelectionCallback = function (t) {
            return Ie(function (e) {
              return e.return(
                (function (e, t) {
                  var n = e.filter(function (e) {
                      return "variant" == e.type;
                    }),
                    i = [],
                    r = tt(
                      t,
                      n.map(function (e) {
                        return e.language;
                      })
                    ),
                    a =
                      (0 ==
                        (i =
                          0 ==
                          (i = r
                            ? n.filter(function (e) {
                                return C(e.language) == r;
                              })
                            : i).length
                            ? n.filter(function (e) {
                                return e.primary;
                              })
                            : i).length &&
                        (n.map(function (e) {
                          return e.language;
                        }),
                        (i = n)),
                      i.filter(function (e) {
                        return e.height && e.height <= 480;
                      }));
                  {
                    var o;
                    a.length &&
                      (a.sort(function (e, t) {
                        return t.height - e.height;
                      }),
                      (i = a.filter(function (e) {
                        return e.height == a[0].height;
                      }))),
                      (n = []),
                      i.length &&
                        ((o = Math.floor(i.length / 2)),
                        i.sort(function (e, t) {
                          return e.bandwidth - t.bandwidth;
                        }),
                        n.push(i[o]));
                  }
                  for (i = Ee(e), o = i.next(); !o.done; o = i.next())
                    ((o = o.value).type != G && "image" != o.type) || n.push(o);
                  return n;
                })(t, a.preferredAudioLanguage)
              );
            });
          }),
          a
        );
      }
      function Mu(e, t, n) {
        var i = {
          ".drm.keySystemsMapping": "",
          ".drm.servers": "",
          ".drm.clearKeys": "",
          ".drm.advanced": {
            distinctiveIdentifierRequired: !1,
            persistentStateRequired: !1,
            videoRobustness: "",
            audioRobustness: "",
            sessionType: "",
            serverCertificate: new Uint8Array(0),
            serverCertificateUri: "",
            individualizationServer: "",
          },
        };
        return xu(e, t, n || Cu(), i, "");
      }
      function Lu() {
        (this.g = null), (this.h = []);
      }
      function Nu(e, t) {
        var n;
        null == e.g
          ? (e.g = { timestamp: Date.now() / 1e3, state: t, duration: 0 })
          : ((n = Date.now() / 1e3),
            (e.g.duration = n - e.g.timestamp),
            e.g.state != t &&
              (e.h.push(e.g), (e.g = { timestamp: n, state: t, duration: 0 })));
      }
      function Ru(e, t) {
        var n = 0;
        e.g && e.g.state == t && (n += e.g.duration);
        for (var i = Ee(e.h), r = i.next(); !r.done; r = i.next())
          n += (r = r.value).state == t ? r.duration : 0;
        return n;
      }
      function _u() {
        (this.i = this.h = null), (this.g = []);
      }
      function Pu(e, t, n) {
        e.i != t &&
          ((e.i = t),
          e.g.push({
            timestamp: Date.now() / 1e3,
            id: t.id,
            type: "text",
            fromAdaptation: n,
            bandwidth: null,
          }));
      }
      function Du() {
        (this.C =
          this.F =
          this.I =
          this.G =
          this.B =
          this.j =
          this.H =
          this.m =
          this.i =
          this.O =
          this.R =
          this.J =
          this.K =
          this.M =
          this.l =
          this.s =
            NaN),
          (this.g = new Lu()),
          (this.h = new _u());
      }
      function u(e, t) {
        h.call(this);
        var r,
          l = this,
          i =
            ((this.l = _l),
            (this.xd = this.g = null),
            (this.ba = !1),
            (this.Hd = new f()),
            (this.eb = new f()),
            (this.B = new f()),
            (this.fb =
              this.i =
              this.Id =
              this.K =
              this.j =
              this.ka =
              this.M =
              this.jf =
              this.U =
              this.Kd =
              this.O =
              this.zd =
              this.J =
              this.Xa =
              this.F =
              this.I =
              this.m =
              this.H =
                null),
            (this.Jc = !1),
            (this.Ye = this.C = null),
            (this.ef = 1e9),
            (this.h = Zu(this)),
            (this.Mc = { width: 1 / 0, height: 1 / 0 }),
            (this.s = null),
            (this.ya = new wi(
              this.h.preferredAudioLanguage,
              this.h.preferredVariantRole,
              this.h.preferredAudioChannelCount
            )),
            (this.La = this.h.preferredTextLanguage),
            (this.Dc = this.h.preferredTextRole),
            (this.vb = this.h.preferForcedSubs),
            (this.gb = []),
            (this.Pc = null),
            t && t(this),
            (this.H =
              ((r = this),
              new Gi(
                function (e, t) {
                  r.C && r.C.segmentDownloaded(e, t);
                },
                function (e, t, n) {
                  (e = new Map()
                    .set("headers", e)
                    .set("request", t)
                    .set("requestType", n)),
                    r.dispatchEvent(Uu("downloadheadersreceived", e));
                },
                function (e, t, n, i) {
                  (e = new Map()
                    .set("request", e)
                    .set("error", t)
                    .set("httpResponseCode", n)
                    .set("aborted", i)),
                    r.dispatchEvent(Uu("downloadfailed", e));
                }
              ))),
            this.H.Me(this.h.streaming.forceHTTPS),
            (this.G = null),
            Bl && (this.G = Bl()),
            this.Hd.o(N, "online", function () {
              l.Ee();
            }),
            (this.R = { name: "detach" }),
            (this.Y = { name: "attach" }),
            (this.aa = { name: "unload" }),
            (this.gf = { name: "manifest-parser" }),
            (this.df = { name: "manifest" }),
            (this.Wa = { name: "media-source" }),
            (this.bf = { name: "drm-engine" }),
            (this.$ = { name: "load" }),
            (this.fe = { name: "src-equals-drm-engine" }),
            (this.Ya = { name: "src-equals" }),
            new Map());
        i.set(this.Y, function (e, t) {
          return Di(
            ((n = l),
            (t = t),
            null == (e = e).N &&
              ((e.N = t.N),
              n.eb.o(e.N, "error", function () {
                var e = bl(n);
                e && vl(n, e);
              })),
            (n.g = e.N),
            Promise.resolve())
          );
          var n;
        }),
          i.set(this.R, function (e) {
            return (
              e.N && (l.eb.Rb(), (e.N = null)),
              l.G && l.G.release(),
              (l.g = null),
              Di((e = Promise.resolve()))
            );
          }),
          i.set(this.aa, function (e) {
            return Di(Bu(l, e));
          }),
          i.set(this.Wa, function (e) {
            var a, o, s, u;
            return (
              (a = l),
              (o = e),
              Di(
                (e = Ie(function (e) {
                  if (1 == e.g)
                    return (
                      (s = a.h.textDisplayFactory),
                      (u = s()),
                      (a.cf = s),
                      (t = o.N),
                      (n = u),
                      (i = function (e, t, n) {
                        Fu(a, e, t, n);
                      }),
                      (r = a.M),
                      (s = new Oo(t, n, i, r)).configure(a.h.mediaSource),
                      (u = a.h.manifest),
                      (u = u.segmentRelativeVttTiming),
                      (s.J = u),
                      Te(e, s.K, 2)
                    );
                  var t, n, i, r;
                  (a.I = s), Ae(e);
                }))
              )
            );
          }),
          i.set(this.gf, function (e, t) {
            var n, i, r, a, o, s;
            return (
              (n = l),
              (i = e),
              (r = t),
              Di(
                Ie(function (e) {
                  if (1 == e.g)
                    return (
                      (i.mimeType = r.mimeType),
                      (i.uri = r.uri),
                      (s = i.uri),
                      (a = n.H),
                      (n.fb = s),
                      (o = n),
                      Te(
                        e,
                        ta(s, a, n.h.manifest.retryParameters, i.mimeType),
                        2
                      )
                    );
                  (o.Id = e.h),
                    (n.K = n.Id()),
                    (s = Ui(n.h.manifest)),
                    r.N && "AUDIO" === r.N.nodeName && (s.disableVideo = !0),
                    n.K.configure(s),
                    Ae(e);
                })
              )
            );
          }),
          i.set(this.df, function (e) {
            return (
              (c = l),
              (a = (e = e).uri),
              (e = c.H),
              (c.Kd = new Ms(function () {
                return c.Ia();
              })),
              c.Kd.addEventListener("regionadd", function (e) {
                (e = e.region),
                  yl(c, "timelineregionadded", e),
                  c.G && c.G.onDashTimedMetadata(e);
              }),
              (c.ka = null),
              c.h.streaming.observeQualityChanges &&
                ((c.ka = new Cs(function () {
                  return c.ib();
                })),
                c.ka.addEventListener("qualitychange", function (e) {
                  var t = e.quality;
                  (e = e.position),
                    (t = new Map()
                      .set("mediaQuality", {
                        bandwidth: t.bandwidth,
                        audioSamplingRate: t.audioSamplingRate,
                        codecs: t.codecs,
                        contentType: t.contentType,
                        frameRate: t.frameRate,
                        height: t.height,
                        mimeType: t.mimeType,
                        channelsCount: t.channelsCount,
                        pixelAspectRatio: t.pixelAspectRatio,
                        width: t.width,
                      })
                      .set("position", e)),
                    c.dispatchEvent(Uu("mediaqualitychanged", t));
                })),
              (o = {
                networkingEngine: e,
                modifyManifestRequest: function (e, t) {
                  var n = c.U;
                  try {
                    n.g.enabled &&
                      ((n.s = t.format), hu(n, e, { ot: gu, su: !n.i }));
                  } catch (e) {
                    ae(
                      "CMCD_MANIFEST_ERROR",
                      "Could not generate manifest CMCD data.",
                      e
                    );
                  }
                },
                modifySegmentRequest: function (e, t) {
                  cu(c.U, e, t);
                },
                filter: function (e) {
                  return el(c, e);
                },
                makeTextStreamsForClosedCaptions: function (e) {
                  for (
                    var t,
                      n,
                      i = c,
                      r = e,
                      a = new Set(),
                      o = Ee(r.textStreams),
                      s = o.next();
                    !s.done;
                    s = o.next()
                  )
                    ("application/cea-608" != (s = s.value).mimeType &&
                      "application/cea-708" != s.mimeType) ||
                      a.add(s.originalId);
                  for (o = Ee(r.variants), s = o.next(); !s.done; s = o.next())
                    if ((s = s.value.video) && s.closedCaptions)
                      for (
                        var u = Ee(s.closedCaptions.keys()), l = u.next();
                        !l.done;
                        l = u.next()
                      )
                        (l = l.value),
                          a.has(l) ||
                            ((t = l.startsWith("CC")
                              ? "application/cea-608"
                              : "application/cea-708"),
                            (n = new ws()),
                            (t = {
                              id: i.ef++,
                              originalId: l,
                              createSegmentIndex: function () {
                                return Promise.resolve();
                              },
                              segmentIndex: n,
                              mimeType: t,
                              codecs: "",
                              kind: "caption",
                              encrypted: !1,
                              drmInfos: [],
                              keyIds: new Set(),
                              language: s.closedCaptions.get(l),
                              label: null,
                              type: G,
                              primary: !1,
                              trickModeVideo: null,
                              emsgSchemeIdUris: null,
                              roles: s.roles,
                              forced: !1,
                              channelsCount: null,
                              audioSamplingRate: null,
                              spatialAudio: !1,
                              closedCaptions: null,
                            }),
                            r.textStreams.push(t),
                            a.add(l));
                },
                onTimelineRegionAdded: function (e) {
                  var t = c.Kd;
                  e: {
                    for (var n = Ee(t.g), i = n.next(); !i.done; i = n.next())
                      if (
                        (i = i.value).schemeIdUri == e.schemeIdUri &&
                        i.id == e.id &&
                        i.startTime == e.startTime &&
                        i.endTime == e.endTime
                      ) {
                        n = i;
                        break e;
                      }
                    n = null;
                  }
                  null == n &&
                    (t.g.add(e),
                    (e = new _("regionadd", new Map([["region", e]]))),
                    t.dispatchEvent(e));
                },
                onEvent: function (e) {
                  return c.dispatchEvent(e);
                },
                onError: function (e) {
                  return vl(c, e);
                },
                isLowLatencyMode: function () {
                  return c.h.streaming.lowLatencyMode;
                },
                isAutoLowLatencyMode: function () {
                  return c.h.streaming.autoLowLatencyMode;
                },
                enableLowLatencyMode: function () {
                  c.configure("streaming.lowLatencyMode", !0);
                },
                updateDuration: function () {
                  c.j && c.j.updateDuration();
                },
                newDrmInfo: function (e) {
                  var t = c.m ? c.m.g : null;
                  t && c.m.C && nl(c, t.keySystem, e);
                },
              }),
              (s = Date.now() / 1e3),
              new Ni(
                (function () {
                  var i, r;
                  return Ie(function (e) {
                    if (1 == e.g) return Te(e, (i = c).K.start(a, o), 2);
                    if (
                      ((i.i = e.h),
                      (r = Uu("manifestparsed")),
                      c.dispatchEvent(r),
                      0 == c.i.variants.length)
                    )
                      throw new ke(2, 4, 4036);
                    function t(e) {
                      return (
                        (e.video && e.audio) ||
                        (e.video && e.video.codecs.includes(","))
                      );
                    }
                    var n;
                    (n = c.i).variants.some(t) &&
                      (n.variants = n.variants.filter(t)),
                      (r = Date.now() / 1e3),
                      (r = r - s),
                      (c.s.H = r),
                      Ae(e);
                  });
                })(),
                function () {
                  return c.K.stop();
                }
              )
            );
            var c, a, o, s;
          }),
          i.set(this.bf, function (e) {
            var n, t, i, r;
            return (
              (n = l),
              (t = e),
              Di(
                (e = Ie(function (e) {
                  return 1 == e.g
                    ? ((i = Date.now() / 1e3),
                      (r = !0),
                      (n.m = zu(n, {
                        Pb: n.H,
                        onError: function (e) {
                          vl(n, e);
                        },
                        Ed: function (e) {
                          El(n, e);
                        },
                        onExpirationUpdated: function (e, t) {
                          Tl(n, e, t);
                        },
                        onEvent: function (e) {
                          n.dispatchEvent(e),
                            "drmsessionupdate" == e.type &&
                              r &&
                              ((r = !1),
                              (n.s.j = Date.now() / 1e3 - i),
                              n.M &&
                                (e = n.M).g &&
                                e.h.classList.add("shaka-hidden"));
                        },
                      })),
                      n.m.configure(n.h.drm),
                      Te(e, _r(n.m, n.i.variants, n.i.offlineSessionIds), 2))
                    : 3 != e.g
                    ? Te(e, n.m.Ac(t.N), 3)
                    : Te(e, el(n, n.i), 0);
                }))
              )
            );
          }),
          i.set(this.$, function (e, t) {
            return Di(
              ((f = l),
              (p = e),
              (g = t),
              Ie(function (e) {
                switch (e.g) {
                  case 1:
                    (p.startTime = g.startTime),
                      null != f.Pc && ((p.startTime = f.Pc), (f.Pc = null)),
                      (m = p.N),
                      (y = p.uri),
                      (f.fb = y),
                      (f.J = new Ss({
                        ud: function () {
                          return m.playbackRate;
                        },
                        rd: function () {
                          return m.defaultPlaybackRate;
                        },
                        Oe: function (e) {
                          m.playbackRate = e;
                        },
                        Nf: function (e) {
                          m.currentTime += e;
                        },
                      })),
                      (y = function () {
                        return al(f);
                      }),
                      (v = function () {
                        return rl(f);
                      }),
                      f.B.o(m, "playing", y),
                      f.B.o(m, "pause", y),
                      f.B.o(m, "ended", y),
                      f.B.o(m, "ratechange", v);
                    var t = f,
                      n = f.h;
                    for (
                      n.lcevc.enabled
                        ? ((d = t.Ja()) &&
                            d[0] &&
                            d[0].videoMimeType == Fl.ts &&
                            (navigator.userAgent.match(/Edge?\//) ||
                              navigator.userAgent.match(/Edge\//)) &&
                            (n.streaming.forceTransmux ||
                              k(
                                "LCEVC Warning: For MPEG-2 TS decoding the config.streaming.forceTransmux must be enabled."
                              )),
                          Ou(t),
                          null == t.M &&
                            ((t.M = new No(t.g, t.jf, n.lcevc)),
                            t.I && (t.I.G = t.M)))
                        : Ou(t),
                        y = f.h.abrFactory,
                        (f.C && f.Ye == y) ||
                          ((f.Ye = y),
                          (f.C = y()),
                          "function" != typeof f.C.setMediaElement &&
                            (pi(
                              "AbrManager",
                              "Please use an AbrManager with setMediaElement function."
                            ),
                            (f.C.setMediaElement = function () {})),
                          f.C.configure(f.h.abr)),
                        f.ya = new wi(
                          f.h.preferredAudioLanguage,
                          f.h.preferredVariantRole,
                          f.h.preferredAudioChannelCount
                        ),
                        f.La = f.h.preferredTextLanguage,
                        f.Dc = f.h.preferredTextRole,
                        f.vb = f.h.preferForcedSubs,
                        Al(
                          f.i.presentationTimeline,
                          f.h.playRangeStart,
                          f.h.playRangeEnd
                        ),
                        f.C.init(function (e, t, n) {
                          f.j &&
                            e != f.j.l &&
                            ll(
                              f,
                              e,
                              !0,
                              void 0 !== t && t,
                              void 0 === n ? 0 : n
                            );
                        }),
                        f.C.setMediaElement(m),
                        _n(
                          f.i,
                          f.h.preferredVideoCodecs,
                          f.h.preferredAudioCodecs,
                          f.h.preferredAudioChannelCount,
                          f.h.preferredDecodingAttributes
                        ),
                        f.j = new Os((h = f).i, {
                          td: function () {
                            return h.F ? h.F.hd() : 0;
                          },
                          getBandwidthEstimate: function () {
                            return h.C.getBandwidthEstimate();
                          },
                          modifySegmentRequest: function (e, t) {
                            cu(h.U, e, t);
                          },
                          V: h.I,
                          Pb: h.H,
                          onError: function (e) {
                            return vl(h, e);
                          },
                          onEvent: function (e) {
                            return h.dispatchEvent(e);
                          },
                          oh: function () {
                            h.K && h.K.update && h.K.update();
                          },
                          Be: function (e, t, n) {
                            h.F && h.F.Of(),
                              Hu(h),
                              (e = new Map()
                                .set("start", e)
                                .set("end", t)
                                .set("contentType", n)),
                              h.dispatchEvent(Uu("segmentappended", e));
                          },
                          nh: function (e, t) {
                            var n,
                              i,
                              r,
                              a,
                              o,
                              s,
                              u,
                              t = t.we;
                            t &&
                              h.ka &&
                              ((n = h.ka),
                              (i = e),
                              (e = n),
                              (s = (t = t).contentType),
                              (u = e.g.get(s)) ||
                                e.g.set(
                                  s,
                                  (u = { Sc: [], yf: null, contentType: s })
                                ),
                              (u = e = u),
                              (s = (s = n).h()[u.contentType]) && 0 < s.length
                                ? ((r = s[0].start),
                                  (a = s[s.length - 1].end),
                                  (o = u.Sc),
                                  (u.Sc = o.filter(function (e, t) {
                                    return !(
                                      (e.position <= r &&
                                        t + 1 < o.length &&
                                        o[t + 1].position <= r) ||
                                      e.position >= a
                                    );
                                  })))
                                : (u.Sc = []),
                              (n = { we: t, position: i }),
                              0 <=
                              (t = (e = e.Sc).findIndex(function (e) {
                                return e.position >= i;
                              }))
                                ? e.splice(t, e[t].position == i ? 1 : 0, n)
                                : e.push(n));
                          },
                          qf: function (e, t) {
                            var n = h.m;
                            if (
                              n.h.parseInbandPsshEnabled &&
                              ["audio", "video"].includes(e)
                            ) {
                              for (
                                var i = new dr(R(t)),
                                  r = 0,
                                  a = Ee(i.data),
                                  o = a.next();
                                !o.done;
                                o = a.next()
                              )
                                r += o.value.length;
                              if (0 == r) n = Promise.resolve();
                              else {
                                for (
                                  r = new Uint8Array(r),
                                    a = 0,
                                    o = (i = Ee(i.data)).next();
                                  !o.done;
                                  o = i.next()
                                )
                                  (o = o.value), r.set(o, a), (a += o.length);
                                jr(n, "cenc", r), (n = n.s);
                              }
                            } else n = Promise.resolve();
                            return n;
                          },
                          ph: function (e, t, n) {
                            Fu(h, e, t, n);
                          },
                        }),
                        f.j.configure(f.h.streaming),
                        f.l = Pl,
                        m.textTracks &&
                          f.B.o(m.textTracks, "addtrack", function (e) {
                            e.track &&
                              "chapters" === (e = e.track).kind &&
                              Ku(f, e);
                          }),
                        f.dispatchEvent(Uu("streaming")),
                        v = null,
                        (y = f.Ja().find(function (e) {
                          return e.active;
                        })) || (v = sl(f)),
                        b = [],
                        E = Ee([(w = y || v).video, w.audio]),
                        T = E.next();
                      !T.done;
                      T = E.next()
                    )
                      (A = T.value) &&
                        !A.segmentIndex &&
                        b.push(A.createSegmentIndex());
                    if (0 < b.length) return Te(e, Promise.all(b), 2);
                    e.D(2);
                    break;
                  case 2:
                    if (
                      ((f.F =
                        ((c = f),
                        (d = p.startTime),
                        new vs(
                          c.g,
                          c.i,
                          c.h.streaming,
                          d,
                          function () {
                            c.Xa && ks(c.Xa, !0), c.j && c.j.Vc(), c.O && Hu(c);
                          },
                          function (e) {
                            return c.dispatchEvent(e);
                          }
                        ))),
                      (f.Xa =
                        ((n = new Ls((l = f).Kd)).addEventListener(
                          "enter",
                          function (e) {
                            yl(l, "timelineregionenter", e.region);
                          }
                        ),
                        n.addEventListener("exit", function (e) {
                          yl(l, "timelineregionexit", e.region);
                        }),
                        n.addEventListener("skip", function (e) {
                          var t = e.region;
                          e.seeking ||
                            (yl(l, "timelineregionenter", t),
                            yl(l, "timelineregionexit", t));
                        }),
                        (t = new Is(l.g)).g.add(n),
                        l.ka && t.g.add(l.ka),
                        t)),
                      (w = Math.max(
                        f.i.minBufferTime,
                        f.h.streaming.rebufferingGoal
                      )),
                      Vu(f, w),
                      y)
                    ) {
                      e.D(4);
                      break;
                    }
                    if (
                      (ll(f, v, !0, !1, 0),
                      f.h.streaming.startAtSegmentBoundary)
                    )
                      return (
                        (S = f.F.hd()),
                        Te(
                          e,
                          ((i = v),
                          (r = S),
                          Ie(function (e) {
                            return 1 == e.g
                              ? ((u = i.audio),
                                (a = i.video),
                                Te(
                                  e,
                                  (o = function (t, n) {
                                    var i;
                                    return Ie(function (e) {
                                      return 1 == e.g
                                        ? t
                                          ? Te(e, t.createSegmentIndex(), 2)
                                          : e.return(null)
                                        : (i = (i = t.segmentIndex.bc(n))
                                            ? i.next().value
                                            : null)
                                        ? ((i = i.startTime), e.return(i))
                                        : e.return(null);
                                    });
                                  })(u, r),
                                  2
                                ))
                              : 3 != e.g
                              ? ((s = e.h), Te(e, o(a, r), 3))
                              : null != (u = e.h) && null != s
                              ? e.return(Math.max(u, s))
                              : null != u
                              ? e.return(u)
                              : null != s
                              ? e.return(s)
                              : e.return(r);
                          })),
                          6
                        )
                      );
                    e.D(5);
                    break;
                  case 6:
                    (S = e.h), f.F.ie(S);
                  case 5:
                    dl(f, null, Vn(v));
                  case 4:
                    return (
                      f.F.ge(),
                      f.zb().find(function (e) {
                        return e.active;
                      }) ||
                        ((x =
                          Zn(f.i.textStreams, f.La, f.Dc, f.vb)[0] || null) &&
                          Pu(f.s.h, x, !0),
                        v &&
                          (x
                            ? (v.audio &&
                                (function (e, t, n) {
                                  if (0 == e.h.autoShowText) return;
                                  if (1 == e.h.autoShowText) return 1;
                                  var i = C(e.h.preferredTextLanguage);
                                  return (
                                    (n = C(n.language)),
                                    2 == e.h.autoShowText
                                      ? qe(n, i)
                                      : 3 == e.h.autoShowText
                                      ? ((e = C(t.language)),
                                        qe(n, i) && !qe(e, n))
                                      : (k("Invalid autoShowText setting!"), !1)
                                  );
                                })(f, v.audio, x) &&
                                (f.ba = !0),
                              f.ba && f.I.m.setTextVisibility(!0),
                              gl(f))
                            : (f.ba = !1)),
                        x &&
                          (f.h.streaming.alwaysStreamText || f.Ob()) &&
                          Bs(f.j, x)),
                      Te(e, f.j.start(), 7)
                    );
                  case 7:
                    f.h.abr.enabled && (f.C.enable(), ml(f)),
                      Kn(f.j ? f.j.l : null, f.i),
                      Sl(f.i),
                      hl(f),
                      ol(f),
                      f.i.variants.some(function (e) {
                        return e.primary;
                      }),
                      (f.Jc = !0),
                      f.B.Ea(m, "loadedmetadata", function () {
                        f.s.m = Date.now() / 1e3 - g.Te;
                      }),
                      Ae(e);
                }
                var i, r, a, o, s, u, l, c, d, h;
              }))
            );
            var f, p, g, m, v, y, b, E, T, A, w, S, x;
          }),
          i.set(this.fe, function (e, t) {
            var n, i, r, a, o, s, u;
            return (
              (n = l),
              (i = e),
              (r = t),
              Di(
                Ie(function (e) {
                  return 1 == e.g
                    ? ((a = He),
                      (o = Date.now() / 1e3),
                      (s = !0),
                      (n.m = zu(n, {
                        Pb: n.H,
                        onError: function (e) {
                          vl(n, e);
                        },
                        Ed: function (e) {
                          El(n, e);
                        },
                        onExpirationUpdated: function (e, t) {
                          Tl(n, e, t);
                        },
                        onEvent: function (e) {
                          n.dispatchEvent(e),
                            "drmsessionupdate" == e.type &&
                              s &&
                              ((s = !1), (n.s.j = Date.now() / 1e3 - o));
                        },
                      })),
                      n.m.configure(n.h.drm),
                      (u = r.uri || ""),
                      (u = ia(u)),
                      (u =
                        (u =
                          "application/x-mpegurl" == (u = Fl[u]) && Xt()
                            ? "application/vnd.apple.mpegurl"
                            : u) || "video/mp4"),
                      (u = {
                        id: 0,
                        language: "und",
                        disabledUntilTime: 0,
                        primary: !1,
                        audio: null,
                        video: {
                          id: 0,
                          originalId: null,
                          createSegmentIndex: function () {
                            return Promise.resolve();
                          },
                          segmentIndex: null,
                          mimeType: r.mimeType ? r.mimeType.split(";")[0] : u,
                          codecs: r.mimeType ? In(r.mimeType) : "",
                          encrypted: !0,
                          drmInfos: [],
                          keyIds: new Set(),
                          language: "und",
                          label: null,
                          type: a.Ma,
                          primary: !1,
                          trickModeVideo: null,
                          emsgSchemeIdUris: null,
                          roles: [],
                          forced: !1,
                          channelsCount: null,
                          audioSamplingRate: null,
                          spatialAudio: !1,
                          closedCaptions: null,
                        },
                        bandwidth: 100,
                        allowedByApplication: !0,
                        allowedByKeySystem: !0,
                        decodingInfos: [],
                      }),
                      (n.m.U = !0),
                      Te(e, _r(n.m, [u], []), 2))
                    : Te(e, n.m.Ac(i.N), 0);
                })
              )
            );
          }),
          i.set(this.Ya, function (e, t) {
            return (
              (o = l),
              (i = t),
              ((t = e).uri = i.uri),
              (t.startTime = i.startTime),
              (o.fb = t.uri),
              (s = t.N),
              (o.F = new ms(s)),
              (u = !1),
              o.gb.push(function () {
                u = !0;
              }),
              null != t.startTime && o.F.ie(t.startTime),
              (o.J = new Ss({
                ud: function () {
                  return s.playbackRate;
                },
                rd: function () {
                  return s.defaultPlaybackRate;
                },
                Oe: function (e) {
                  s.playbackRate = e;
                },
                Nf: function (e) {
                  s.currentTime += e;
                },
              })),
              Vu(o, o.h.streaming.rebufferingGoal),
              o.B.o(s, "playing", n),
              o.B.o(s, "pause", n),
              o.B.o(s, "ended", n),
              o.B.o(s, "ratechange", function () {
                return rl(o);
              }),
              "none" != s.preload &&
                o.B.Ea(s, "loadedmetadata", function () {
                  o.s.m = Date.now() / 1e3 - i.Te;
                }),
              s.audioTracks &&
                (o.B.o(s.audioTracks, "addtrack", function () {
                  return hl(o);
                }),
                o.B.o(s.audioTracks, "removetrack", function () {
                  return hl(o);
                }),
                o.B.o(s.audioTracks, "change", function () {
                  return hl(o);
                })),
              s.textTracks &&
                (o.B.o(s.textTracks, "addtrack", function (e) {
                  if (e.track)
                    switch (((e = e.track), e.kind)) {
                      case "metadata":
                        var t,
                          n = o,
                          i = e;
                        "metadata" == i.kind &&
                          ((i.mode = "hidden"),
                          n.B.o(i, "cuechange", function () {
                            if (i.activeCues)
                              for (
                                var e = Ee(i.activeCues), t = e.next();
                                !t.done;
                                t = e.next()
                              )
                                (t = t.value),
                                  Gu(
                                    n,
                                    t.startTime,
                                    t.endTime,
                                    t.type,
                                    t.value
                                  ),
                                  n.G && n.G.onCueMetadataChange(t.value);
                          }),
                          (t = new M(function () {
                            for (
                              var e = Array.from(n.g.textTracks).filter(
                                  function (e) {
                                    return "metadata" == e.kind;
                                  }
                                ),
                                t = (e = Ee(e)).next();
                              !t.done;
                              t = e.next()
                            )
                              t.value.mode = "hidden";
                          })
                            .xa()
                            .S(0.5)),
                          n.gb.push(function () {
                            t.stop();
                          }));
                        break;
                      case "chapters":
                        Ku(o, e);
                        break;
                      default:
                        hl(o);
                    }
                }),
                o.B.o(s.textTracks, "removetrack", function () {
                  return hl(o);
                }),
                o.B.o(s.textTracks, "change", function () {
                  return hl(o);
                })),
              (e = ia(t.uri)),
              (s.src = (function (e, t, n) {
                try {
                  if (!e.g.enabled) return t;
                  var i = du(e);
                  e: {
                    switch (n) {
                      case "video/webm":
                      case "video/mp4":
                        var r = yu;
                        break e;
                      case "application/x-mpegurl":
                        r = gu;
                        break e;
                    }
                    r = void 0;
                  }
                  return (i.ot = r), (i.su = !0), pu(t, fu(i));
                } catch (e) {
                  return (
                    ae(
                      "CMCD_SRC_ERROR",
                      "Could not generate src CMCD data.",
                      e
                    ),
                    t
                  );
                }
              })(o.U, t.uri, Fl[e])),
              (Vt() || Yt("Web0S")) && s.load(),
              (o.l = Dl),
              o.dispatchEvent(Uu("streaming")),
              (r = new P()),
              ss(s, HTMLMediaElement.HAVE_METADATA, o.B, function () {
                o.F.ge(), r.resolve();
              }),
              ss(s, HTMLMediaElement.HAVE_CURRENT_DATA, o.B, function () {
                var a;
                return Ie(function (e) {
                  if (1 == e.g) {
                    {
                      var t = o;
                      var n = t.h.preferredAudioLanguage;
                      "" != n &&
                        (t.Md(n),
                        "" != (r = t.h.preferredVariantRole) && t.Md(n, r));
                    }
                    return (
                      (a = Wu(o)),
                      a.find(function (e) {
                        return "disabled" != e.mode;
                      })
                        ? e.D(2)
                        : Te(
                            e,
                            new Promise(function (e) {
                              o.B.Ea(s.textTracks, "change", e), new M(e).S(1);
                            }),
                            2
                          )
                    );
                  }
                  if (u) return e.return();
                  var i,
                    t = o,
                    n = t.h.preferredTextLanguage,
                    r = t.h.preferForcedSubs;
                  "" != n &&
                    (t.He(n, "", r),
                    "" != (i = t.h.preferredTextRole) && t.He(n, i, r)),
                    Ae(e);
                });
              }),
              s.error
                ? r.reject(bl(o))
                : "none" == s.preload &&
                  (k(
                    'With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'
                  ),
                  r.resolve()),
              o.B.Ea(s, "error", function () {
                r.reject(bl(o));
              }),
              new Ni(r, function () {
                return r.reject(new ke(2, 7, 7001)), Promise.resolve();
              }).ia(function () {
                o.Jc = !0;
              })
            );
            function n() {
              return al(o);
            }
            var o, i, s, u, r;
          }),
          (this.ua = new Js(this.R, {
            Rg: function (e, t, n, i) {
              var r = null;
              return (
                e == l.R && (r = n == l.R ? l.R : l.Y),
                e == l.Y &&
                  (r =
                    n == l.R || t.N != i.N
                      ? l.R
                      : n == l.Y
                      ? l.Y
                      : n == l.Wa || n == l.$
                      ? l.Wa
                      : n == l.Ya
                      ? l.fe
                      : null),
                e == l.Wa && (r = n == l.$ && t.N == i.N ? l.gf : l.aa),
                e == l.gf && (r = Ml(l.$, l.df, l.aa, n, t, i)),
                e == l.df && (r = Ml(l.$, l.bf, l.aa, n, t, i)),
                e == l.bf && (r = Ml(l.$, l.$, l.aa, n, t, i)),
                e == l.fe && (r = n == l.Ya && t.N == i.N ? l.Ya : l.aa),
                (e != l.$ && e != l.Ya) || (r = l.aa),
                (r = e == l.aa ? (i.N && t.N == i.N ? l.Y : l.R) : r)
              );
            },
            wg: function (e, t, n) {
              return (
                l.dispatchEvent(
                  Uu("onstatechange", new Map().set("state", e.name))
                ),
                i.get(e)(t, n)
              );
            },
            handleError: function (t) {
              return Ie(function (e) {
                return 1 == e.g
                  ? Te(e, Bu(l, t), 2)
                  : e.return(t.N ? l.Y : l.R);
              });
            },
            mh: function (e) {
              l.dispatchEvent(
                Uu("onstateidle", new Map().set("state", e.name))
              );
            },
          })),
          (this.hf = new M(function () {
            On(l.i.variants, l.h.restrictions, l.Mc) && sl(l);
          })),
          e && this.Ac(e, !0);
      }
      function Ou(e) {
        null != e.M && (e.M.release(), (e.M = null));
      }
      function Uu(e, t) {
        return new _(e, t);
      }
      function ju() {
        if (
          (N.Promise || k("A Promise implementation or polyfill is required"),
          !(N.Promise && N.Uint8Array && Array.prototype.forEach) ||
            Yt("Trident/"))
        )
          return !1;
        var e = qt();
        return (
          !(
            (e && e < 13) ||
            !(
              N.MediaKeys &&
              N.navigator &&
              N.navigator.requestMediaKeySystemAccess &&
              N.MediaKeySystemAccess &&
              N.MediaKeySystemAccess.prototype.getConfiguration
            )
          ) &&
          (!!Gt() || Kt("application/x-mpegurl"))
        );
      }
      function Bu(t, n) {
        var i, r, a, o, s, u, l, c, d;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              return (
                t.l != Rl && (t.l = _l),
                (i = t.gb.map(function (e) {
                  return e();
                })),
                (t.gb = []),
                Te(e, Promise.all(i), 2)
              );
            case 2:
              if (
                (t.dispatchEvent(Uu("unloading")),
                (n.mimeType = null),
                (n.startTime = null),
                (n.uri = null),
                n.N && t.B.Rb(),
                t.hf.stop(),
                t.Xa && (t.Xa.release(), (t.Xa = null)),
                t.zd && (t.zd.stop(), (t.zd = null)),
                t.K)
              )
                return Te(e, t.K.stop(), 4);
              e.D(3);
              break;
            case 4:
              (t.K = null), (t.Id = null);
            case 3:
              if (t.C) return Te(e, t.C.stop(), 5);
              e.D(5);
              break;
            case 5:
              if (t.j) return Te(e, t.j.destroy(), 8);
              e.D(7);
              break;
            case 8:
              t.j = null;
            case 7:
              if (
                (t.J && (t.J.release(), (t.J = null)),
                t.F && (t.F.release(), (t.F = null)),
                t.I)
              )
                return Te(e, t.I.destroy(), 10);
              e.D(9);
              break;
            case 10:
              t.I = null;
            case 9:
              if ((t.G && t.G.onAssetUnload(), n.N && n.N.src))
                return Te(
                  e,
                  new Promise(function (e) {
                    return new M(e).S(0.1);
                  }),
                  12
                );
              e.D(11);
              break;
            case 12:
              for (n.N.removeAttribute("src"), n.N.load(); n.N.lastChild; )
                n.N.removeChild(n.N.firstChild);
            case 11:
              if (t.m) return Te(e, t.m.destroy(), 14);
              e.D(13);
              break;
            case 14:
              t.m = null;
            case 13:
              if (((t.fb = null), (t.O = null), t.i)) {
                for (r = Ee(t.i.variants), a = r.next(); !a.done; a = r.next())
                  for (
                    o = a.value, s = Ee([o.audio, o.video]), u = s.next();
                    !u.done;
                    u = s.next()
                  )
                    (l = u.value) && l.segmentIndex && l.segmentIndex.release();
                for (
                  c = Ee(t.i.textStreams), u = c.next();
                  !u.done;
                  u = c.next()
                )
                  (d = u.value).segmentIndex && d.segmentIndex.release();
              }
              (t.i = null), (t.s = new Du()), (t.cf = null), il(t), Ae(e);
          }
        });
      }
      function Fu(e, t, n, i) {
        for (var r = (t = Ee(t)).next(); !r.done; r = t.next())
          if ((r = r.value).data && r.cueTime && r.frames) {
            var a = r.cueTime + n,
              o = i;
            i && i < a && (o = a);
            for (var s = Ee(r.frames), u = s.next(); !u.done; u = s.next())
              Gu(e, a, o, "org.id3", u.value);
            e.G && e.G.onHlsTimedMetadata(r, a);
          }
      }
      function Gu(e, t, n, i, r) {
        (t = new Map()
          .set("startTime", t)
          .set("endTime", n)
          .set("metadataType", i)
          .set("payload", r)),
          e.dispatchEvent(Uu("metadata", t));
      }
      function Ku(e, t) {
        var n;
        t &&
          "chapters" == t.kind &&
          ((t.mode = "hidden"),
          (n = new M(function () {
            t.mode = "hidden";
          })
            .xa()
            .S(0.5)),
          e.gb.push(function () {
            n.stop();
          }));
      }
      function zu(e, t) {
        return new Rr(t, e.h.drm.updateExpirationTime);
      }
      function Vu(e, t) {
        (e.O = new Si()),
          (e.O.g = Ii),
          xi(e.O, t, Math.min(0.5, t / 2)),
          il(e),
          (e.zd = new M(function () {
            Hu(e);
          }).ha(0.25));
      }
      function Hu(e) {
        switch (e.l) {
          case Dl:
            var t;
            t =
              !!e.g.ended ||
              (null != (n = To(e.g.buffered)) && n >= e.g.duration - 1);
            break;
          case Pl:
            e: if (e.g.ended || jo(e.I)) t = !0;
            else {
              if (e.i.presentationTimeline.T()) {
                var n = e.i.presentationTimeline.Jb(),
                  i = To(e.g.buffered);
                if (null != i && n <= i) {
                  t = !0;
                  break e;
                }
              }
              t = !1;
            }
            break;
          default:
            t = !1;
        }
        var i = wo(e.g.buffered, e.g.currentTime),
          r = t,
          a = (n = e.O).h.get(n.g);
        (t = n.g) != (n.g = i = r || a <= i ? ki : Ii) && il(e);
      }
      function Xu(t) {
        var e, n, i, r;
        if (
          (t.K &&
            ((e = Ui(t.h.manifest)),
            t.g && "AUDIO" === t.g.nodeName && (e.disableVideo = !0),
            t.K.configure(e)),
          t.m && t.m.configure(t.h.drm),
          t.j)
        ) {
          t.j.configure(t.h.streaming);
          try {
            tl(t, t.i);
          } catch (e) {
            vl(t, e);
          }
          t.C && ol(t),
            !(e = t.j.l) ||
              (e.allowedByApplication && e.allowedByKeySystem) ||
              ul(t);
        }
        t.H && t.H.Me(t.h.streaming.forceHTTPS),
          t.I &&
            (t.I.configure(t.h.mediaSource),
            (t.I.J = t.h.manifest.segmentRelativeVttTiming),
            (e = t.h.textDisplayFactory),
            t.cf != e) &&
            ((n = e()),
            (r = (i = t.I).m),
            (i.m = n),
            r && (n.setTextVisibility(r.isTextVisible()), r.destroy()),
            i.g && (i.g.i = n),
            (t.cf = e),
            t.j && (n = (e = t.j).j.get(G)) && Fs(e, n.stream, !0, 0, !0)),
          t.C &&
            (t.C.configure(t.h.abr),
            t.h.abr.enabled ? t.C.enable() : t.C.disable(),
            ml(t)),
          t.O &&
            ((e = t.h.streaming.rebufferingGoal),
            t.i && (e = Math.max(e, t.i.minBufferTime)),
            xi(t.O, e, Math.min(0.5, e / 2))),
          t.i &&
            Al(t.i.presentationTimeline, t.h.playRangeStart, t.h.playRangeEnd);
      }
      function Wu(e) {
        return Array.from(e.g.textTracks).filter(function (e) {
          return (
            "metadata" != e.kind &&
            "chapters" != e.kind &&
            "Shaka Player TextTrack" != e.label
          );
        });
      }
      function qu(e) {
        return Array.from(e.g.textTracks).filter(function (e) {
          return "chapters" == e.kind;
        });
      }
      function Yu(t, n) {
        var i, r;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              return ((i = ia(n)), (r = Gl[i]))
                ? e.return(r)
                : (we(e, 2),
                  Te(e, na(n, t.H, t.h.streaming.retryParameters), 4));
            case 4:
              (r = e.h), Se(e, 3);
              break;
            case 2:
              xe(e);
            case 3:
              if (r) return e.return(r);
              throw new ke(1, 2, 2011, i);
          }
        });
      }
      function $u(a, o, s, u, l, c, d) {
        var h;
        return Ie(function (e) {
          if (1 == e.g)
            return "text/vtt" != l || d.length
              ? Te(e, Ju(a, o, a.H, a.h.streaming.retryParameters), 3)
              : e.D(2);
          2 != e.g &&
            ((h = e.h),
            (h = Qu(a, h, l, d)),
            (h = new Blob([h], { type: "text/vtt" })),
            (o = Zo(h)),
            (l = "text/vtt")),
            (h = document.createElement("track"));
          var t = a.U,
            n = o;
          try {
            var i,
              r = t.g.enabled
                ? (((i = du(t)).ot = Eu), (i.su = !0), pu(n, fu(i)))
                : n;
          } catch (e) {
            ae(
              "CMCD_TEXT_TRACK_ERROR",
              "Could not generate text track CMCD data.",
              e
            ),
              (r = n);
          }
          return (
            (h.src = r),
            (h.label = c),
            (h.kind = u),
            (h.srclang = s),
            a.g.getAttribute("crossorigin") ||
              a.g.setAttribute("crossorigin", "anonymous"),
            a.g.appendChild(h),
            e.return(h)
          );
        });
      }
      function Ju(n, i, r, a) {
        var o, s;
        return Ie(function (e) {
          if (1 != e.g) return (s = e.h), e.return(s.data);
          (s = Xi), ((o = zi([i], a)).method = "GET");
          var t = n.U;
          try {
            t.g.enabled && hu(t, o, { ot: Eu, su: !0 });
          } catch (e) {
            ae("CMCD_TEXT_ERROR", "Could not generate text CMCD data.", e);
          }
          return Te(e, r.request(s, o).promise, 2);
        });
      }
      function Qu(e, t, n, i) {
        var r = Rn[n];
        if (r) {
          (n = r()),
            (e = {
              periodStart: 0,
              segmentStart: 0,
              segmentEnd: e.g.duration,
              vttOffset: 0,
            }),
            (t = R(t)),
            (t = n.parseMedia(t, e));
          var a = i;
          function o(e) {
            for (var t = e, n = Ee(a), i = n.next(); !i.done; i = n.next())
              (i = i.value).end && i.start < e && (t += i.end - i.start);
            return (
              ((e = Math.floor(t / 3600)) < 10 ? "0" : "") +
              e +
              ":" +
              ((n = Math.floor((t / 60) % 60)) < 10 ? "0" : "") +
              n +
              ":" +
              ((i = Math.floor(t % 60)) < 10 ? "0" : "") +
              i +
              "." +
              ((t = Math.floor((1e3 * t) % 1e3)) < 100
                ? t < 10
                  ? "00"
                  : "0"
                : "") +
              t
            );
          }
          function s(e) {
            var t = [],
              n = 700 <= e.fontWeight,
              i = "italic" == e.fontStyle,
              r = e.textDecoration.includes("underline");
            return (
              n && t.push("b"),
              i && t.push("i"),
              r && t.push("u"),
              (n = t.reduce(function (e, t) {
                return e + "<" + t + ">";
              }, "")),
              (t = t.reduceRight(function (e, t) {
                return e + "</" + t + ">";
              }, "")),
              e.lineBreak
                ? "\n"
                : e.nestedCues.length
                ? e.nestedCues.map(s).join("")
                : n + e.payload + t
            );
          }
          for (
            var u = t.map(function (e) {
                var t;
                return e.nestedCues.length
                  ? (((t = e.clone()).nestedCues = []), (t.payload = s(e)), t)
                  : e;
              }),
              l = "WEBVTT\n\n",
              c = (u = Ee(u)).next();
            !c.done;
            c = u.next()
          )
            l =
              (l +=
                o((c = c.value).startTime) +
                " --\x3e " +
                o(c.endTime) +
                (function (e) {
                  var t = [];
                  switch (e.textAlign) {
                    case "left":
                      t.push("align:left");
                      break;
                    case "right":
                      t.push("align:right");
                      break;
                    case mt:
                      t.push("align:middle");
                      break;
                    case "start":
                      t.push("align:start");
                      break;
                    case "end":
                      t.push("align:end");
                  }
                  switch (e.writingMode) {
                    case "vertical-lr":
                      t.push("vertical:lr");
                      break;
                    case "vertical-rl":
                      t.push("vertical:rl");
                  }
                  return t.length ? " " + t.join(" ") : "";
                })(c) +
                "\n") +
              (c.payload + "\n\n");
          return l;
        }
        throw new ke(2, 2, 2014, n);
      }
      function Zu(n) {
        var e = Cu();
        return (
          (e.streaming.failureCallback = function (e) {
            var t;
            n.T() &&
              ((t = null),
              1001 == e.code || 1002 == e.code
                ? (t = 1)
                : 1003 == e.code && (t = 0.1),
              null != t && ((e.severity = 1), n.Ee(t)));
          }),
          (e.textDisplayFactory = function () {
            return n.xd ? new au(n.g, n.xd) : new eu(n.g);
          }),
          e
        );
      }
      function el(i, r) {
        return Ie(function (e) {
          if (1 == e.g)
            return Te(
              e,
              ((t = i),
              (n = r),
              Ie(function (e) {
                if (1 == e.g) return Te(e, Un(t.j ? t.j.l : null, n), 2);
                Sl(n), Ae(e);
              })),
              2
            );
          var t, n;
          tl(i, r), Ae(e);
        });
      }
      function tl(e, t) {
        if (e.l != Rl) {
          On(t.variants, e.h.restrictions, e.Mc) && e.j && hl(e);
          var n = e.m ? e.m.g : null;
          if (n && e.m.C)
            for (var i = Ee(t.variants), r = i.next(); !r.done; r = i.next())
              (r = r.value),
                nl(e, n.keySystem, r.video),
                nl(e, n.keySystem, r.audio);
          wl(e, t);
        }
      }
      function nl(e, t, n) {
        if (n)
          for (var i = (n = Ee(n.drmInfos)).next(); !i.done; i = n.next())
            if ((i = i.value).keySystem == t)
              for (
                var r = (i = Ee(i.initData || [])).next();
                !r.done;
                r = i.next()
              )
                (r = r.value), jr(e.m, r.initDataType, r.initData);
      }
      function il(e) {
        var t,
          n = e.Oc();
        e.s &&
          e.O &&
          e.F &&
          (((t = e.J).j = n),
          xs(t),
          e.U &&
            ((t = e.U),
            n || t.i || (t.i = !0),
            t.i && n && (t.l = !0),
            (t.m = n)),
          al(e)),
          (n = new Map().set("buffering", n)),
          e.dispatchEvent(Uu("buffering", n));
      }
      function rl(e) {
        var t = e.g.playbackRate;
        0 != t &&
          (e.J && e.J.set(t), (t = Uu("ratechange")), e.dispatchEvent(t));
      }
      function al(e) {
        var t;
        e.s &&
          e.O &&
          ((t = e.s.g),
          e.O.g == Ii
            ? Nu(t, "buffering")
            : e.g.paused
            ? Nu(t, "paused")
            : e.g.ended
            ? Nu(t, "ended")
            : Nu(t, "playing"));
      }
      function ol(t) {
        try {
          wl(t, t.i);
        } catch (e) {
          return vl(t, e), 0;
        }
        var e = t.i.variants.filter(Jn),
          e = t.ya.create(e);
        return t.C.setVariants(Array.from(e.values())), 1;
      }
      function sl(e) {
        return ol(e) ? e.C.chooseVariant() : null;
      }
      function ul(e) {
        var t = sl(e);
        t && ll(e, t, !0, !0, 0);
      }
      function ll(e, t, n, i, r) {
        var a,
          o = e.j.l;
        t == o
          ? i && js(e.j, t, i, r, !0)
          : ((a = e.s.h).h != t &&
              ((a.h = t),
              a.g.push({
                timestamp: Date.now() / 1e3,
                id: t.id,
                type: "variant",
                fromAdaptation: n,
                bandwidth: t.bandwidth,
              })),
            js(e.j, t, i, r, void 0, n),
            (i = null),
            (n ? dl : fl)(e, (i = o ? Vn(o) : i), (t = Vn(t))));
      }
      function cl(e, t) {
        var n = Array.from(e.g.audioTracks).find(function (e) {
            return e.enabled;
          }),
          t =
            ((t.enabled = !0),
            t.id !== n.id && (n.enabled = !1),
            (n = Yn(n)),
            Yn(t));
        fl(e, n, t);
      }
      function dl(e, t, n) {
        (t = new Map().set("oldTrack", t).set("newTrack", n)),
          e.M && Ro(e.M, n),
          xl(e, (n = Uu("adaptation", t)));
      }
      function hl(e) {
        xl(e, Uu("trackschanged"));
      }
      function fl(e, t, n) {
        (t = new Map().set("oldTrack", t).set("newTrack", n)),
          e.M && Ro(e.M, n),
          xl(e, (n = Uu("variantchanged", t)));
      }
      function pl(e) {
        xl(e, Uu("textchanged"));
      }
      function gl(e) {
        xl(e, Uu("texttrackvisibility"));
      }
      function ml(e) {
        xl(
          e,
          Uu("abrstatuschanged", new Map().set("newStatus", e.h.abr.enabled))
        );
      }
      function vl(e, t) {
        var n;
        e.l != Rl &&
          (!(function (e, t) {
            if (
              (1002 == t.code || 1011 == t.code) &&
              1 == t.category &&
              navigator.onLine
            ) {
              var n = e.h.streaming.maxDisabledTime;
              if (0 == n) {
                if (1011 != t.code) return;
                n = 1;
              }
              for (
                var i = e.Ja().find(function (e) {
                    return e.active;
                  }),
                  t = e.i,
                  r = Ee(t.variants),
                  a = r.next();
                !a.done;
                a = r.next()
              )
                (a = a.value).id === i.id &&
                  (a.disabledUntilTime = Date.now() / 1e3 + n);
              return (
                On(t.variants, e.h.restrictions, e.Mc),
                (i = sl(e))
                  ? ((t = e.ib().video.reduce(function (e, t) {
                      return e + t.end - t.start;
                    }, 0)),
                    ll(e, i, !1, !0, t),
                    e.hf.S(n),
                    1)
                  : void 0
              );
            }
          })(e, t)
            ? ((n = Uu("error", new Map().set("detail", t))),
              e.dispatchEvent(n),
              n.defaultPrevented && (t.handled = !0))
            : (t.handled = !0));
      }
      function yl(e, t, n) {
        (n = new Map().set("detail", {
          schemeIdUri: n.schemeIdUri,
          value: n.value,
          startTime: n.startTime,
          endTime: n.endTime,
          id: n.id,
          eventElement: n.eventElement,
        })),
          e.dispatchEvent(Uu(t, n));
      }
      function bl(e) {
        if (!e.g.error) return null;
        var t = e.g.error.code;
        if (1 == t) return null;
        var n = e.g.error.msExtendedCode;
        return (
          n && (n < 0 && (n += Math.pow(2, 32)), (n = n.toString(16))),
          new ke(2, 3, 3016, t, n, e.g.error.message)
        );
      }
      function El(e, t) {
        if (e.j) {
          var n = Object.keys(t),
            i = 1 == n.length && "00" == n[0],
            r = !1;
          if (n.length)
            for (var a = (n = Ee(e.i.variants)).next(); !a.done; a = n.next()) {
              var o = [];
              (a = a.value).audio && o.push(a.audio),
                a.video && o.push(a.video);
              for (var s = (o = Ee(o)).next(); !s.done; s = o.next()) {
                var u = s.value,
                  s = a.allowedByKeySystem;
                if (u.keyIds.size) {
                  a.allowedByKeySystem = !0;
                  for (var l = (u = Ee(u.keyIds)).next(); !l.done; l = u.next())
                    (l = l.value),
                      (l = t[i ? "00" : l]),
                      (a.allowedByKeySystem =
                        a.allowedByKeySystem && !!l && !Ul.includes(l));
                }
                s != a.allowedByKeySystem && (r = !0);
              }
            }
          (r && !ol(e)) ||
            ((i = e.j.l) && !i.allowedByKeySystem && ul(e), r && hl(e));
        }
      }
      function Tl(e, t, n) {
        e.K && e.K.onExpirationUpdated && e.K.onExpirationUpdated(t, n),
          (t = Uu("expirationupdated")),
          e.dispatchEvent(t);
      }
      function Al(e, t, n) {
        0 < t && (e.T() || e.$f(t)),
          n < (t = e.getDuration()) && (e.T() || e.bb(n));
      }
      function wl(e, t) {
        for (
          var n = e.m ? e.m.sd() : {},
            i = (i = Object.keys(n)).length && "00" == i[0],
            r = !1,
            a = !1,
            o = new Set(),
            s = new Set(),
            u = Ee(t.variants),
            l = u.next();
          !l.done;
          l = u.next()
        ) {
          var c = [];
          (l = l.value).audio && c.push(l.audio), l.video && c.push(l.video);
          for (var d = (c = Ee(c)).next(); !d.done; d = c.next())
            if ((d = d.value).keyIds.size)
              for (var h = (d = Ee(d.keyIds)).next(); !h.done; h = d.next()) {
                var h = h.value,
                  f = n[i ? "00" : h];
                f ? Ul.includes(f) && s.add(f) : o.add(h);
              }
          l.allowedByApplication ? l.allowedByKeySystem && (r = !0) : (a = !0);
        }
        if (!r)
          throw new ke(
            2,
            4,
            4012,
            (n = {
              hasAppRestrictions: a,
              missingKeys: Array.from(o),
              restrictedKeyStatuses: Array.from(s),
            })
          );
      }
      function Sl(e) {
        if (!e.variants.some(Jn)) throw new ke(2, 4, 4032);
      }
      function xl(t, n) {
        Ie(function (e) {
          if (1 == e.g) return Te(e, Promise.resolve(), 2);
          t.l != Rl && t.dispatchEvent(n), Ae(e);
        });
      }
      function Il(e) {
        for (var t = new Set(), n = (e = Ee(e)).next(); !n.done; n = e.next())
          (n = n.value).language ? t.add(C(n.language)) : t.add("und");
        return t;
      }
      function kl(e) {
        for (
          var t = new Map(), a = new Map(), n = (e = Ee(e)).next();
          !n.done;
          n = e.next()
        ) {
          var i = "und",
            r = [];
          (n = n.value).language && (i = C(n.language)),
            ((r = "variant" == n.type ? n.audioRoles : n.roles) && r.length) ||
              (r = [""]),
            t.has(i) || t.set(i, new Set());
          for (var o = (r = Ee(r)).next(); !o.done; o = r.next())
            (o = o.value),
              t.get(i).add(o),
              n.label &&
                (a.has(i) || a.set(i, new Map()), a.get(i).set(o, n.label));
        }
        var s = [];
        return (
          t.forEach(function (e, t) {
            for (var n = Ee(e), i = n.next(); !i.done; i = n.next()) {
              var i = i.value,
                r = null;
              a.has(t) && a.get(t).has(i) && (r = a.get(t).get(i)),
                s.push({ language: t, role: i, label: r });
            }
          }),
          s
        );
      }
      function Cl() {
        return new ke(2, 7, 7e3);
      }
      function Ml(e, t, n, i, r, a) {
        return i == e &&
          r.N == a.N &&
          r.uri == a.uri &&
          r.mimeType == a.mimeType
          ? t
          : n;
      }
      function Ll() {
        return { N: null, mimeType: null, startTime: null, Te: NaN, uri: null };
      }
      function Nl(n) {
        return new Promise(function (e, t) {
          (n.Qb = function () {
            return t(Cl());
          }),
            (n.Dd = function () {
              return e();
            }),
            (n.onError = function (e) {
              return t(e);
            }),
            (n.Fd = function () {
              return t(Cl());
            });
        });
      }
      t("shaka.util.CmcdManager.StreamingFormat", {
        $h: "d",
        ri: "h",
        Yi: "s",
        Ii: "o",
      }),
        t("shaka.util.ConfigUtils", Su),
        (Su.convertToConfigObject = Iu),
        (Su.mergeConfigObjects = xu),
        t("shaka.util.PlayerConfiguration", ku),
        (ku.mergeConfigObjects = Mu),
        (ku.createDefault = Cu),
        e(u, h),
        ((n = u.prototype).destroy = function () {
          var t,
            n = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                return n.l == Rl
                  ? e.return()
                  : (Ou(n),
                    (n.l = Rl),
                    (t = Qs(n.ua, function () {
                      return { node: n.R, payload: Ll(), Kb: !1 };
                    })),
                    Te(
                      e,
                      new Promise(function (e) {
                        (t.lc = function () {}),
                          (t.Dd = function () {
                            e();
                          }),
                          (t.Qb = function () {
                            e();
                          }),
                          (t.onError = function () {
                            e();
                          }),
                          (t.Fd = function () {
                            e();
                          });
                      }),
                      2
                    ));
              case 2:
                return Te(e, n.ua.destroy(), 3);
              case 3:
                if (
                  (n.Hd && (n.Hd.release(), (n.Hd = null)),
                  n.eb && (n.eb.release(), (n.eb = null)),
                  n.B && (n.B.release(), (n.B = null)),
                  (n.Ye = null),
                  (n.C = null),
                  (n.h = null),
                  (n.s = null),
                  (n.xd = null),
                  (n.U = null),
                  n.H)
                )
                  return Te(e, n.H.destroy(), 5);
                e.D(4);
                break;
              case 5:
                n.H = null;
              case 4:
                h.prototype.release.call(n), Ae(e);
            }
          });
        }),
        (n.Ac = function (e, t) {
          if (((t = void 0 === t || t), this.l == Rl))
            return Promise.reject(Cl());
          var n = Ll(),
            i = ((n.N = e), (t = Gt() ? t : !1) ? this.Wa : this.Y),
            e = Qs(this.ua, function () {
              return { node: i, payload: n, Kb: !1 };
            });
          return (e.lc = function () {}), Nl(e);
        }),
        (n.nf = function (e) {
          this.jf = e;
        }),
        (n.detach = function () {
          var e = this;
          if (this.l == Rl) return Promise.reject(Cl());
          var t = Qs(this.ua, function () {
            return { node: e.R, payload: Ll(), Kb: !1 };
          });
          return (t.lc = function () {}), Nl(t);
        }),
        (n.Ze = function (n) {
          var i = this;
          if (((n = void 0 === n || n), this.l == Rl))
            return Promise.reject(Cl());
          (this.Jc = !1), Gt() || (n = !1), Ou(this);
          var r = Ll(),
            e = Qs(this.ua, function (e) {
              var t = e.N && n ? i.Wa : e.N ? i.Y : i.R;
              return (r.N = e.N), { node: t, payload: r, Kb: !1 };
            });
          return (e.lc = function () {}), Nl(e);
        }),
        (n.Oh = function (e) {
          this.Pc = e;
        }),
        (n.load = function (e, t, n) {
          var i = this;
          if (((this.Pc = null), (this.Jc = !1), this.l == Rl))
            return Promise.reject(Cl());
          this.dispatchEvent(Uu("loading"));
          var r,
            a = Ll(),
            o =
              ((a.uri = e),
              (a.Te = Date.now() / 1e3),
              n && (a.mimeType = n),
              void 0 !== t && (a.startTime = t),
              (function (e, t) {
                if (!Gt()) return 1;
                var n = t.mimeType,
                  i = t.uri || "";
                if ((n || ((n = ia(i)), (n = Fl[n])), n)) {
                  if ("" == (t.N || $t()).canPlayType(n)) return;
                  if (
                    !Gt() ||
                    !(n in ra || ia(i) in aa) ||
                    e.h.streaming.preferNativeHls
                  )
                    return 1;
                  if (Xt()) return e.h.streaming.useNativeHlsOnSafari;
                }
                return;
              })(this, a)
                ? this.Ya
                : this.$),
            s = Qs(this.ua, function (e) {
              return null == e.N
                ? null
                : ((a.N = e.N), { node: o, payload: a, Kb: !0 });
            });
          return (
            (this.s = new Du()),
            (this.U = new lu(
              {
                getBandwidthEstimate: function () {
                  return r.C ? r.C.getBandwidthEstimate() : NaN;
                },
                ib: function () {
                  return r.ib();
                },
                getCurrentTime: function () {
                  return r.g ? r.g.currentTime : 0;
                },
                Ja: function () {
                  return r.Ja();
                },
                yb: function () {
                  return r.yb();
                },
                T: function () {
                  return r.T();
                },
              },
              (r = this).h.cmcd
            )),
            (s.lc = function () {}),
            new Promise(function (e, t) {
              (s.Fd = function () {
                return t(new ke(2, 7, 7002));
              }),
                (s.Dd = function () {
                  e(), i.dispatchEvent(Uu("loaded"));
                }),
                (s.Qb = function () {
                  return t(Cl());
                }),
                (s.onError = function (e) {
                  return t(e);
                });
            })
          );
        }),
        (n.configure = function (e, t) {
          (e = 2 == arguments.length && "string" == typeof e ? Iu(e, t) : e)
            .streaming &&
            "forceTransmuxTS" in e.streaming &&
            (pi(
              "streaming.forceTransmuxTS configuration",
              "Please Use streaming.forceTransmux instead."
            ),
            (e.streaming.forceTransmux = e.streaming.forceTransmuxTS),
            delete e.streaming.forceTransmuxTS),
            e.streaming &&
              e.streaming.lowLatencyMode &&
              (null == e.streaming.inaccurateManifestTolerance &&
                (e.streaming.inaccurateManifestTolerance = 0),
              null == e.streaming.rebufferingGoal &&
                (e.streaming.rebufferingGoal = 0.01));
          var n = Mu(this.h, e, Zu(this));
          return Xu(this), n;
        }),
        (n.getConfiguration = function () {
          var e = Zu(this);
          return Mu(e, this.h, Zu(this)), e;
        }),
        (n.zg = function () {
          if (this.g) {
            var e = (e = this.g.buffered.length)
                ? this.g.buffered.end(e - 1)
                : 0,
              t = this.getConfiguration().streaming.bufferingGoal;
            if ((t = Math.min(this.g.currentTime + t, this.Ia().end)) <= e)
              return 1;
            if (!(e <= this.g.currentTime) && e < t)
              return (e - this.g.currentTime) / (t - this.g.currentTime);
          }
          return 0;
        }),
        (n.Bh = function () {
          for (var e in this.h) delete this.h[e];
          Mu(this.h, Zu(this), Zu(this)), Xu(this);
        }),
        (n.Gf = function () {
          return this.l;
        }),
        (n.Qg = function () {
          return this.g;
        }),
        (n.Gc = function () {
          return this.H;
        }),
        (n.le = function () {
          return this.fb;
        }),
        (n.qd = function () {
          return this.G || null;
        }),
        (n.T = function () {
          return this.i
            ? this.i.presentationTimeline.T()
            : !(!this.g || !this.g.src) && 1 / 0 == this.g.duration;
        }),
        (n.Mb = function () {
          return !!this.i && this.i.presentationTimeline.Mb();
        }),
        (n.hc = function () {
          var e;
          return this.i
            ? !!(e = this.i.variants).length && !e[0].video
            : !(!this.g || !this.g.src) &&
                (this.g.videoTracks
                  ? 0 == this.g.videoTracks.length
                  : 0 == this.g.videoHeight);
        }),
        (n.Ia = function () {
          return this.Jc
            ? this.i
              ? { start: (e = this.i.presentationTimeline).dc(), end: e.jb() }
              : this.g && this.g.src && (e = this.g.seekable).length
              ? { start: e.start(0), end: e.end(e.length - 1) }
              : { start: 0, end: 0 }
            : { start: 0, end: 0 };
          var e;
        }),
        (n.bh = function () {
          this.T() && (this.g.currentTime = this.Ia().end);
        }),
        (n.keySystem = function () {
          var e = this.drmInfo();
          return e ? e.keySystem : "";
        }),
        (n.drmInfo = function () {
          return this.m ? this.m.g : null;
        }),
        (n.Fc = function () {
          return this.m ? this.m.Fc() : 1 / 0;
        }),
        (n.sd = function () {
          return this.m ? this.m.sd() : {};
        }),
        (n.Oc = function () {
          return !!this.O && this.O.g == Ii;
        }),
        (n.yb = function () {
          return this.g ? (this.J ? this.J.i : 1) : 0;
        }),
        (n.Xe = function (e) {
          0 == e
            ? k("A trick play rate of 0 is unsupported!")
            : (this.g.paused && this.g.play(),
              this.J.set(e),
              this.l == Pl &&
                (this.C.playbackRateChanged(e), Us(this.j, 1 < Math.abs(e))));
        }),
        (n.tf = function () {
          var e = this.J.rd();
          this.l == Dl && this.J.set(e),
            this.l == Pl &&
              (this.J.set(e), this.C.playbackRateChanged(e), Us(this.j, !1));
        }),
        (n.Ja = function () {
          if (this.i) {
            for (
              var e,
                t = this.j ? this.j.l : null,
                n = [],
                i = 0,
                r = Ee(this.i.variants),
                a = r.next();
              !a.done;
              a = r.next()
            )
              Jn((a = a.value)) &&
                (((e = Vn(a)).active = a == t),
                e.active ||
                  1 == i ||
                  null == t ||
                  a.video != t.video ||
                  a.audio != t.audio ||
                  (e.active = !0),
                e.active && i++,
                n.push(e));
            return n;
          }
          return this.g && this.g.audioTracks
            ? Array.from(this.g.audioTracks).map(Yn)
            : [];
        }),
        (n.zb = function () {
          if (this.i) {
            for (
              var e = this.j ? this.j.s : null,
                t = [],
                n = Ee(this.i.textStreams),
                i = n.next();
              !i.done;
              i = n.next()
            ) {
              var r = Hn((i = i.value));
              (r.active = i == e), t.push(r);
            }
            return t;
          }
          return this.g && this.g.src && this.g.textTracks
            ? Wu(this).map(qn)
            : [];
        }),
        (n.Ig = function () {
          return this.i ? this.i.imageStreams.map(Xn) : [];
        }),
        (n.Yg = function (t, n) {
          var i,
            r,
            a,
            o,
            s,
            u,
            l,
            c,
            d,
            h,
            f,
            p,
            g = this;
          return Ie(function (e) {
            return 1 == e.g
              ? g.i
                ? (i = g.i.imageStreams.find(function (e) {
                    return e.id == t;
                  }))
                  ? i.segmentIndex
                    ? e.D(3)
                    : Te(e, i.createSegmentIndex(), 3)
                  : e.return(null)
                : e.D(2)
              : 2 == e.g || null == (r = i.segmentIndex.find(n))
              ? e.return(null)
              : ((r = i.segmentIndex.get(r)),
                (f = r.tilesLayout || i.tilesLayout),
                (f = /(\d+)x(\d+)/.exec(f))
                  ? ((a = i.width || 0),
                    (o = i.height || 0),
                    (p = parseInt(f[1], 10)),
                    (f = parseInt(f[2], 10)),
                    (s = a / p),
                    (u = o / f),
                    (f = p * f),
                    (l = r.j - r.startTime),
                    (l = r.s || l / f),
                    (c = r.startTime),
                    (h = d = 0),
                    1 < f &&
                      ((f = Math.floor((n - r.startTime) / l)),
                      (c = r.startTime + f * l),
                      (d = (f % p) * s),
                      (h = Math.floor(f / p) * u)),
                    (f = !1),
                    (p = r.m) &&
                      ((f = !0),
                      (u = p.height),
                      (d = p.positionX),
                      (h = p.positionY),
                      (s = p.width)),
                    e.return({
                      imageHeight: o,
                      imageWidth: a,
                      height: u,
                      positionX: d,
                      positionY: h,
                      startTime: c,
                      duration: l,
                      uris: r.Pa(),
                      width: s,
                      sprite: f,
                    }))
                  : e.return(null));
          });
        }),
        (n.Ie = function (t) {
          if (this.i && this.j) {
            var e = this.i.textStreams.find(function (e) {
              return e.id == t.id;
            });
            e &&
              e != this.j.s &&
              (Pu(this.s.h, e, !1),
              Bs(this.j, e),
              pl(this),
              (this.La = e.language));
          } else if (this.g && this.g.src && this.g.textTracks) {
            for (var n = (e = Ee((e = Wu(this)))).next(); !n.done; n = e.next())
              Wn((n = n.value)) == t.id
                ? (n.mode = this.ba ? "showing" : "hidden")
                : (n.mode = "disabled");
            pl(this);
          }
        }),
        (n.Je = function (t, e, n) {
          if (
            ((e = void 0 !== e && e),
            (n = void 0 === n ? 0 : n),
            this.i && this.j)
          ) {
            this.h.abr.enabled &&
              k(
                "Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack()."
              );
            var i = this.i.variants.find(function (e) {
              return e.id == t.id;
            });
            i &&
              Jn(i) &&
              (ll(this, i, !1, e, n), (this.ya = new Ai(i)), ol(this));
          } else if (this.g && this.g.audioTracks)
            for (
              n = (e = Ee((e = Array.from(this.g.audioTracks)))).next();
              !n.done;
              n = e.next()
            )
              if (Wn((n = n.value)) == t.id) {
                cl(this, n);
                break;
              }
        }),
        (n.yg = function () {
          return kl(this.Ja());
        }),
        (n.Wg = function () {
          return kl(this.zb());
        }),
        (n.xg = function () {
          return Array.from(Il(this.Ja()));
        }),
        (n.Vg = function () {
          return Array.from(Il(this.zb()));
        }),
        (n.Md = function (e, t, n) {
          if (((n = void 0 === n ? 0 : n), this.i && this.F)) {
            (this.ya = new wi(e, t || "", n, "")),
              (t = function (e, t) {
                return e.video || t.video
                  ? e.video && t.video
                    ? Math.abs((e.video.height || 0) - (t.video.height || 0)) +
                      Math.abs((e.video.width || 0) - (t.video.width || 0))
                    : 1 / 0
                  : 0;
              }),
              (e = this.j.l);
            var i = this.ya.create(this.i.variants);
            n = null;
            for (var r = (i = Ee(i.values())).next(); !r.done; r = i.next())
              (r = r.value), (!n || t(n, e) > t(r, e)) && (n = r);
            n ? ((t = Vn(n)), this.Je(t, !0)) : ul(this);
          } else if (this.g && this.g.audioTracks) {
            (r = Array.from(this.g.audioTracks)), (e = C(e)), (i = n = null);
            for (var a = (r = Ee(r)).next(); !a.done; a = r.next()) {
              var o = Yn((a = a.value));
              C(o.language) == e &&
                ((n = a),
                t
                  ? o.roles.includes(t) && (i = a)
                  : 0 == o.roles.length && (i = a));
            }
            i ? cl(this, i) : n && cl(this, n);
          }
        }),
        (n.He = function (e, t, n) {
          var i;
          (n = void 0 !== n && n),
            this.i && this.F
              ? ((this.La = e),
                (this.Dc = t || ""),
                (this.vb = n),
                (e =
                  Zn(this.i.textStreams, this.La, this.Dc, this.vb)[0] ||
                  null) &&
                  e != this.j.s &&
                  (Pu(this.s.h, e, !1),
                  this.h.streaming.alwaysStreamText || this.Ob()) &&
                  (Bs(this.j, e), pl(this)))
              : ((i = C(e)),
                (e = this.zb().find(function (e) {
                  return (
                    C(e.language) == i &&
                    (!t || e.roles.includes(t)) &&
                    e.forced == n
                  );
                })) && this.Ie(e));
        }),
        (n.Eh = function (e) {
          if (this.i && this.F) {
            for (
              var t = null, n = Ee(this.i.variants), i = n.next();
              !i.done;
              i = n.next()
            )
              if ((i = i.value).audio.label == e) {
                t = i;
                break;
              }
            null != t && ((this.ya = new wi(t.language, "", 0, e)), ul(this));
          }
        }),
        (n.Ob = function () {
          var e = this.ba;
          return this.I
            ? this.I.m.isTextVisible()
            : this.g && this.g.src && this.g.textTracks
            ? Wu(this).some(function (e) {
                return "showing" == e.mode;
              })
            : e;
        }),
        (n.Ef = function () {
          return this.g && this.g.src && this.g.textTracks
            ? qu(this).map(qn)
            : [];
        }),
        (n.Bg = function (e) {
          var t = C(e),
            n = qu(this).filter(function (e) {
              return C(e.language) == t;
            });
          if (!n || !n.length) return [];
          e = [];
          for (var i = (n = Ee(n)).next(); !i.done; i = n.next())
            if ((i = i.value) && i.cues)
              for (var r = (i = Ee(i.cues)).next(); !r.done; r = i.next()) {
                var a = (r = r.value).id;
                (a && "" != a) ||
                  (a = r.startTime + "-" + r.endTime + "-" + r.text),
                  e.push({
                    id: a,
                    title: r.text,
                    startTime: r.startTime,
                    endTime: r.endTime,
                  });
              }
          return e;
        }),
        (n.Re = function (e) {
          if (this.ba != (e = !!e)) {
            if (((this.ba = e), this.l == Pl))
              this.I.m.setTextVisibility(e),
                this.h.streaming.alwaysStreamText ||
                  (e
                    ? this.j.s ||
                      (0 <
                        (e = Zn(this.i.textStreams, this.La, this.Dc, this.vb))
                          .length &&
                        (Bs(this.j, e[0]), pl(this)))
                    : ((i = this.j),
                      (r = i.j.get(G)) &&
                        (qs(r), Ys(r).catch(function () {}), i.j.delete(G)),
                      (i.s = null)));
            else if (this.g && this.g.src && this.g.textTracks)
              for (
                var t = Wu(this), n = (t = Ee(t)).next();
                !n.done;
                n = t.next()
              )
                "disabled" != (n = n.value).mode &&
                  (n.mode = e ? "showing" : "hidden");
            gl(this);
          }
          var i, r;
        }),
        (n.Sg = function () {
          if (!this.T()) return null;
          var e = this.ua.l,
            t = 0;
          if (this.F) t = this.F.hd();
          else if (e) {
            if (null == e.startTime) return new Date();
            t = e.startTime;
          }
          return this.i
            ? new Date(1e3 * (this.i.presentationTimeline.i + t))
            : this.g && this.g.getStartDate
            ? ((e = this.g.getStartDate()),
              isNaN(e.getTime()) ? null : new Date(e.getTime() + 1e3 * t))
            : null;
        }),
        (n.Hf = function () {
          return this.T()
            ? this.i
              ? new Date(1e3 * this.i.presentationTimeline.i)
              : this.g && this.g.getStartDate
              ? ((e = this.g.getStartDate()), isNaN(e.getTime()) ? null : e)
              : null
            : null;
          var e;
        }),
        (n.ib = function () {
          if (this.l == Pl) return this.I.ib();
          var e = { total: [], audio: [], video: [], text: [] };
          return this.l == Dl && (e.total = So(this.g.buffered)), e;
        }),
        (n.getStats = function () {
          if (this.l != Pl && this.l != Dl)
            return {
              width: NaN,
              height: NaN,
              streamBandwidth: NaN,
              decodedFrames: NaN,
              droppedFrames: NaN,
              corruptedFrames: NaN,
              stallsDetected: NaN,
              gapsJumped: NaN,
              estimatedBandwidth: NaN,
              completionPercent: NaN,
              loadLatency: NaN,
              manifestTimeSeconds: NaN,
              drmTimeSeconds: NaN,
              playTime: NaN,
              pauseTime: NaN,
              bufferingTime: NaN,
              licenseTime: NaN,
              liveLatency: NaN,
              maxSegmentDuration: NaN,
              switchHistory: [],
              stateHistory: [],
            };
          al(this);
          var e = (n = this.g).currentTime / n.duration,
            t =
              (isNaN(e) ||
                ((i = this.s),
                (e = Math.round(100 * e)),
                (i.i = isNaN(i.i) ? e : Math.max(i.i, e))),
              this.F && ((this.s.O = this.F.kf()), (this.s.R = this.F.lf())),
              n.getVideoPlaybackQuality &&
                ((i = n.getVideoPlaybackQuality()),
                (e = this.s),
                (r = Number(i.totalVideoFrames)),
                (e.M = Number(i.droppedVideoFrames)),
                (e.K = r),
                (this.s.J = Number(i.corruptedVideoFrames))),
              (i = this.m ? (i = this.m).J || NaN : NaN),
              (this.s.B = i),
              this.l == Pl &&
                ((i = this.j.l) &&
                  (this.s.F = (this.J ? this.J.i : 1) * i.bandwidth),
                i &&
                  i.video &&
                  ((e = this.s),
                  (r = i.video.height || NaN),
                  (e.s = i.video.width || NaN),
                  (e.l = r)),
                this.T() &&
                  ((i = this.Hf().valueOf() + 1e3 * this.Ia().end),
                  (this.s.G = (Date.now() - i) / 1e3)),
                this.i &&
                  this.i.presentationTimeline &&
                  (this.s.I = this.i.presentationTimeline.g),
                (i = this.C.getBandwidthEstimate()),
                (this.s.C = i)),
              this.l == Dl &&
                ((i = this.s),
                (e = n.videoHeight || NaN),
                (i.s = n.videoWidth || NaN),
                (i.l = e)),
              this.s),
            n = t.s,
            i = t.l;
          e = t.F;
          for (
            var r = t.K,
              a = t.M,
              o = t.J,
              s = t.R,
              u = t.O,
              l = t.C,
              c = t.i,
              d = t.m,
              h = t.H,
              f = t.j,
              p = Ru(t.g, "playing"),
              g = Ru(t.g, "paused"),
              m = Ru(t.g, "buffering"),
              v = t.B,
              y = t.G,
              b = t.I,
              E = (function (e) {
                function t(e) {
                  return {
                    timestamp: e.timestamp,
                    state: e.state,
                    duration: e.duration,
                  };
                }
                for (
                  var n = [], i = Ee(e.h), r = i.next();
                  !r.done;
                  r = i.next()
                )
                  n.push(t(r.value));
                return e.g && n.push(t(e.g)), n;
              })(t.g),
              T = [],
              A = (t = Ee(t.h.g)).next();
            !A.done;
            A = t.next()
          )
            (A = A.value),
              T.push({
                timestamp: A.timestamp,
                id: A.id,
                type: A.type,
                fromAdaptation: A.fromAdaptation,
                bandwidth: A.bandwidth,
              });
          return {
            width: n,
            height: i,
            streamBandwidth: e,
            decodedFrames: r,
            droppedFrames: a,
            corruptedFrames: o,
            stallsDetected: s,
            gapsJumped: u,
            estimatedBandwidth: l,
            completionPercent: c,
            loadLatency: d,
            manifestTimeSeconds: h,
            drmTimeSeconds: f,
            playTime: p,
            pauseTime: g,
            bufferingTime: m,
            licenseTime: v,
            liveLatency: y,
            maxSegmentDuration: b,
            stateHistory: E,
            switchHistory: T,
          };
        }),
        (n.kg = function (t, n, i, r, a, o, s) {
          s = void 0 !== s && s;
          var u,
            l,
            c,
            d,
            h,
            f,
            p = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (p.l != Pl && p.l != Dl) throw new ke(1, 7, 7004);
                if (r) {
                  e.D(2);
                  break;
                }
                return Te(e, Yu(p, t), 3);
              case 3:
                r = e.h;
              case 2:
                if (((u = []), p.G))
                  try {
                    u = p.G.getServerSideCuePoints();
                  } catch (e) {}
                if (p.l == Dl)
                  return Te(
                    e,
                    $u(p, t, n, (i = s ? "forced" : i), r, o || "", u),
                    5
                  );
                e.D(4);
                break;
              case 5:
                if (
                  ((d = p.zb()),
                  (d = d.find(function (e) {
                    return (
                      e.language == n && e.label == (o || "") && e.kind == i
                    );
                  })))
                )
                  return hl(p), e.return(d);
                throw new ke(1, 2, 2012);
              case 4:
                if (
                  ((l = He),
                  1 / 0 == (c = p.i.presentationTimeline.getDuration()))
                )
                  throw new ke(1, 4, 4033);
                if (u.length)
                  return Te(e, Ju(p, t, p.H, p.h.streaming.retryParameters), 7);
                e.D(6);
                break;
              case 7:
                (d = e.h),
                  (h = Qu(p, d, r, u)),
                  (h = new Blob([h], { type: "text/vtt" })),
                  (t = Zo(h)),
                  (r = "text/vtt");
              case 6:
                if (
                  ((h = {
                    id: p.ef++,
                    originalId: null,
                    createSegmentIndex: function () {
                      return Promise.resolve();
                    },
                    segmentIndex: Ts(0, c, [t]),
                    mimeType: r || "",
                    codecs: a || "",
                    kind: i,
                    encrypted: !1,
                    drmInfos: [],
                    keyIds: new Set(),
                    language: n,
                    label: o || null,
                    type: l.ma,
                    primary: !1,
                    trickModeVideo: null,
                    emsgSchemeIdUris: null,
                    roles: [],
                    forced: !!s,
                    channelsCount: null,
                    audioSamplingRate: null,
                    spatialAudio: !1,
                    closedCaptions: null,
                  }),
                  (f = wn(h.mimeType, h.codecs)),
                  Mn(f))
                )
                  return p.i.textStreams.push(h), hl(p), e.return(Hn(h));
                throw new ke(2, 2, 2014, r);
            }
          });
        }),
        (n.lg = function (t, n) {
          var i,
            r,
            a,
            o,
            s,
            u,
            l,
            c,
            d,
            h,
            f,
            p = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (p.l != Pl && p.l != Dl) throw new ke(1, 7, 7004);
                if (p.l == Dl) throw new ke(1, 2, 2016);
                if (n) {
                  e.D(2);
                  break;
                }
                return Te(e, Yu(p, t), 3);
              case 3:
                n = e.h;
              case 2:
                if ("text/vtt" != n) throw new ke(1, 2, 2017, t);
                if (
                  ((i = He),
                  1 / 0 == (r = p.i.presentationTimeline.getDuration()))
                )
                  throw new ke(1, 4, 4045);
                return Te(e, Ju(p, t, p.H, p.h.streaming.retryParameters), 4);
              case 4:
                if (((f = e.h), !(o = Rn[n]))) throw new ke(2, 2, 2014, n);
                for (
                  o = o(),
                    a = {
                      periodStart: 0,
                      segmentStart: 0,
                      segmentEnd: r,
                      vttOffset: 0,
                    },
                    f = R(f),
                    o = o.parseMedia(f, a),
                    s = [],
                    u = {},
                    l = Ee(o),
                    c = l.next();
                  !c.done;
                  u = { tc: u.tc }, c = l.next()
                )
                  (d = c.value),
                    (u.tc = Ge([t], [d.payload])[0]),
                    (d = new j(
                      d.startTime,
                      d.endTime,
                      (function (e) {
                        return function () {
                          return [e.tc];
                        };
                      })(u),
                      0,
                      null,
                      null,
                      0,
                      0,
                      1 / 0
                    )),
                    u.tc.includes("#xywh") &&
                      4 === (h = u.tc.split("#xywh=")[1].split(",")).length &&
                      d.Zf({
                        height: parseInt(h[3], 10),
                        positionX: parseInt(h[0], 10),
                        positionY: parseInt(h[1], 10),
                        width: parseInt(h[2], 10),
                      }),
                    s.push(d);
                return (
                  (f = {
                    id: p.ef++,
                    originalId: null,
                    createSegmentIndex: function () {
                      return Promise.resolve();
                    },
                    segmentIndex: new K(s),
                    mimeType: n || "",
                    codecs: "",
                    kind: "",
                    encrypted: !1,
                    drmInfos: [],
                    keyIds: new Set(),
                    language: "und",
                    label: null,
                    type: i.zc,
                    primary: !1,
                    trickModeVideo: null,
                    emsgSchemeIdUris: null,
                    roles: [],
                    forced: !1,
                    channelsCount: null,
                    audioSamplingRate: null,
                    spatialAudio: !1,
                    closedCaptions: null,
                    tilesLayout: "1x1",
                  }),
                  p.i.imageStreams.push(f),
                  hl(p),
                  e.return(Xn(f))
                );
            }
          });
        }),
        (n.jg = function (t, n, i) {
          var r,
            a,
            o,
            s = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (s.l != Pl && s.l != Dl) throw new ke(1, 7, 7004);
                if (i) {
                  e.D(2);
                  break;
                }
                return Te(e, Yu(s, t), 3);
              case 3:
                i = e.h;
              case 2:
                if (((a = []), s.G))
                  try {
                    a = s.G.getServerSideCuePoints();
                  } catch (e) {}
                return Te(e, $u(s, t, n, "chapters", i, "", a), 4);
              case 4:
                if (
                  ((r = e.h),
                  (a = s.Ef()),
                  (o = a.find(function (e) {
                    return e.language == n;
                  })))
                )
                  return Te(
                    e,
                    new Promise(function (e, t) {
                      s.B.Ea(r, "load", e),
                        s.B.Ea(r, "error", function () {
                          t(new ke(1, 2, 2015));
                        });
                    }),
                    6
                  );
                e.D(5);
                break;
              case 6:
                return e.return(o);
              case 5:
                throw new ke(1, 2, 2012);
            }
          });
        }),
        (n.Ne = function (e, t) {
          (this.Mc.width = e), (this.Mc.height = t);
        }),
        (n.Ee = function (e) {
          if (this.l == Pl) {
            var t = this.j;
            if (((e = void 0 === e ? 0.1 : e), t.h.g)) t = !1;
            else if (t.B) t = !1;
            else {
              for (
                var n = Ee(t.j.values()), i = n.next();
                !i.done;
                i = n.next()
              )
                (i = i.value).Lc && ((i.Lc = !1), Ws(t, i, e));
              t = !0;
            }
          } else t = !1;
          return t;
        }),
        (n.Ng = function () {
          return (
            k(
              "Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."
            ),
            this.i
          );
        }),
        (n.Og = function () {
          return this.Id;
        }),
        (n.Se = function (e) {
          this.xd = e;
        }),
        t("shaka.Player", u),
        (u.prototype.setVideoContainer = u.prototype.Se),
        (u.prototype.getManifestParserFactory = u.prototype.Og),
        (u.prototype.getManifest = u.prototype.Ng),
        (u.prototype.retryStreaming = u.prototype.Ee),
        (u.prototype.setMaxHardwareResolution = u.prototype.Ne),
        (u.prototype.addChaptersTrack = u.prototype.jg),
        (u.prototype.addThumbnailsTrack = u.prototype.lg),
        (u.prototype.addTextTrackAsync = u.prototype.kg),
        (u.prototype.getBufferedInfo = u.prototype.ib),
        (u.prototype.getPresentationStartTimeAsDate = u.prototype.Hf),
        (u.prototype.getPlayheadTimeAsDate = u.prototype.Sg),
        (u.prototype.setTextTrackVisibility = u.prototype.Re),
        (u.prototype.getChapters = u.prototype.Bg),
        (u.prototype.getChaptersTracks = u.prototype.Ef),
        (u.prototype.isTextTrackVisible = u.prototype.Ob),
        (u.prototype.selectVariantsByLabel = u.prototype.Eh),
        (u.prototype.selectTextLanguage = u.prototype.He),
        (u.prototype.selectAudioLanguage = u.prototype.Md),
        (u.prototype.getTextLanguages = u.prototype.Vg),
        (u.prototype.getAudioLanguages = u.prototype.xg),
        (u.prototype.getTextLanguagesAndRoles = u.prototype.Wg),
        (u.prototype.getAudioLanguagesAndRoles = u.prototype.yg),
        (u.prototype.selectVariantTrack = u.prototype.Je),
        (u.prototype.selectTextTrack = u.prototype.Ie),
        (u.prototype.getThumbnails = u.prototype.Yg),
        (u.prototype.getImageTracks = u.prototype.Ig),
        (u.prototype.getTextTracks = u.prototype.zb),
        (u.prototype.getVariantTracks = u.prototype.Ja),
        (u.prototype.cancelTrickPlay = u.prototype.tf),
        (u.prototype.trickPlay = u.prototype.Xe),
        (u.prototype.getPlaybackRate = u.prototype.yb),
        (u.prototype.isBuffering = u.prototype.Oc),
        (u.prototype.getKeyStatuses = u.prototype.sd),
        (u.prototype.getExpiration = u.prototype.Fc),
        (u.prototype.goToLive = u.prototype.bh),
        (u.prototype.seekRange = u.prototype.Ia),
        (u.prototype.isAudioOnly = u.prototype.hc),
        (u.prototype.isInProgress = u.prototype.Mb),
        (u.prototype.isLive = u.prototype.T),
        (u.prototype.getAdManager = u.prototype.qd),
        (u.prototype.getAssetUri = u.prototype.le),
        (u.prototype.getNetworkingEngine = u.prototype.Gc),
        (u.prototype.getMediaElement = u.prototype.Qg),
        (u.prototype.getLoadMode = u.prototype.Gf),
        (u.prototype.resetConfiguration = u.prototype.Bh),
        (u.prototype.getBufferFullness = u.prototype.zg),
        (u.prototype.updateStartTime = u.prototype.Oh),
        (u.prototype.unload = u.prototype.Ze),
        (u.prototype.attachCanvas = u.prototype.nf),
        (u.prototype.attach = u.prototype.Ac),
        (u.probeSupport = function (c) {
          var d, h, f, p, g;
          return (
            (c = void 0 === c || c),
            Ie(function (e) {
              if (1 == e.g)
                return (
                  (d = {}),
                  c
                    ? Te(
                        e,
                        Ie(function (e) {
                          return 1 == e.g
                            ? ((n =
                                "org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(
                                  " "
                                )),
                              (r = [
                                {
                                  videoCapabilities: (t = [
                                    {
                                      contentType:
                                        'video/mp4; codecs="avc1.42E01E"',
                                    },
                                    { contentType: 'video/webm; codecs="vp8"' },
                                  ]),
                                  persistentState: "required",
                                  sessionTypes: ["persistent-license"],
                                },
                                {
                                  initDataTypes: ["cenc"],
                                  videoCapabilities: t,
                                },
                              ]),
                              (a = new Map()),
                              (t = function (t) {
                                var n, i;
                                return Ie(function (e) {
                                  switch (e.g) {
                                    case 1:
                                      if (
                                        (we(e, 2),
                                        "org.w3.clearkey" === t && qt())
                                      )
                                        throw Error("Unsupported keySystem");
                                      return Te(
                                        e,
                                        navigator.requestMediaKeySystemAccess(
                                          t,
                                          r
                                        ),
                                        4
                                      );
                                    case 4:
                                      return (
                                        (n = e.h),
                                        (i =
                                          !!(i =
                                            n.getConfiguration()
                                              .sessionTypes) &&
                                          i.includes("persistent-license")),
                                        Yt("Tizen 3") && (i = !1),
                                        a.set(t, { persistentState: i }),
                                        Te(e, n.createMediaKeys(), 5)
                                      );
                                    case 5:
                                      Se(e, 0);
                                      break;
                                    case 2:
                                      xe(e), a.set(t, null), Ae(e);
                                  }
                                });
                              }),
                              (n = n.map(t)),
                              Te(e, Promise.all(n), 2))
                            : e.return(Zi(a));
                        }),
                        3
                      )
                    : e.D(2)
                );
              2 != e.g && (d = e.h);
              var r,
                a,
                t,
                n,
                i = {};
              if (Gt()) {
                for (var o in ra) i[o] = !0;
                for (var s in aa) i[s] = !0;
              }
              for (
                var u,
                  o = {
                    mpd: "application/dash+xml",
                    m3u8: "application/x-mpegurl",
                    ism: "application/vnd.ms-sstr+xml",
                  },
                  l = (s = Ee([
                    "application/dash+xml",
                    "application/x-mpegurl",
                    "application/vnd.apple.mpegurl",
                    "application/vnd.ms-sstr+xml",
                  ])).next();
                !l.done;
                l = s.next()
              )
                i[(l = l.value)] = Gt() ? !!ra[l] : Kt(l);
              for (u in o) i[u] = Gt() ? !!aa[u] : Kt(o[u]);
              for (
                h = i,
                  i = {},
                  o = (u = Ee(
                    (u =
                      'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'
                        .split(",")
                        .concat(I(ts)))
                  )).next();
                !o.done;
                o = u.next()
              )
                (i[(o = o.value)] = Gt()
                  ? !!Mn(o) || MediaSource.isTypeSupported(o) || yn(o)
                  : Kt(o)),
                  (i[(s = o.split(";")[0])] = i[s] || i[o]);
              for (g in ((f = { manifest: h, media: i, drm: d }), (p = jl)))
                f[g] = p[g]();
              return e.return(f);
            })
          );
        }),
        (u.isBrowserSupported = ju),
        (u.setAdManagerFactory = function (e) {
          Bl = e;
        }),
        (u.registerSupportPlugin = function (e, t) {
          jl[e] = t;
        });
      var Rl = 0,
        _l = 1,
        Pl = 2,
        Dl = 3,
        Ol =
          ((u.LoadMode = {
            DESTROYED: Rl,
            NOT_LOADED: _l,
            MEDIA_SOURCE: Pl,
            SRC_EQUALS: Dl,
          }),
          (u.version = "v4.3.0"),
          ["4", "3"]),
        vi = new (function (e) {
          (this.g = e), (this.i = gi), (this.h = mi);
        })(new fi(Number(Ol[0]), Number(Ol[1]))),
        Ul = ["output-restricted", "internal-error"],
        jl = {},
        Bl = null,
        Fl = {
          mp4: "video/mp4",
          m4v: "video/mp4",
          m4a: "audio/mp4",
          webm: "video/webm",
          weba: "audio/webm",
          mkv: "video/webm",
          ts: "video/mp2t",
          ogv: "video/ogg",
          ogg: "audio/ogg",
          mpg: "video/mpeg",
          mpeg: "video/mpeg",
          m3u8: "application/x-mpegurl",
          mpd: "application/dash+xml",
          mp3: "audio/mpeg",
          aac: "audio/aac",
          flac: "audio/flac",
          wav: "audio/wav",
        },
        Gl = {
          sbv: "text/x-subviewer",
          srt: "text/srt",
          vtt: "text/vtt",
          webvtt: "text/vtt",
          ttml: "application/ttml+xml",
          lrc: "application/x-subtitle-lrc",
          ssa: "text/x-ssa",
          ass: "text/x-ssa",
        };
      function Kl() {
        (this.h = []), (this.j = this.i = this.g = 0);
      }
      function zl(e, t, n) {
        var i = this;
        (this.h = e),
          (this.g = t),
          (this.m = n),
          (this.i = !1),
          (this.l = this.g.getVolume()),
          (this.j = new f()),
          this.j.o(this.g, google.ima.AdEvent.Type.PAUSED, function () {
            i.i = !0;
          }),
          this.j.o(this.g, google.ima.AdEvent.Type.RESUMED, function () {
            i.i = !1;
          });
      }
      function Vl(e, t, n, i) {
        var s = this;
        (this.s = e),
          (this.i = t),
          (this.B = null),
          (this.C = NaN),
          (this.l = i),
          (this.j = null),
          (this.h = new f()),
          google.ima.settings.setLocale(n),
          (e = new google.ima.AdDisplayContainer(this.s, this.i)).initialize(),
          (this.m = new google.ima.AdsLoader(e)),
          this.m.getSettings().setPlayerType("shaka-player"),
          this.m.getSettings().setPlayerVersion("v4.3.0"),
          (this.g = null),
          this.h.Ea(
            this.m,
            google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,
            function (e) {
              var t = s,
                n =
                  (t.l(
                    new _(
                      "ads-loaded",
                      new Map().set("loadTime", Date.now() / 1e3 - t.C)
                    )
                  ),
                  (t.g = e.getAdsManager(t.i)),
                  t.l(
                    new _(
                      "ima-ad-manager-loaded",
                      new Map().set("imaAdManager", t.g)
                    )
                  ),
                  t.g.getCuePoints());
              if (n.length) {
                for (var i = [], r = (n = Ee(n)).next(); !r.done; r = n.next())
                  i.push({ start: r.value, end: null });
                t.l(
                  new _("ad-cue-points-changed", new Map().set("cuepoints", i))
                );
              }
              var a = t;
              function o(e, t) {
                e = new Map().set("originalEvent", e);
                a.l(new _(t, e));
              }
              a.h.o(a.g, google.ima.AdErrorEvent.Type.AD_ERROR, function (e) {
                Hl(a, e);
              }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,
                  function (e) {
                    Wl(a, e);
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.STARTED, function (e) {
                  Wl(a, e);
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.FIRST_QUARTILE,
                  function (e) {
                    o(e, "ad-first-quartile");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.MIDPOINT, function (e) {
                  o(e, "ad-midpoint");
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.THIRD_QUARTILE,
                  function (e) {
                    o(e, "ad-third-quartile");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.COMPLETE, function (e) {
                  o(e, "ad-complete");
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,
                  function (e) {
                    ql(a, e);
                  }
                ),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.ALL_ADS_COMPLETED,
                  function (e) {
                    ql(a, e);
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.SKIPPED, function (e) {
                  o(e, "ad-skipped");
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.VOLUME_CHANGED,
                  function (e) {
                    o(e, "ad-volume-changed");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.VOLUME_MUTED, function (e) {
                  o(e, "ad-muted");
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.PAUSED, function (e) {
                  a.j && ((a.j.i = !0), o(e, "ad-paused"));
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.RESUMED, function (e) {
                  a.j && ((a.j.i = !1), o(e, "ad-resumed"));
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,
                  function (e) {
                    a.j && o(e, "ad-skip-state-changed");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.CLICK, function (e) {
                  o(e, "ad-clicked");
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.AD_PROGRESS, function (e) {
                  o(e, "ad-progress");
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.AD_BUFFERING, function (e) {
                  o(e, "ad-buffering");
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.IMPRESSION, function (e) {
                  o(e, "ad-impression");
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.DURATION_CHANGE,
                  function (e) {
                    o(e, "ad-duration-changed");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.USER_CLOSE, function (e) {
                  o(e, "ad-closed");
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.LOADED, function (e) {
                  o(e, "ad-loaded");
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.ALL_ADS_COMPLETED,
                  function (e) {
                    o(e, "all-ads-completed");
                  }
                ),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.LINEAR_CHANGED,
                  function (e) {
                    o(e, "ad-linear-changed");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.AD_METADATA, function (e) {
                  o(e, "ad-metadata");
                }),
                a.h.o(a.g, google.ima.AdEvent.Type.LOG, function (e) {
                  o(e, "ad-recoverable-error");
                }),
                a.h.o(
                  a.g,
                  google.ima.AdEvent.Type.AD_BREAK_READY,
                  function (e) {
                    o(e, "ad-break-ready");
                  }
                ),
                a.h.o(a.g, google.ima.AdEvent.Type.INTERACTION, function (e) {
                  o(e, "ad-interaction");
                });
              try {
                t.g.init(
                  t.i.offsetWidth,
                  t.i.offsetHeight,
                  Xl(t)
                    ? google.ima.ViewMode.FULLSCREEN
                    : google.ima.ViewMode.NORMAL
                ),
                  t.h.o(t.i, "loadeddata", function () {
                    t.g.resize(
                      t.i.offsetWidth,
                      t.i.offsetHeight,
                      Xl(t)
                        ? google.ima.ViewMode.FULLSCREEN
                        : google.ima.ViewMode.NORMAL
                    );
                  }),
                  "ResizeObserver" in N
                    ? ((t.B = new ResizeObserver(function () {
                        t.g.resize(
                          t.i.offsetWidth,
                          t.i.offsetHeight,
                          Xl(t)
                            ? google.ima.ViewMode.FULLSCREEN
                            : google.ima.ViewMode.NORMAL
                        );
                      })),
                      t.B.observe(t.i))
                    : t.h.o(document, "fullscreenchange", function () {
                        t.g.resize(
                          t.i.offsetWidth,
                          t.i.offsetHeight,
                          Xl(t)
                            ? google.ima.ViewMode.FULLSCREEN
                            : google.ima.ViewMode.NORMAL
                        );
                      }),
                  t.i.addEventListener(
                    "play",
                    function () {
                      t.g.start();
                    },
                    { once: !0 }
                  );
              } catch (e) {
                ql(t, null);
              }
            }
          ),
          this.h.o(this.m, google.ima.AdErrorEvent.Type.AD_ERROR, function (e) {
            Hl(s, e);
          }),
          (this.i.onended = function () {
            s.m.contentComplete();
          });
      }
      function Hl(e, t) {
        t.getError(),
          ql(e, null),
          e.l(new _("ad-cue-points-changed", new Map().set("cuepoints", [])));
      }
      function Xl(e) {
        return document.fullscreenEnabled
          ? document.fullscreenElement
          : (e = e.i).webkitSupportsFullscreen && e.webkitDisplayingFullscreen;
      }
      function Wl(e, t) {
        var n = t.getAd();
        n
          ? ((e.j = new zl(n, e.g, e.i)),
            (n = new Map()
              .set("ad", e.j)
              .set("sdkAdObject", n)
              .set("originalEvent", t)),
            e.l(new _("ad-started", n)),
            e.j.isLinear() &&
              (e.s.setAttribute("ad-active", "true"), e.i.pause()))
          : k(
              "The IMA SDK fired a " +
                t.type +
                " event with no associated ad. Unable to play ad!"
            );
      }
      function ql(e, t) {
        e.l(new _("ad-stopped", new Map().set("originalEvent", t))),
          e.j &&
            e.j.isLinear() &&
            (e.s.removeAttribute("ad-active"), e.i.play());
      }
      function Yl(e, t) {
        (this.i = e), (this.h = null), (this.g = t);
      }
      function $l(e, t, n, i) {
        var r = this;
        (this.B = e),
          (this.l = t),
          (this.j = null),
          (this.I = NaN),
          (this.i = i),
          (this.H = !1),
          (this.C = this.m = this.s = null),
          (this.F = ""),
          (this.G = []),
          (this.h = new f()),
          (e = new google.ima.dai.api.UiSettings()).setLocale(n),
          (this.g = new google.ima.dai.api.StreamManager(this.l, this.B, e)),
          this.i(
            new _(
              "ima-stream-manager-loaded",
              new Map().set("imaStreamManager", this.g)
            )
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.LOADED,
            function (e) {
              var n = r;
              n.i(
                new _(
                  "ads-loaded",
                  new Map().set("loadTime", Date.now() / 1e3 - n.I)
                )
              ),
                (e = e.getStreamData().url),
                n.j.resolve(e),
                (n.j = null),
                n.H ||
                  n.h.o(n.l, "seeked", function () {
                    var e,
                      t = n.l.currentTime;
                    0 != t &&
                      (n.g.streamTimeForContentTime(t),
                      (e = n.g.previousCuePointForStreamTime(t)) &&
                        !e.played &&
                        ((n.s = t), (n.l.currentTime = e.start)));
                  });
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.ERROR,
            function () {
              r.F.length
                ? r.j.resolve(r.F)
                : r.j.reject(
                    "IMA Stream request returned an error and there was no backup asset uri provided."
                  ),
                (r.j = null);
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,
            function () {}
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.STARTED,
            function (e) {
              (e = e.getAd()),
                (r.m = new Yl(e, r.l)),
                r.C && (r.m.h = r.C),
                r.i(new _("ad-started", new Map().set("ad", r.m))),
                r.B.setAttribute("ad-active", "true");
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,
            function () {
              r.B.removeAttribute("ad-active");
              var e = r.l.currentTime;
              r.s && r.s > e && ((r.l.currentTime = r.s), (r.s = null));
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,
            function (e) {
              (r.C = e.getStreamData().adProgressData), r.m && (r.m.h = r.C);
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,
            function () {
              r.i(new _("ad-first-quartile"));
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.MIDPOINT,
            function () {
              r.i(new _("ad-midpoint"));
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,
            function () {
              r.i(new _("ad-third-quartile"));
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.COMPLETE,
            function () {
              r.i(new _("ad-complete")),
                r.i(new _("ad-stopped")),
                r.B.removeAttribute("ad-active"),
                (r.m = null);
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.SKIPPED,
            function () {
              r.i(new _("ad-skipped")), r.i(new _("ad-stopped"));
            }
          ),
          this.h.o(
            this.g,
            google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,
            function (e) {
              var t = e.getStreamData();
              e = [];
              for (var n = (t = Ee(t.cuepoints)).next(); !n.done; n = t.next())
                (n = n.value), e.push({ start: n.start, end: n.end });
              (r.G = e),
                r.i(
                  new _("ad-cue-points-changed", new Map().set("cuepoints", e))
                );
            }
          );
      }
      function i() {
        h.call(this),
          (this.g = this.i = null),
          (this.h = new Kl()),
          (this.j = navigator.language);
      }
      function Jl(e) {
        return JSON.stringify(e, function (e, t) {
          if ("function" != typeof t) {
            if (t instanceof Event || t instanceof _) {
              var n = {};
              for (r in t) {
                var i = t[r];
                i && "object" == typeof i
                  ? "detail" == r && (n[r] = i)
                  : r in Event || (n[r] = i);
              }
              return n;
            }
            if (t instanceof Error) {
              var r = new Set(["name", "message", "stack"]);
              for (n in t) r.add(n);
              for (
                n = (i = Ee(Object.getOwnPropertyNames(t))).next();
                !n.done;
                n = i.next()
              )
                r.add(n.value);
              for (i = {}, n = (r = Ee(r)).next(); !n.done; n = r.next())
                i[(n = n.value)] = t[n];
              r = { __type__: "Error", contents: i };
            } else if (t instanceof TimeRanges)
              for (
                r = {
                  __type__: "TimeRanges",
                  length: t.length,
                  start: [],
                  end: [],
                },
                  i = (n = Ee(So(t))).next();
                !i.done;
                i = n.next()
              ) {
                var a = (i = i.value).end;
                r.start.push(i.start), r.end.push(a);
              }
            else
              r =
                t instanceof Uint8Array
                  ? { __type__: "Uint8Array", entries: Array.from(t) }
                  : "number" == typeof t
                  ? isNaN(t)
                    ? "NaN"
                    : isFinite(t)
                    ? t
                    : t < 0
                    ? "-Infinity"
                    : "Infinity"
                  : t;
            return r;
          }
        });
      }
      function Ql(e) {
        return JSON.parse(e, function (e, t) {
          if ("NaN" == t) var n = NaN;
          else if ("-Infinity" == t) n = -1 / 0;
          else if ("Infinity" == t) n = 1 / 0;
          else if (t && "object" == typeof t && "TimeRanges" == t.__type__)
            n = {
              length: (a = t).length,
              start: function (e) {
                return a.start[e];
              },
              end: function (e) {
                return a.end[e];
              },
            };
          else if (t && "object" == typeof t && "Uint8Array" == t.__type__)
            n = new Uint8Array(t.entries);
          else if (t && "object" == typeof t && "Error" == t.__type__) {
            var i,
              n = t.contents,
              r = Error(n.message);
            for (i in n) r[i] = n[i];
            n = r;
          } else n = t;
          var a;
          return n;
        });
      }
      ((n = zl.prototype).getDuration = function () {
        return this.h.getDuration();
      }),
        (n.getMinSuggestedDuration = function () {
          return this.h.getMinSuggestedDuration();
        }),
        (n.getRemainingTime = function () {
          return this.g.getRemainingTime();
        }),
        (n.isPaused = function () {
          return this.i;
        }),
        (n.isSkippable = function () {
          return 0 <= this.h.getSkipTimeOffset();
        }),
        (n.getTimeUntilSkippable = function () {
          var e = this.h.getSkipTimeOffset(),
            e = this.getRemainingTime() - e;
          return Math.max(e, 0);
        }),
        (n.canSkipNow = function () {
          return this.g.getAdSkippableState();
        }),
        (n.skip = function () {
          return this.g.skip();
        }),
        (n.pause = function () {
          return this.g.pause();
        }),
        (n.play = function () {
          return this.g.resume();
        }),
        (n.getVolume = function () {
          return this.g.getVolume();
        }),
        (n.setVolume = function (e) {
          return this.g.setVolume(e);
        }),
        (n.isMuted = function () {
          return 0 == this.g.getVolume();
        }),
        (n.isLinear = function () {
          return this.h.isLinear();
        }),
        (n.resize = function (e, t) {
          var n = !1,
            i = this.m;
          document.fullscreenEnabled
            ? (n = !!document.fullscreenElement)
            : i.webkitSupportsFullscreen && (n = i.webkitDisplayingFullscreen),
            this.g.resize(
              e,
              t,
              n ? google.ima.ViewMode.FULLSCREEN : google.ima.ViewMode.NORMAL
            );
        }),
        (n.setMuted = function (e) {
          e
            ? ((this.l = this.getVolume()), this.setVolume(0))
            : this.setVolume(this.l);
        }),
        (n.getSequenceLength = function () {
          var e = this.h.getAdPodInfo();
          return null == e ? 1 : e.getTotalAds();
        }),
        (n.getPositionInSequence = function () {
          var e = this.h.getAdPodInfo();
          return null == e ? 1 : e.getAdPosition();
        }),
        (n.getTitle = function () {
          return this.h.getTitle();
        }),
        (n.getDescription = function () {
          return this.h.getDescription();
        }),
        (n.release = function () {
          this.g = this.h = null;
        }),
        t("shaka.ads.ClientSideAd", zl),
        (Vl.prototype.stop = function () {
          this.g && this.g.stop(), this.s && ru(this.s);
        }),
        (Vl.prototype.release = function () {
          this.stop(),
            this.B && this.B.disconnect(),
            this.h && this.h.release(),
            this.g && this.g.destroy(),
            this.m.destroy();
        }),
        ((n = Yl.prototype).getDuration = function () {
          return this.h ? this.h.duration : -1;
        }),
        (n.getMinSuggestedDuration = function () {
          return this.getDuration();
        }),
        (n.getRemainingTime = function () {
          return this.h ? this.h.duration - this.h.currentTime : -1;
        }),
        (n.isPaused = function () {
          return this.g.paused;
        }),
        (n.isSkippable = function () {
          return this.i.isSkippable();
        }),
        (n.getTimeUntilSkippable = function () {
          var e = this.i.getSkipTimeOffset(),
            e = this.getRemainingTime() - e;
          return Math.max(e, 0);
        }),
        (n.canSkipNow = function () {
          return 0 == this.getTimeUntilSkippable();
        }),
        (n.skip = function () {
          this.g.currentTime += this.getRemainingTime();
        }),
        (n.pause = function () {
          return this.g.pause();
        }),
        (n.play = function () {
          return this.g.play();
        }),
        (n.getVolume = function () {
          return this.g.volume;
        }),
        (n.setVolume = function (e) {
          this.g.volume = e;
        }),
        (n.isMuted = function () {
          return this.g.muted;
        }),
        (n.isLinear = function () {
          return !0;
        }),
        (n.resize = function () {}),
        (n.setMuted = function (e) {
          this.g.muted = e;
        }),
        (n.getSequenceLength = function () {
          var e = this.i.getAdPodInfo();
          return null == e ? 1 : e.getTotalAds();
        }),
        (n.getPositionInSequence = function () {
          var e = this.i.getAdPodInfo();
          return null == e ? 1 : e.getAdPosition();
        }),
        (n.getTitle = function () {
          return this.i.getTitle();
        }),
        (n.getDescription = function () {
          return this.i.getDescription();
        }),
        (n.release = function () {
          this.g = this.h = this.i = null;
        }),
        t("shaka.ads.ServerSideAd", Yl),
        ($l.prototype.stop = function () {
          (this.F = ""), (this.s = null), (this.G = []);
        }),
        ($l.prototype.release = function () {
          this.stop(), this.h && this.h.release();
        }),
        ($l.prototype.onCueMetadataChange = function (e) {
          var t;
          e.key &&
            e.data &&
            (((t = {})[e.key] = e.data), this.g.onTimedMetadata(t));
        }),
        e(i, h),
        ((n = i.prototype).setLocale = function (e) {
          this.j = e;
        }),
        (n.initClientSide = function (e, t) {
          var n = this;
          if (!N.google || !google.ima || !google.ima.AdsLoader)
            throw new ke(2, 10, 1e4);
          this.i && this.i.release(),
            (this.i = new Vl(e, t, this.j, function (e) {
              if (e && e.type)
                switch (e.type) {
                  case "ads-loaded":
                    n.h.h.push(e.loadTime);
                    break;
                  case "ad-started":
                    n.h.g++;
                    break;
                  case "ad-complete":
                    n.h.i++;
                    break;
                  case "ad-skipped":
                    n.h.j++;
                }
              n.dispatchEvent(e);
            }));
        }),
        (n.release = function () {
          this.i && (this.i.release(), (this.i = null)),
            this.g && (this.g.release(), (this.g = null)),
            h.prototype.release.call(this);
        }),
        (n.onAssetUnload = function () {
          this.i && this.i.stop(),
            this.g && this.g.stop(),
            this.dispatchEvent(new _("ad-stopped")),
            (this.h = new Kl());
        }),
        (n.requestClientSideAds = function (e) {
          if (!this.i) throw new ke(1, 10, 10001);
          var t = this.i;
          (t.C = Date.now() / 1e3), t.m.requestAds(e);
        }),
        (n.initServerSide = function (e, t) {
          var n = this;
          if (!N.google || !google.ima || !google.ima.dai)
            throw new ke(2, 10, 10002);
          this.g && this.g.release(),
            (this.g = new $l(e, t, this.j, function (e) {
              if (e && e.type)
                switch (e.type) {
                  case "ads-loaded":
                    n.h.h.push(e.loadTime);
                    break;
                  case "ad-started":
                    n.h.g++;
                    break;
                  case "ad-complete":
                    n.h.i++;
                    break;
                  case "ad-skipped":
                    n.h.j++;
                }
              n.dispatchEvent(e);
            }));
        }),
        (n.requestServerSideStream = function (e, t) {
          if (((t = void 0 === t ? "" : t), !this.g))
            throw new ke(1, 10, 10003);
          e.adTagParameters || (e.adTagParameters = {});
          var n = e.adTagParameters;
          (n.mpt || n.mpv) &&
            k(
              'You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'
            ),
            (e.adTagParameters.mpt = "shaka-player"),
            (e.adTagParameters.mpv = "v4.3.0");
          return (n = (n = this.g).j
            ? Promise.reject(new ke(1, 10, 10004))
            : (e instanceof google.ima.dai.api.LiveStreamRequest && (n.H = !0),
              (n.j = new P()),
              n.g.requestStream(e),
              (n.F = t || ""),
              (n.I = Date.now() / 1e3),
              n.j));
        }),
        (n.replaceServerSideAdTagParameters = function (e) {
          if (!this.g) throw new ke(1, 10, 10003);
          (e.mpt || e.mpv) &&
            k(
              'You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'
            ),
            (e.mpt = "Shaka Player"),
            (e.mpv = "v4.3.0"),
            this.g.g.replaceAdTagParameters(e);
        }),
        (n.getServerSideCuePoints = function () {
          if (this.g) return this.g.G;
          throw new ke(1, 10, 10003);
        }),
        (n.getStats = function () {
          var e = this.h;
          return {
            loadTimes: e.h,
            started: e.g,
            playedCompletely: e.i,
            skipped: e.j,
          };
        }),
        (n.onDashTimedMetadata = function (e) {
          var t, n;
          this.g &&
            "urn:google:dai:2018" == e.schemeIdUri &&
            ((t = e.schemeIdUri),
            (n = e.eventElement
              ? e.eventElement.getAttribute("messageData")
              : null),
            this.g.g.processMetadata(t, n, e.startTime));
        }),
        (n.onHlsTimedMetadata = function (e, t) {
          this.g && this.g.g.processMetadata("ID3", e.data, t);
        }),
        (n.onCueMetadataChange = function (e) {
          this.g && this.g.onCueMetadataChange(e);
        }),
        t("shaka.ads.AdManager", i),
        (i.ADS_LOADED = "ads-loaded"),
        (i.AD_STARTED = "ad-started"),
        (i.AD_FIRST_QUARTILE = "ad-first-quartile"),
        (i.AD_MIDPOINT = "ad-midpoint"),
        (i.AD_THIRD_QUARTILE = "ad-third-quartile"),
        (i.AD_COMPLETE = "ad-complete"),
        (i.AD_STOPPED = "ad-stopped"),
        (i.AD_SKIPPED = "ad-skipped"),
        (i.AD_VOLUME_CHANGED = "ad-volume-changed"),
        (i.AD_MUTED = "ad-muted"),
        (i.AD_PAUSED = "ad-paused"),
        (i.AD_RESUMED = "ad-resumed"),
        (i.AD_SKIP_STATE_CHANGED = "ad-skip-state-changed"),
        (i.CUEPOINTS_CHANGED = "ad-cue-points-changed"),
        (i.IMA_AD_MANAGER_LOADED = "ima-ad-manager-loaded"),
        (i.IMA_STREAM_MANAGER_LOADED = "ima-stream-manager-loaded"),
        (i.AD_CLICKED = "ad-clicked"),
        (i.AD_PROGRESS = "ad-progress"),
        (i.AD_BUFFERING = "ad-buffering"),
        (i.AD_IMPRESSION = "ad-impression"),
        (i.AD_DURATION_CHANGED = "ad-duration-changed"),
        (i.AD_CLOSED = "ad-closed"),
        (i.AD_LOADED = "ad-loaded"),
        (i.ALL_ADS_COMPLETED = "all-ads-completed"),
        (i.AD_LINEAR_CHANGED = "ad-linear-changed"),
        (i.AD_METADATA = "ad-metadata"),
        (i.AD_RECOVERABLE_ERROR = "ad-recoverable-error"),
        (i.AD_BREAK_READY = "ad-break-ready"),
        (i.AD_INTERACTION = "ad-interaction");
      var Bl = function () {
          return new i();
        },
        Zl =
          "ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(
            " "
          ),
        ec =
          "buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(
            " "
          ),
        tc = ["loop", "playbackRate"],
        nc = ["pause", "play"],
        ic = {
          getAssetUri: 2,
          getAudioLanguages: 4,
          getAudioLanguagesAndRoles: 4,
          getBufferFullness: 1,
          getBufferedInfo: 2,
          getExpiration: 2,
          getKeyStatuses: 2,
          getPlaybackRate: 2,
          getTextLanguages: 4,
          getTextLanguagesAndRoles: 4,
          getImageTracks: 2,
          getThumbnails: 2,
          isAudioOnly: 10,
          isBuffering: 1,
          isInProgress: 1,
          isLive: 10,
          isTextTrackVisible: 1,
          keySystem: 10,
          seekRange: 1,
          getLoadMode: 10,
        },
        rc = {
          getConfiguration: 4,
          getStats: 5,
          getTextTracks: 2,
          getVariantTracks: 2,
        },
        ac = { getPlayheadTimeAsDate: 1, getPresentationStartTimeAsDate: 20 },
        oc = [["getConfiguration", "configure"]],
        sc = [["isTextTrackVisible", "setTextTrackVisibility"]],
        uc =
          "addChaptersTrack addTextTrackAsync addThumbnailsTrack cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(
            " "
          ),
        lc = ["attach", "attachCanvas", "detach", "load", "unload"];
      function cc(e, t, n, i, r, a, o) {
        var s = this;
        (this.I = e),
          (this.O = o),
          (this.j = new M(t)),
          (this.R = n),
          (this.C = !1),
          (this.B = i),
          (this.H = r),
          (this.K = a),
          (this.h = this.m = !1),
          (this.M = ""),
          (this.s = null),
          (this.F = function () {
            return gc(s);
          }),
          (this.G = function (e, t) {
            switch ((i = Ql(t)).type) {
              case "event":
                var n = i.targetName,
                  i = te(i.event);
                s.B(n, i);
                break;
              case "update":
                for (var r in (n = i.update))
                  for (var a in ((i = s.g[r] || {}), n[r])) i[a] = n[r][a];
                s.C && (s.R(), (s.C = !1));
                break;
              case "asyncComplete":
                if (((r = i.id), (i = i.error), (a = s.i[r]), delete s.i[r], a))
                  if (i) {
                    for (n in ((r = new ke(i.severity, i.category, i.code)), i))
                      r[n] = i[n];
                    a.reject(r);
                  } else a.resolve();
            }
          }),
          (this.g = { video: {}, player: {} }),
          (this.J = 0),
          (this.i = {}),
          (this.l = null),
          Ac.add(this);
      }
      function dc(e, t, n) {
        (Ec = n).addUpdateListener(e.F),
          n.addMessageListener("urn:x-cast:com.google.shaka.v2", e.G),
          gc(e),
          vc(e, { type: "init", initState: t, appData: e.s }),
          e.l.resolve();
      }
      function hc(e, t) {
        var n = 8003;
        switch (t.code) {
          case "cancel":
            n = 8004;
            break;
          case "timeout":
            n = 8005;
            break;
          case "receiver_unavailable":
            n = 8006;
        }
        e.l.reject(new ke(2, 8, n, t));
      }
      function fc(e, t) {
        var n = e.K();
        (e.l = new P()), (e.C = !0), dc(e, n, t);
      }
      function pc(e) {
        var t = Ec;
        t.removeUpdateListener(e.F),
          t.removeMessageListener("urn:x-cast:com.google.shaka.v2", e.G);
      }
      function gc(e) {
        var t = !!Ec && "connected" == Ec.status;
        if (e.h && !t) {
          for (var n in (e.H(), e.g)) e.g[n] = {};
          mc(e);
        }
        (e.h = t), (e.M = t ? Ec.receiver.friendlyName : ""), e.j.xa();
      }
      function mc(e) {
        for (var t in e.i) {
          var n = e.i[t];
          delete e.i[t], n.reject(new ke(1, 7, 7e3));
        }
      }
      function vc(t, n) {
        var n = Jl(n),
          i = Ec;
        try {
          i.sendMessage(
            "urn:x-cast:com.google.shaka.v2",
            n,
            function () {},
            oe
          );
        } catch (e) {
          throw (
            ((n = new ke(2, 8, 8005, e)),
            (i = new _("error", new Map().set("detail", n))),
            t.B("player", i),
            t.$b(),
            n)
          );
        }
      }
      ((n = cc.prototype).destroy = function () {
        return (
          Ac.delete(this),
          mc(this),
          Ec && pc(this),
          this.j && (this.j.stop(), (this.j = null)),
          (this.H = this.B = null),
          (this.h = this.m = !1),
          (this.G = this.F = this.l = this.i = this.g = this.s = null),
          Promise.resolve()
        );
      }),
        (n.oa = function () {
          return this.h;
        }),
        (n.Jd = function () {
          return this.M;
        }),
        (n.init = function () {
          var e;
          this.I.length &&
            (N.chrome && chrome.cast && chrome.cast.isAvailable
              ? ((this.m = !0),
                this.j.xa(),
                (e = new chrome.cast.SessionRequest(
                  this.I,
                  [],
                  null,
                  this.O,
                  null
                )),
                (e = new chrome.cast.ApiConfig(
                  e,
                  function (e) {
                    for (var t = Ee(Ac), n = t.next(); !n.done; n = t.next())
                      fc(n.value, e);
                  },
                  function (e) {
                    for (var t = Ee(Ac), n = t.next(); !n.done; n = t.next())
                      (n = n.value), (bc = "available" == e), n.j.xa();
                  },
                  "origin_scoped"
                )),
                chrome.cast.initialize(
                  e,
                  function () {},
                  function () {}
                ),
                bc && this.j.S(yc),
                (e = Ec) && e.status != chrome.cast.SessionStatus.STOPPED
                  ? fc(this, e)
                  : (Ec = null))
              : N.__onGCastApiAvailable !== wc &&
                ((Tc = N.__onGCastApiAvailable || null),
                (N.__onGCastApiAvailable = wc)));
        }),
        (n.Ke = function (e) {
          (this.s = e),
            this.h && vc(this, { type: "appData", appData: this.s });
        }),
        (n.cast = function (t) {
          var n = this;
          return Ie(function (e) {
            if (!n.m) throw new ke(1, 8, 8e3);
            if (!bc) throw new ke(1, 8, 8001);
            if (n.h) throw new ke(1, 8, 8002);
            return (
              (n.l = new P()),
              chrome.cast.requestSession(
                function (e) {
                  return dc(n, t, e);
                },
                function (e) {
                  return hc(n, e);
                }
              ),
              Te(e, n.l, 0)
            );
          });
        }),
        (n.$b = function () {
          if (this.h) {
            if ((mc(this), Ec)) {
              pc(this);
              try {
                Ec.stop(
                  function () {},
                  function () {}
                );
              } catch (e) {}
              Ec = null;
            }
            gc(this);
          }
        }),
        (n.get = function (e, t) {
          var n = this;
          if ("video" == e) {
            if (nc.includes(t))
              return function () {
                return n.Rf.apply(n, [e, t].concat(I(q.apply(0, arguments))));
              };
          } else if ("player" == e) {
            if (ac[t] && !this.get("player", "isLive")()) return function () {};
            if (uc.includes(t))
              return function () {
                return n.Rf.apply(n, [e, t].concat(I(q.apply(0, arguments))));
              };
            if (lc.includes(t))
              return function () {
                return n.xh.apply(n, [e, t].concat(I(q.apply(0, arguments))));
              };
            if (ic[t] || rc[t])
              return function () {
                return n.g[e][t];
              };
          }
          return this.g[e][t];
        }),
        (n.set = function (e, t, n) {
          (this.g[e][t] = n),
            vc(this, { type: "set", targetName: e, property: t, value: n });
        }),
        (n.Rf = function (e, t) {
          vc(this, {
            type: "call",
            targetName: e,
            methodName: t,
            args: q.apply(2, arguments),
          });
        }),
        (n.xh = function (e, t) {
          var n = q.apply(2, arguments),
            i = new P(),
            r = this.J.toString();
          this.J++, (this.i[r] = i);
          try {
            vc(this, {
              type: "asyncCall",
              targetName: e,
              methodName: t,
              args: n,
              id: r,
            });
          } catch (e) {
            i.reject(e);
          }
          return i;
        });
      var yc = 0.02,
        bc = !1,
        Ec = null,
        Tc = null,
        Ac = new Set();
      function wc(e) {
        if (
          (Tc ? (N.__onGCastApiAvailable = Tc) : delete N.__onGCastApiAvailable,
          (Tc = null),
          e)
        )
          for (var t = Ee(Ac), n = t.next(); !n.done; n = t.next())
            n.value.init();
        "function" == typeof N.__onGCastApiAvailable &&
          N.__onGCastApiAvailable(e);
      }
      function Sc(e, t, n, i) {
        (i = void 0 !== i && i), h.call(this);
        var r = this,
          a =
            ((this.i = e),
            (this.h = t),
            (this.m = this.s = this.j = this.B = this.l = null),
            (this.G = n),
            (this.F = i),
            (this.C = new Map()),
            (this.g = new cc(
              n,
              function () {
                return kc(r);
              },
              function () {
                return Cc(r);
              },
              function (e, t) {
                return Lc(r, e, t);
              },
              function () {
                return Mc(r);
              },
              function () {
                return Ic(r);
              },
              i
            )),
            this);
        a.g.init(), (a.m = new f());
        for (var o, s, u = Ee(Zl), l = u.next(); !l.done; l = u.next())
          a.m.o(a.i, l.value, function (e) {
            a.g.oa() || ((e = te(e)), a.j.dispatchEvent(e));
          });
        for (o in ne)
          a.m.o(a.h, ne[o], function (e) {
            a.g.oa() || a.s.dispatchEvent(e);
          });
        for (s in ((a.l = {}), (u = {}), a.i))
          (u.uc = s),
            Object.defineProperty(a.l, u.uc, {
              configurable: !1,
              enumerable: !0,
              get: (function (n) {
                return function () {
                  var i = a,
                    e = n.uc;
                  if ("addEventListener" == e)
                    return function (e, t, n) {
                      return i.j.addEventListener(e, t, n);
                    };
                  if ("removeEventListener" == e)
                    return function (e, t, n) {
                      return i.j.removeEventListener(e, t, n);
                    };
                  if (i.g.oa() && 0 == Object.keys(i.g.g.video).length) {
                    var t = i.i[e];
                    if ("function" != typeof t) return t;
                  }
                  return i.g.oa()
                    ? i.g.get("video", e)
                    : (t = "function" == typeof (t = i.i[e]) ? t.bind(i.i) : t);
                };
              })(u),
              set: (function (n) {
                return function (e) {
                  var t = n.uc;
                  a.g.oa() ? a.g.set("video", t, e) : (a.i[t] = e);
                };
              })(u),
            }),
            (u = { uc: u.uc });
        (a.B = {}),
          xc(a, function (t) {
            Object.defineProperty(a.B, t, {
              configurable: !1,
              enumerable: !0,
              get: function () {
                var i = a,
                  e = t;
                if ("addEventListener" == (e = i.C.has(e) ? i.C.get(e) : e))
                  return function (e, t, n) {
                    return i.s.addEventListener(e, t, n);
                  };
                if ("removeEventListener" == e)
                  return function (e, t, n) {
                    return i.s.removeEventListener(e, t, n);
                  };
                if ("getMediaElement" == e)
                  return function () {
                    return i.l;
                  };
                if ("getSharedConfiguration" == e)
                  return i.g.get("player", "getConfiguration");
                if ("getNetworkingEngine" == e)
                  return function () {
                    return i.h.Gc();
                  };
                if ("getDrmEngine" == e)
                  return function () {
                    return i.h.m;
                  };
                if ("getAdManager" == e)
                  return function () {
                    return i.h.qd();
                  };
                if ("setVideoContainer" == e)
                  return function (e) {
                    return i.h.Se(e);
                  };
                if (i.g.oa()) {
                  if ("getManifest" == e || "drmInfo" == e)
                    return function () {
                      return k(e + "() does not work while casting!"), null;
                    };
                  if ("attach" == e || "detach" == e)
                    return function () {
                      return (
                        k(e + "() does not work while casting!"),
                        Promise.resolve()
                      );
                    };
                }
                return (i.g.oa() &&
                  0 == Object.keys(i.g.g.video).length &&
                  (ic[e] || rc[e])) ||
                  !i.g.oa()
                  ? i.h[e].bind(i.h)
                  : i.g.get("player", e);
              },
            });
          });
        var c = a,
          d = new Map();
        xc(c, function (e, t) {
          var n;
          d.has(t)
            ? ((n = d.get(t)),
              e.length < n.length ? c.C.set(e, n) : c.C.set(n, e))
            : d.set(t, e);
        }),
          (a.j = new h()),
          (a.j.Cd = a.l),
          (a.s = new h()),
          (a.s.Cd = a.B);
      }
      function xc(e, t) {
        function n(e) {
          return "constructor" != e && "function" == typeof i[e] && !r.has(e);
        }
        var i = e.h,
          r = new Set();
        for (a in i) n(a) && (r.add(a), t(a, i[a]));
        for (
          var a = Object.getPrototypeOf(i), o = Object.getPrototypeOf({});
          a && a != o;

        ) {
          for (
            var s = Ee(Object.getOwnPropertyNames(a)), u = s.next();
            !u.done;
            u = s.next()
          )
            n((u = u.value)) && (r.add(u), t(u, i[u]));
          a = Object.getPrototypeOf(a);
        }
      }
      function Ic(e) {
        var t = {
          video: {},
          player: {},
          playerAfterLoad: {},
          manifest: e.h.le(),
          startTime: null,
        };
        e.i.pause();
        for (var n = Ee(tc), i = n.next(); !i.done; i = n.next())
          (i = i.value), (t.video[i] = e.i[i]);
        for (
          e.i.ended || (t.startTime = e.i.currentTime), i = (n = Ee(oc)).next();
          !i.done;
          i = n.next()
        ) {
          var i = (r = i.value)[1],
            r = e.h[r[0]]();
          t.player[i] = r;
        }
        for (i = (n = Ee(sc)).next(); !i.done; i = n.next())
          (i = (r = i.value)[1]), (r = e.h[r[0]]()), (t.playerAfterLoad[i] = r);
        return t;
      }
      function kc(e) {
        var t = new _("caststatuschanged");
        e.dispatchEvent(t);
      }
      function Cc(e) {
        var t = new _(e.l.paused ? "pause" : "play");
        e.j.dispatchEvent(t);
      }
      function Mc(i) {
        for (var e = Ee(oc), t = e.next(); !t.done; t = e.next()) {
          var t = (n = t.value)[1],
            n = i.g.get("player", n[0])();
          i.h[t](n);
        }
        var r = i.g.get("player", "getAssetUri")(),
          a =
            ((t = i.g.get("video", "ended")),
            (e = Promise.resolve()),
            i.i.autoplay),
          o =
            ((n = null),
            t || (n = i.g.get("video", "currentTime")),
            r && ((i.i.autoplay = !1), (e = i.h.load(r, n))),
            {});
        for (n = (t = Ee(tc)).next(); !n.done; n = t.next())
          (n = n.value), (o[n] = i.g.get("video", n));
        e.then(
          function () {
            if (i.i) {
              for (var e = Ee(tc), t = e.next(); !t.done; t = e.next())
                (t = t.value), (i.i[t] = o[t]);
              for (t = (e = Ee(sc)).next(); !t.done; t = e.next()) {
                var t = (n = t.value)[1],
                  n = i.g.get("player", n[0])();
                i.h[t](n);
              }
              (i.i.autoplay = a), r && i.i.play();
            }
          },
          function (e) {
            (e = new _("error", (e = new Map().set("detail", e)))),
              i.h.dispatchEvent(e);
          }
        );
      }
      function Lc(e, t, n) {
        e.g.oa() &&
          ("video" == t
            ? e.j.dispatchEvent(n)
            : "player" == t && e.s.dispatchEvent(n));
      }
      function Nc(e, t, n, i) {
        h.call(this);
        var r = this,
          l =
            ((this.g = e),
            (this.h = t),
            (this.j = new f()),
            (this.J = { video: e, player: t }),
            (this.G = n || function () {}),
            (this.K =
              i ||
              function (e) {
                return e;
              }),
            (this.i = null),
            (this.H = !1),
            (this.s = !0),
            (this.m = 0),
            (this.F = !1),
            (this.C = !0),
            (this.B = this.l = null),
            (this.I = new M(function () {
              Dc(r);
            })),
            this),
          a = cast.receiver.CastReceiverManager.getInstance();
        (a.onSenderConnected = function () {
          return Rc(l);
        }),
          (a.onSenderDisconnected = function () {
            return Rc(l);
          }),
          (a.onSystemVolumeChanged = function () {
            var e =
              cast.receiver.CastReceiverManager.getInstance().getSystemVolume();
            e &&
              Bc(
                l,
                {
                  type: "update",
                  update: { video: { volume: e.level, muted: e.muted } },
                },
                l.l
              ),
              Bc(
                l,
                {
                  type: "event",
                  targetName: "video",
                  event: { type: "volumechange" },
                },
                l.l
              );
          }),
          (l.B = a.getCastMessageBus("urn:x-cast:com.google.cast.media")),
          (l.B.onMessage = function (e) {
            var n = l,
              i = Ql(e.data);
            switch (i.type) {
              case "PLAY":
                n.g.play(), Fc(n);
                break;
              case "PAUSE":
                n.g.pause(), Fc(n);
                break;
              case "SEEK":
                var t = i.currentTime,
                  r = i.resumeState;
                null != t && (n.g.currentTime = Number(t)),
                  r && "PLAYBACK_START" == r
                    ? (n.g.play(), Fc(n))
                    : r && "PLAYBACK_PAUSE" == r && (n.g.pause(), Fc(n));
                break;
              case "STOP":
                n.h.Ze().then(function () {
                  n.h && Fc(n);
                });
                break;
              case "GET_STATUS":
                Uc(n, Number(i.requestId));
                break;
              case "VOLUME":
                (r = i.volume), (t = r.level), (r = r.muted);
                var a = n.g.volume,
                  o = n.g.muted;
                null != t && (n.g.volume = Number(t)),
                  null != r && (n.g.muted = r),
                  (a == n.g.volume && o == n.g.muted) || Fc(n);
                break;
              case "LOAD":
                (n.m = 0),
                  (n.F = !1),
                  (n.C = !1),
                  (t = i.media),
                  (r = i.currentTime),
                  (a = n.K(t.contentId)),
                  (o = i.autoplay || !0),
                  n.G(t.customData),
                  o && (n.g.autoplay = !0),
                  n.h
                    .load(a, r)
                    .then(function () {
                      n.h && Uc(n);
                    })
                    .catch(function (e) {
                      var t = "LOAD_FAILED";
                      7 == e.category &&
                        7e3 == e.code &&
                        (t = "LOAD_CANCELLED"),
                        Bc(n, { requestId: Number(i.requestId), type: t }, n.B);
                    });
                break;
              default:
                Bc(
                  n,
                  {
                    requestId: Number(i.requestId),
                    type: "INVALID_REQUEST",
                    reason: "INVALID_COMMAND",
                  },
                  n.B
                );
            }
          }),
          (l.l = a.getCastMessageBus("urn:x-cast:com.google.shaka.v2")),
          (l.l.onMessage = function (e) {
            var t = l,
              n = e,
              i = Ql(n.data);
            switch (i.type) {
              case "init":
                (t.m = 0),
                  (t.F = !1),
                  (t.C = !0),
                  !(function (t, n, i) {
                    var r, a, o, s, u, l, c, d;
                    Ie(function (e) {
                      switch (e.g) {
                        case 1:
                          for (r in n.player) (a = n.player[r]), t.h[r](a);
                          return (
                            t.G(i),
                            (o = t.g.autoplay),
                            n.manifest
                              ? ((t.g.autoplay = !1),
                                we(e, 5),
                                Te(e, t.h.load(n.manifest, n.startTime), 7))
                              : Te(e, Promise.resolve(), 3)
                          );
                        case 7:
                          Se(e, 3);
                          break;
                        case 5:
                          return (
                            (s = xe(e)),
                            (s = new Map().set("detail", s)),
                            (s = new _("error", s)),
                            t.h && t.h.dispatchEvent(s),
                            e.return()
                          );
                        case 3:
                          if (!t.h) return e.return();
                          for (u in n.video) (l = n.video[u]), (t.g[u] = l);
                          for (c in n.playerAfterLoad)
                            (d = n.playerAfterLoad[c]), t.h[c](d);
                          (t.g.autoplay = o),
                            n.manifest && (t.g.play(), Fc(t)),
                            Ae(e);
                      }
                    });
                  })(t, i.initState, i.appData),
                  Dc(t);
                break;
              case "appData":
                t.G(i.appData);
                break;
              case "set":
                var r = i.targetName,
                  a = i.property;
                if (((i = i.value), "video" == r)) {
                  var o = cast.receiver.CastReceiverManager.getInstance();
                  if ("volume" == a) {
                    o.setSystemVolumeLevel(i);
                    break;
                  }
                  if ("muted" == a) {
                    o.setSystemVolumeMuted(i);
                    break;
                  }
                }
                t.J[r][a] = i;
                break;
              case "call":
                (r = t.J[i.targetName])[i.methodName].apply(r, i.args);
                break;
              case "asyncCall":
                (r = i.targetName),
                  (a = i.methodName),
                  "player" == r && "load" == a && ((t.m = 0), (t.F = !1));
                var s = i.id,
                  u = n.senderId;
                (o = t.J[r]),
                  (i = o[a].apply(o, i.args)),
                  (i =
                    "player" == r && "load" == a
                      ? i.then(function () {
                          t.C = !0;
                        })
                      : i).then(
                    function () {
                      return jc(t, u, s, null);
                    },
                    function (e) {
                      return jc(t, u, s, e);
                    }
                  );
            }
          }),
          a.start();
        for (var o, s = (a = Ee(Zl)).next(); !s.done; s = a.next())
          l.j.o(l.g, s.value, function (e) {
            return Pc(l, "video", e);
          });
        for (o in ne)
          l.j.o(l.h, ne[o], function (e) {
            return Pc(l, "player", e);
          });
        cast.__platform__ &&
        cast.__platform__.canDisplayType(
          'video/mp4; codecs="avc1.640028"; width=3840; height=2160'
        )
          ? l.h.Ne(3840, 2160)
          : l.h.Ne(1920, 1080),
          l.j.o(l.g, "loadeddata", function () {
            l.F = !0;
          }),
          l.j.o(l.h, "loading", function () {
            (l.s = !1), _c(l);
          }),
          l.j.o(l.g, "playing", function () {
            (l.s = !1), _c(l);
          }),
          l.j.o(l.g, "pause", function () {
            _c(l);
          }),
          l.j.o(l.h, "unloading", function () {
            (l.s = !0), _c(l);
          }),
          l.j.o(l.g, "ended", function () {
            new M(function () {
              l.g && l.g.ended && ((l.s = !0), _c(l));
            }).S(Kc);
          });
      }
      function Rc(e) {
        (e.m = 0),
          (e.C = !0),
          (e.H =
            0 !=
            cast.receiver.CastReceiverManager.getInstance().getSenders()
              .length),
          _c(e);
      }
      function _c(t) {
        var n;
        Ie(function (e) {
          return 1 == e.g
            ? Te(e, Promise.resolve(), 2)
            : t.h
            ? ((n = new _("caststatuschanged")),
              t.dispatchEvent(n),
              Oc(t) || Fc(t),
              void Ae(e))
            : e.return();
        });
      }
      function Pc(e, t, n) {
        e.h && (Dc(e), Bc(e, { type: "event", targetName: t, event: n }, e.l));
      }
      function Dc(e) {
        e.I.S(Gc);
        for (
          var t, n, i = { video: {}, player: {} }, r = Ee(ec), a = r.next();
          !a.done;
          a = r.next()
        )
          (a = a.value), (i.video[a] = e.g[a]);
        if (e.h.T())
          for (var o in ac) 0 == e.m % ac[o] && (i.player[o] = e.h[o]());
        for (t in ic) 0 == e.m % ic[t] && (i.player[t] = e.h[t]());
        for (n in ((r =
          cast.receiver.CastReceiverManager.getInstance().getSystemVolume()) &&
          ((i.video.volume = r.level), (i.video.muted = r.muted)),
        Bc(e, { type: "update", update: i }, e.l),
        rc))
          0 == e.m % rc[n] &&
            ((i = { player: {} }),
            (i.player[n] = e.h[n]()),
            Bc(e, { type: "update", update: i }, e.l));
        e.F && (e.m += 1), Oc(e);
      }
      function Oc(e) {
        return e.C && (e.g.duration || e.h.T()) && (Uc(e), (e.C = !1), 1);
      }
      function Uc(e, t) {
        var n = {
          contentId: e.h.le(),
          streamType: e.h.T() ? "LIVE" : "BUFFERED",
          contentType: "",
        };
        e.h.T() || (n.duration = e.g.duration),
          e.i && (n.metadata = e.i),
          Fc(e, void 0 === t ? 0 : t, n);
      }
      function jc(e, t, n, i) {
        e.h && Bc(e, { type: "asyncComplete", id: n, error: i }, e.l, t);
      }
      function Bc(e, t, n, i) {
        e.H && ((e = Jl(t)), i ? n.getCastChannel(i).send(e) : n.broadcast(e));
      }
      function Fc(e, t, n) {
        n = void 0 === n ? null : n;
        var i = {
          mediaSessionId: 0,
          playbackRate: e.g.playbackRate,
          playerState: e.s ? zc : e.h.Oc() ? Hc : e.g.paused ? Xc : Vc,
          currentTime: e.g.currentTime,
          supportedMediaCommands: 63,
          volume: { level: e.g.volume, muted: e.g.muted },
        };
        n && (i.media = n),
          Bc(
            e,
            {
              requestId: void 0 === t ? 0 : t,
              type: "MEDIA_STATUS",
              status: [i],
            },
            e.B
          );
      }
      e(Sc, h),
        ((n = Sc.prototype).destroy = function (e) {
          return (
            e && this.g.$b(),
            this.m && (this.m.release(), (this.m = null)),
            (e = []),
            this.h && (e.push(this.h.destroy()), (this.h = null)),
            this.g && (e.push(this.g.destroy()), (this.g = null)),
            (this.B = this.l = this.i = null),
            h.prototype.release.call(this),
            Promise.all(e)
          );
        }),
        (n.Ab = function () {
          return this.l;
        }),
        (n.cc = function () {
          return this.B;
        }),
        (n.rf = function () {
          return this.g.m && bc;
        }),
        (n.oa = function () {
          return this.g.oa();
        }),
        (n.Jd = function () {
          return this.g.Jd();
        }),
        (n.cast = function () {
          var t,
            n = this;
          return Ie(function (e) {
            return 1 == e.g
              ? ((t = Ic(n)), Te(e, n.g.cast(t), 2))
              : n.h
              ? Te(e, n.h.Ze(), 0)
              : e.return();
          });
        }),
        (n.Ke = function (e) {
          this.g.Ke(e);
        }),
        (n.cg = function () {
          var t, n;
          (t = this.g).h &&
            ((n = t.K()),
            chrome.cast.requestSession(
              function (e) {
                return dc(t, n, e);
              },
              function (e) {
                return hc(t, e);
              }
            ));
        }),
        (n.$b = function () {
          this.g.$b();
        }),
        (n.wf = function (t, n) {
          n = void 0 !== n && n;
          var i = this;
          return Ie(function (e) {
            if (1 == e.g)
              return t == i.G && n == i.F
                ? e.return()
                : ((i.G = t), (i.F = n), i.g.$b(), Te(e, i.g.destroy(), 2));
            (i.g = null),
              (i.g = new cc(
                t,
                function () {
                  return kc(i);
                },
                function () {
                  return Cc(i);
                },
                function (e, t) {
                  return Lc(i, e, t);
                },
                function () {
                  return Mc(i);
                },
                function () {
                  return Ic(i);
                },
                n
              )),
              i.g.init(),
              Ae(e);
          });
        }),
        t("shaka.cast.CastProxy", Sc),
        (Sc.prototype.changeReceiverId = Sc.prototype.wf),
        (Sc.prototype.forceDisconnect = Sc.prototype.$b),
        (Sc.prototype.suggestDisconnect = Sc.prototype.cg),
        (Sc.prototype.setAppData = Sc.prototype.Ke),
        (Sc.prototype.receiverName = Sc.prototype.Jd),
        (Sc.prototype.isCasting = Sc.prototype.oa),
        (Sc.prototype.canCast = Sc.prototype.rf),
        (Sc.prototype.getPlayer = Sc.prototype.cc),
        (Sc.prototype.getVideo = Sc.prototype.Ab),
        e(Nc, h),
        ((n = Nc.prototype).isConnected = function () {
          return this.H;
        }),
        (n.fh = function () {
          return this.s;
        }),
        (n.Hh = function (e) {
          this.i = e;
        }),
        (n.rg = function () {
          this.i = null;
        }),
        (n.Ih = function (e) {
          this.i ||
            (this.i = {
              metadataType: cast.receiver.media.MetadataType.GENERIC,
            }),
            (this.i.title = e);
        }),
        (n.Gh = function (e) {
          this.i ||
            (this.i = {
              metadataType: cast.receiver.media.MetadataType.GENERIC,
            }),
            (this.i.images = [{ url: e }]);
        }),
        (n.Fh = function (e) {
          this.i || (this.i = {}),
            (this.i.artist = e),
            (this.i.metadataType =
              cast.receiver.media.MetadataType.MUSIC_TRACK);
        }),
        (n.destroy = function () {
          var t,
            n = this;
          return Ie(function (e) {
            if (1 == e.g)
              return (
                n.j && (n.j.release(), (n.j = null)),
                (t = []),
                n.h && (t.push(n.h.destroy()), (n.h = null)),
                n.I && (n.I.stop(), (n.I = null)),
                (n.g = null),
                (n.J = null),
                (n.G = null),
                (n.H = !1),
                (n.s = !0),
                (n.l = null),
                (n.B = null),
                h.prototype.release.call(n),
                Te(e, Promise.all(t), 2)
              );
            cast.receiver.CastReceiverManager.getInstance().stop(), Ae(e);
          });
        }),
        t("shaka.cast.CastReceiver", Nc),
        (Nc.prototype.setContentArtist = Nc.prototype.Fh),
        (Nc.prototype.setContentImage = Nc.prototype.Gh),
        (Nc.prototype.setContentTitle = Nc.prototype.Ih),
        (Nc.prototype.clearContentMetadata = Nc.prototype.rg),
        (Nc.prototype.setContentMetadata = Nc.prototype.Hh),
        (Nc.prototype.isIdle = Nc.prototype.fh);
      var Gc = 0.5,
        Kc = 5,
        zc = "IDLE",
        Vc = "PLAYING",
        Hc = "BUFFERING",
        Xc = "PAUSED";
      function Wc(e, t, n) {
        var i = (function (e) {
            for (var t = [], n = (e = Ee(e)).next(); !n.done; n = e.next())
              (n = (function (e) {
                var t = e.getAttribute("schemeIdUri"),
                  n = vr(e, "urn:mpeg:cenc:2013", "default_KID"),
                  i = mr(e, "urn:mpeg:cenc:2013", "pssh").map(br);
                if (!t) return null;
                if (
                  ((t = t.toLowerCase()),
                  n && (n = n.replace(/-/g, "").toLowerCase()).includes(" "))
                )
                  throw new ke(2, 4, 4009);
                var r = [];
                try {
                  r = i.map(function (e) {
                    return {
                      initDataType: "cenc",
                      initData: cn(e),
                      keyId: null,
                    };
                  });
                } catch (e) {
                  throw new ke(2, 4, 4007);
                }
                return {
                  node: e,
                  Ge: t,
                  keyId: n,
                  init: 0 < r.length ? r : null,
                };
              })(n.value)) && t.push(n);
            return t;
          })(e),
          r = null,
          a = ((e = []), []),
          o = new Set(
            i.map(function (e) {
              return e.keyId;
            })
          );
        if ((o.delete(null), 1 < o.size)) throw new ke(2, 4, 4010);
        if (
          (t ||
            ((a = i.filter(function (e) {
              return (
                "urn:mpeg:dash:mp4protection:2011" != e.Ge ||
                ((r = e.init || r), !1)
              );
            })).length &&
              0 ==
                (e = (function (e, t, n, i) {
                  for (
                    var r, a = [], o = (t = Ee(t)).next();
                    !o.done;
                    o = t.next()
                  ) {
                    o = o.value;
                    var s,
                      u,
                      l = n[o.Ge];
                    l &&
                      ((r = (r = pr(o.node, "urn:microsoft:playready", "pro"))
                        ? ((r = cn(r.textContent)),
                          (s = new Uint8Array([
                            154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230,
                            91, 224, 136, 95, 149,
                          ])),
                          [
                            {
                              initData: hr(r, s, new Set(), 0),
                              initDataType: "cenc",
                              keyId: o.keyId,
                            },
                          ])
                        : null),
                      (s = null),
                      "urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e" ===
                        o.Ge &&
                        (s =
                          0 == (s = i).size
                            ? null
                            : ((u = new Uint8Array([
                                16, 119, 239, 236, 192, 178, 77, 2, 172, 227,
                                60, 30, 82, 226, 251, 75,
                              ])),
                              [
                                {
                                  initData: hr(new Uint8Array([]), u, s, 1),
                                  initDataType: "cenc",
                                  keyId: o.keyId,
                                },
                              ])),
                      (r = Ke(l, o.init || e || r || s)),
                      (l = $c.get(l)) && (r.licenseServerUri = l(o)),
                      a.push(r));
                  }
                  return a;
                })(r, a, n, o)).length &&
              (e = [Ke("", r)])),
          i.length && (t || !a.length))
        )
          for (
            e = [], n = (t = Ee(Object.values(n))).next();
            !n.done;
            n = t.next()
          )
            "org.w3.clearkey" != (n = n.value) && e.push(Ke(n, r));
        if ((o = Array.from(o)[0] || null))
          for (n = (t = Ee(e)).next(); !n.done; n = t.next())
            for (i = (n = Ee(n.value.initData)).next(); !i.done; i = n.next())
              i.value.keyId = o;
        return { zf: o, rj: r, drmInfos: e, Df: !0 };
      }
      function qc(e) {
        if (!(e = pr(e.node, "urn:microsoft:playready", "pro"))) return "";
        if (
          !(e = (function (e) {
            var t,
              n = 0,
              i = Ut(e);
            if (i.getUint32(0, !0) != e.byteLength) return [];
            e: {
              for (e = 6, n = []; e < i.byteLength - 1; ) {
                (t = i.getUint16(e, !0)), (e += 2);
                var r = i.getUint16(e, !0);
                if (((e += 2), 0 != (1 & r) || r + e > i.byteLength)) {
                  i = [];
                  break e;
                }
                var a = R(i, e, r);
                n.push({ type: t, value: a }), (e += r);
              }
              i = n;
            }
            return i;
          })((e = cn(e.textContent))).filter(function (e) {
            return e.type === Yc;
          })[0])
        )
          return "";
        if ((e = Mr((e = tn(e.value, !0)), "WRMHEADER"))) {
          for (
            var t = e, n = (t = Ee(t.getElementsByTagName("DATA"))).next();
            !n.done;
            n = t.next()
          )
            for (
              var i = (n = Ee(n.value.childNodes)).next();
              !i.done;
              i = n.next()
            )
              if ((i = i.value) instanceof Element && "LA_URL" == i.tagName)
                return i.textContent;
          return "";
        }
        return "";
      }
      var Yc = 1,
        $c = new Map()
          .set("com.widevine.alpha", function (e) {
            return (
              ((e = pr(e.node, "urn:microsoft", "laurl")) &&
                e.getAttribute("licenseUrl")) ||
              ""
            );
          })
          .set("com.microsoft.playready", qc)
          .set("com.microsoft.playready.recommendation", qc)
          .set("com.microsoft.playready.software", qc)
          .set("com.microsoft.playready.hardware", qc)
          .set("org.w3.clearkey", function (e) {
            return (e = pr(
              e.node,
              "http://dashif.org/guidelines/clearKey",
              "Laurl"
            )) &&
              "EME-1.0" === e.getAttribute("Lic_type") &&
              e.textContent
              ? e.textContent
              : "";
          });
      function Jc(e, t, n, i, r) {
        var a = { RepresentationID: t, Number: n, Bandwidth: i, Time: r };
        return e.replace(
          /\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,
          function (e, t, n, i) {
            if ("$$" == e) return "$";
            var r = a[t];
            if (null == r) return e;
            switch (
              ("RepresentationID" == t && n && (n = void 0),
              "Time" == t && (r = Math.round(r)),
              i)
            ) {
              case void 0:
              case "d":
              case "i":
              case "u":
                e = r.toString();
                break;
              case "o":
                e = r.toString(8);
                break;
              case "x":
                e = r.toString(16);
                break;
              case "X":
                e = r.toString(16).toUpperCase();
                break;
              default:
                e = r.toString();
            }
            return (
              (n = N.parseInt(n, 10) || 1),
              Array(Math.max(0, n - e.length) + 1).join("0") + e
            );
          }
        );
      }
      function Qc(e, t) {
        var n = 1,
          i =
            ((r = Zc(e, t, "timescale")) && (n = xr(r) || 1),
            Zc(e, t, "duration")),
          r = xr(i || ""),
          a =
            ((r = "image" == e.L.contentType ? kr(i || "") : r) && (r /= n),
            Zc(e, t, "startNumber")),
          i = Number(Zc(e, t, "presentationTimeOffset")) || 0,
          o = Ir(a || ""),
          s =
            ((null != a && null != o) || (o = 1), ed(e, t, "SegmentTimeline"));
        if (((a = null), s)) {
          for (
            var a = n,
              u = e.Z.duration || 1 / 0,
              s = gr(s, "S"),
              l = [],
              c = -i,
              d = 0;
            d < s.length;
            ++d
          ) {
            var h = s[d],
              f = s[d + 1],
              p = U(h, "t", Ir),
              g = U(h, "d", Ir),
              h = U(h, "r", Sr);
            if ((null != p && (p -= i), !g)) break;
            if (((p = null != p ? p : c), (h = h || 0) < 0))
              if (f) {
                if (null == (f = U(f, "t", Ir))) break;
                if (f <= p) break;
                h = Math.ceil((f - p) / g) - 1;
              } else {
                if (1 / 0 == u) break;
                if (u <= p / a) break;
                h = Math.ceil((u * a - p) / g) - 1;
              }
            for (
              0 < l.length && p != c && (l[l.length - 1].end = p / a), f = 0;
              f <= h;
              ++f
            )
              l.push({ start: p / a, end: (c = p + g) / a, Mh: p }), (p = c);
          }
          a = l;
        }
        return {
          timescale: n,
          wa: r,
          nc: o,
          pb: i / n || 0,
          $e: i,
          timeline: a,
        };
      }
      function Zc(e, t, n) {
        return [t(e.L), t(e.za), t(e.qa)]
          .filter(Fe)
          .map(function (e) {
            return e.getAttribute(n);
          })
          .reduce(function (e, t) {
            return e || t;
          });
      }
      function ed(e, t, n) {
        return [t(e.L), t(e.za), t(e.qa)]
          .filter(Fe)
          .map(function (e) {
            return fr(e, n);
          })
          .reduce(function (e, t) {
            return e || t;
          });
      }
      function td(e, t, n, i, r, a) {
        if (
          ((a = void 0 === a ? 0 : a),
          vr(e, "http://www.w3.org/1999/xlink", "href"))
        )
          return (
            (o = (function (n, i, r, e, a, o) {
              for (
                var s = vr(n, "http://www.w3.org/1999/xlink", "href"),
                  t =
                    vr(n, "http://www.w3.org/1999/xlink", "actuate") ||
                    "onRequest",
                  u = Ee(Array.from(n.attributes)),
                  l = u.next();
                !l.done;
                l = u.next()
              )
                "http://www.w3.org/1999/xlink" == (l = l.value).namespaceURI &&
                  n.removeAttributeNS(l.namespaceURI, l.localName);
              if (5 <= o) return Ri(new ke(2, 4, 4028));
              if ("onLoad" != t) return Ri(new ke(2, 4, 4027));
              var c = Ge([e], [s]);
              return a.request(0, zi(c, i)).ia(function (e) {
                if (!(e = Lr(e.data, n.tagName)))
                  return Ri(new ke(2, 4, 4001, s));
                for (; n.childNodes.length; ) n.removeChild(n.childNodes[0]);
                for (; e.childNodes.length; ) {
                  var t = e.childNodes[0];
                  e.removeChild(t), n.appendChild(t);
                }
                for (
                  t = (e = Ee(Array.from(e.attributes))).next();
                  !t.done;
                  t = e.next()
                )
                  n.setAttributeNode(t.value.cloneNode(!1));
                return td(n, i, r, c[0], a, o + 1);
              });
            })(e, t, n, i, r, a)),
            n
              ? o.ia(void 0, function () {
                  return td(e, t, n, i, r, a);
                })
              : o
          );
        for (
          var o = [], s = Ee(Array.from(e.childNodes)), u = s.next();
          !u.done;
          u = s.next()
        )
          (u = u.value) instanceof Element &&
            ("urn:mpeg:dash:resolve-to-zero:2013" ==
            vr(u, "http://www.w3.org/1999/xlink", "href")
              ? e.removeChild(u)
              : "SegmentTimeline" != u.tagName && o.push(td(u, t, n, i, r, a)));
        return Oi(o).ia(function () {
          return e;
        });
      }
      function nd(e, t, n, i, r, a, o) {
        var s,
          u = new nr().X("sidx", function (e) {
            s = (function (e, t, n, i, r, a, o) {
              var s = [],
                u = (o.reader.skip(4), o.reader.P());
              if (0 == u) throw new ke(2, 3, 3005);
              {
                var l, c;
                c =
                  0 == o.version
                    ? ((l = o.reader.P()), o.reader.P())
                    : ((l = o.reader.Db()), o.reader.Db());
              }
              o.reader.skip(2);
              var d = o.reader.Ce();
              for (e = e + o.size + c, c = 0; c < d; c++) {
                var h = o.reader.P(),
                  f = (2147483648 & h) >>> 31,
                  p = ((h &= 2147483647), o.reader.P());
                if ((o.reader.skip(4), 1 == f)) throw new ke(2, 3, 3006);
                s.push(
                  new j(
                    l / u + n,
                    (l + p) / u + n,
                    function () {
                      return a;
                    },
                    e,
                    e + h - 1,
                    t,
                    n,
                    i,
                    r
                  )
                ),
                  (l += p),
                  (e += h);
              }
              return o.parser.stop(), s;
            })(t, i, r, a, o, n, e);
          });
        if ((e && u.parse(e), s)) return s;
        throw new ke(2, 3, 3004);
      }
      function id(e) {
        (this.h = Ut(e)), (this.g = new D(this.h, 0));
      }
      function rd(e) {
        var t = ad(e);
        if (7 < t.length) throw new ke(2, 3, 3002);
        for (var n = 0, i = (t = Ee(t)).next(); !i.done; i = t.next())
          n = 256 * n + i.value;
        t = ad(e);
        e: {
          for (var r = (i = Ee(od)).next(); !r.done; r = i.next())
            if (Pt(t, new Uint8Array(r.value))) {
              i = !0;
              break e;
            }
          i = !1;
        }
        if (i) t = e.h.byteLength - e.g.na();
        else {
          if (8 == t.length && 224 & t[1]) throw new ke(2, 3, 3001);
          for (r = i = 0; r < t.length; r++) {
            var a = t[r];
            i = 0 == r ? a & ((1 << (8 - t.length)) - 1) : 256 * i + a;
          }
          t = i;
        }
        return (
          (t = e.g.na() + t <= e.h.byteLength ? t : e.h.byteLength - e.g.na()),
          (i = Ut(e.h, e.g.na(), t)),
          e.g.skip(t),
          new sd(n, i)
        );
      }
      function ad(e) {
        var t = e.g.na(),
          n = e.g.ob();
        if (0 == n) throw new ke(2, 3, 3002);
        return (
          (n = 8 - Math.floor(Math.log2(n))), e.g.skip(n - 1), R(e.h, t, n)
        );
      }
      id.prototype.Ca = function () {
        return this.g.Ca();
      };
      var od = [
        [255],
        [127, 255],
        [63, 255, 255],
        [31, 255, 255, 255],
        [15, 255, 255, 255, 255],
        [7, 255, 255, 255, 255, 255],
        [3, 255, 255, 255, 255, 255, 255],
        [1, 255, 255, 255, 255, 255, 255, 255],
      ];
      function sd(e, t) {
        (this.id = e), (this.g = t);
      }
      function ud(e) {
        if (8 < e.g.byteLength) throw new ke(2, 3, 3002);
        if (8 == e.g.byteLength && 224 & e.g.getUint8(0))
          throw new ke(2, 3, 3001);
        for (var t = 0, n = 0; n < e.g.byteLength; n++)
          t = 256 * t + e.g.getUint8(n);
        return t;
      }
      function ld(e, t, n, i, r, a, o, s, u) {
        function l() {
          return r;
        }
        var c = [];
        e = new id(e.g);
        for (var d = null, h = null; e.Ca(); ) {
          var f,
            p = rd(e);
          187 != p.id ||
            ((f = (function (e) {
              var t = new id(e.g);
              if (179 != (e = rd(t)).id) throw new ke(2, 3, 3013);
              if (((e = ud(e)), 183 != (t = rd(t)).id))
                throw new ke(2, 3, 3012);
              t = new id(t.g);
              for (var n = 0; t.Ca(); ) {
                var i = rd(t);
                if (241 == i.id) {
                  n = ud(i);
                  break;
                }
              }
              return { Nh: e, wh: n };
            })(p)) &&
              ((p = n * f.Nh),
              (f = t + f.wh),
              null != d && c.push(new j(d + o, p + o, l, h, f - 1, a, o, s, u)),
              (d = p),
              (h = f)));
        }
        return (
          null != d && c.push(new j(d + o, i + o, l, h, null, a, o, s, u)), c
        );
      }
      function cd(e, t) {
        t = ed(e, t, "Initialization");
        if (!t) return null;
        var n = e.L.Na,
          i = t.getAttribute("sourceURL"),
          r = (i && (n = Ge(e.L.Na, [i])), (i = 0), null);
        return (
          (t = U(t, "range", wr)) && ((i = t.start), (r = t.end)),
          new vo(
            function () {
              return n;
            },
            i,
            r,
            md(e)
          )
        );
      }
      function dd(e, n) {
        var t = Number(Zc(e, fd, "presentationTimeOffset")) || 0,
          i = Zc(e, fd, "timescale"),
          r = 1,
          a = t / (r = i ? xr(i) || 1 : r) || 0,
          o = cd(e, fd),
          t = e;
        if ((gd(t, o), !pd(t))) throw new ke(2, 4, 4002);
        var s = ji(e);
        return {
          ac: function () {
            var e = ed(s, fd, "RepresentationIndex"),
              t = s.L.Na;
            return (
              (e = e && e.getAttribute("sourceURL")) && (t = Ge(s.L.Na, [e])),
              (e = pd(s)),
              hd(s, n, o, t, e.start, e.end, a)
            );
          },
        };
      }
      function hd(o, s, u, l, c, d, h) {
        var f, p, g, m, v, y, b, E, T, A, w, S;
        return Ie(function (e) {
          if (1 == e.g)
            return (
              (f = o.presentationTimeline),
              (p = !o.wb || !o.Z.Mf),
              (g = o.Z.start),
              (m = o.Z.duration),
              (v = o.L.mimeType.split("/")[1]),
              (y = null),
              (E = [
                (b = s)(l, c, d),
                "webm" == v ? b(u.Pa(), u.Sa, u.Ba) : null,
              ]),
              (b = null),
              Te(e, Promise.all(E), 2)
            );
          if (
            ((b = e.h),
            (E = b[0]),
            (T = b[1] || null),
            (A = g - h),
            (w = g),
            (S = m ? g + m : 1 / 0),
            "mp4" == v)
          )
            var t = nd(E, c, l, u, A, w, S);
          else {
            if (440786851 != rd((t = new id(T))).id) throw new ke(2, 3, 3008);
            if (408125543 != (n = rd(t)).id) throw new ke(2, 3, 3009);
            for (var t = n.g.byteOffset, n = new id(n.g), i = null; n.Ca(); ) {
              var r = rd(n);
              if (357149030 == r.id) {
                i = r;
                break;
              }
            }
            if (!i) throw new ke(2, 3, 3010);
            for (i = new id(i.g), r = 1e6, n = null; i.Ca(); ) {
              var a = rd(i);
              if (2807729 == a.id) r = ud(a);
              else if (17545 == a.id)
                if (4 == a.g.byteLength) n = a.g.getFloat32(0);
                else {
                  if (8 != a.g.byteLength) throw new ke(2, 3, 3003);
                  n = a.g.getFloat64(0);
                }
            }
            if (null == n) throw new ke(2, 3, 3011);
            if (((n *= i = r / 1e9), 475249515 != (r = rd(new id(E))).id))
              throw new ke(2, 3, 3007);
            t = ld(r, t, i, n, l, u, A, w, S);
          }
          return (
            (T = t), f.kc(T), (y = new K(T)), p && y.xb(w, S, !0), e.return(y)
          );
        });
      }
      function fd(e) {
        return e.Wc;
      }
      function pd(e) {
        var t = ed(e, fd, "RepresentationIndex");
        return (
          (e = wr((e = Zc(e, fd, "indexRange")) || "")),
          (e = t ? U(t, "range", wr, e) : e)
        );
      }
      function gd(e, t) {
        var n = e.L.mimeType.split("/")[1];
        if (e.L.contentType != G && "mp4" != n && "webm" != n)
          throw new ke(2, 4, 4006);
        if ("webm" == n && !t) throw new ke(2, 4, 4005);
      }
      function md(e) {
        var t = e.L;
        return {
          bandwidth: e.bandwidth,
          audioSamplingRate: t.audioSamplingRate,
          codecs: t.codecs,
          contentType: t.contentType,
          frameRate: t.frameRate || null,
          height: t.height || null,
          mimeType: t.mimeType,
          channelsCount: t.Bd,
          pixelAspectRatio: t.pixelAspectRatio || null,
          width: t.width || null,
        };
      }
      function vd(e, t) {
        var n,
          i,
          r = cd(e, yd),
          a =
            ((i = (function (t) {
              return [t.L.Eb, t.za.Eb, t.qa.Eb]
                .filter(Fe)
                .map(function (e) {
                  return gr(e, "SegmentURL");
                })
                .reduce(function (e, t) {
                  return 0 < e.length ? e : t;
                })
                .map(function (e) {
                  return (
                    e.getAttribute("indexRange") && !t.Kf && (t.Kf = !0),
                    {
                      lh: e.getAttribute("media"),
                      start: (e = U(e, "mediaRange", wr, {
                        start: 0,
                        end: null,
                      })).start,
                      end: e.end,
                    }
                  );
                });
            })((n = e))),
            0 == (s = (n = Qc(n, yd)).nc) && (s = 1),
            (a = 0),
            n.wa
              ? (a = n.wa * (s - 1))
              : n.timeline &&
                0 < n.timeline.length &&
                (a = n.timeline[0].start),
            {
              wa: n.wa,
              startTime: a,
              nc: s,
              pb: n.pb,
              timeline: n.timeline,
              ic: i,
            });
        if (!a.wa && !a.timeline && 1 < a.ic.length) throw new ke(2, 4, 4002);
        if (!a.wa && !e.Z.duration && !a.timeline && 1 == a.ic.length)
          throw new ke(2, 4, 4002);
        if (a.timeline && 0 == a.timeline.length) throw new ke(2, 4, 4002);
        var o = null,
          s = null,
          u =
            (e.qa.id &&
              e.L.id &&
              (s = t[e.qa.id + "," + e.L.id]) &&
              (o = s.segmentIndex),
            (function (e, t, n, i, r) {
              var a = i.ic.length;
              i.timeline &&
                i.timeline.length != i.ic.length &&
                (a = Math.min(i.timeline.length, i.ic.length));
              for (
                var o = e - i.pb,
                  s = t ? e + t : 1 / 0,
                  u = [],
                  l = i.startTime,
                  c = {},
                  d = 0;
                d < a;
                c = { Vd: c.Vd }, d++
              ) {
                var h = i.ic[d],
                  f = ((c.Vd = Ge(n, [h.lh])), void 0);
                (f =
                  null != i.wa
                    ? l + i.wa
                    : i.timeline
                    ? i.timeline[d].end
                    : l + t),
                  u.push(
                    new j(
                      e + l,
                      e + f,
                      (function (e) {
                        return function () {
                          return e.Vd;
                        };
                      })(c),
                      h.start,
                      h.end,
                      r,
                      o,
                      e,
                      s
                    )
                  ),
                  (l = f);
              }
              return u;
            })(e.Z.start, e.Z.duration, e.L.Na, a, r)),
          r = !o;
        return (
          o ? o.jc(u, e.presentationTimeline.kb()) : (o = new K(u)),
          e.presentationTimeline.kc(u),
          (e.wb && e.Z.Mf) ||
            o.xb(e.Z.start, e.Z.duration ? e.Z.start + e.Z.duration : 1 / 0, r),
          s && (s.segmentIndex = o),
          {
            ac: function () {
              return (o && 0 != o.g.length) || o.Qc(u), Promise.resolve(o);
            },
          }
        );
      }
      function yd(e) {
        return e.Eb;
      }
      function bd(e, t, n, i, x, I) {
        var k = (function (e) {
            var t = Zc(e, Ed, "initialization");
            if (!t) return null;
            var n = e.L.id,
              i = e.bandwidth || null,
              r = e.L.Na;
            return new vo(
              function () {
                var e = Jc(t, n, null, i, null);
                return Ge(r, [e]);
              },
              0,
              null,
              md(e)
            );
          })(e),
          C =
            ((r = Qc((u = e), Ed)),
            (a = Zc(u, Ed, "media")),
            (u = Zc(u, Ed, "index")),
            {
              wa: r.wa,
              timescale: r.timescale,
              nc: r.nc,
              pb: r.pb,
              $e: r.$e,
              timeline: r.timeline,
              xe: a,
              Nc: u,
            }),
          r = C,
          a = r.Nc ? 1 : 0;
        if (0 == (a = (a += r.timeline ? 1 : 0) + (r.wa ? 1 : 0)))
          throw new ke(2, 4, 4002);
        if (
          (1 != a && (r.Nc && (r.timeline = null), (r.wa = null)),
          !r.Nc && !r.xe)
        )
          throw new ke(2, 4, 4002);
        var M = ji(e);
        if (C.Nc)
          return (
            gd(e, k),
            {
              ac: function () {
                var e = Jc(C.Nc, M.L.id, null, M.bandwidth || null, null),
                  e = Ge(M.L.Na, [e]);
                return hd(M, t, k, e, 0, null, C.pb);
              },
            }
          );
        if (C.wa)
          return (
            i ||
              (e.presentationTimeline.ye(C.wa),
              e.presentationTimeline.ze(e.Z.start)),
            {
              ac: function () {
                var e = M,
                  r = C,
                  t = x,
                  a = k,
                  n = I;
                function o(t) {
                  var n = (i = (t - f) * h) + r.pb,
                    e = i + c,
                    i = e + h;
                  return (
                    ((e = new j(
                      e,
                      Math.min(i, u()),
                      function () {
                        var e = Jc(g, v, t, m, n * p);
                        return Ge(y, [e]);
                      },
                      0,
                      null,
                      a,
                      b,
                      c,
                      u()
                    )).j = i),
                    e
                  );
                }
                function s() {
                  var e = [Math.max(l.kb(), c), Math.min(l.Jb(), u())].map(
                    function (e) {
                      return e - c;
                    }
                  );
                  return [Math.ceil(e[0] / h), Math.ceil(e[1] / h) - 1].map(
                    function (e) {
                      return e + f;
                    }
                  );
                }
                function u() {
                  var e = (null != i && n[i]) || d;
                  return e ? c + e : 1 / 0;
                }
                var l = e.presentationTimeline,
                  c = e.Z.start,
                  i = e.qa.id,
                  d = e.Z.duration,
                  h = r.wa,
                  f = r.nc,
                  p = r.timescale,
                  g = r.xe,
                  m = e.bandwidth || null,
                  v = e.L.id,
                  y = e.L.Na,
                  b = c - r.pb,
                  E = s();
                (e = e.wb ? Math.max(E[0], E[1] - t + 1) : E[0]),
                  (E = E[1]),
                  (t = []);
                for (var T = e; T <= E; ++T) {
                  var A = o(T);
                  t.push(A);
                }
                var w,
                  S = new K(t);
                return (
                  (t = l.Jb() < u()),
                  (T = l.T()),
                  (t || T) &&
                    ((w = Math.max(e, E + 1)),
                    S.Nd(h, function () {
                      var e = l.kb();
                      S.Hb(e), (t = Ee(s())).next();
                      for (var t = t.next().value, n = []; w <= t; ) {
                        var i = o(w);
                        n.push(i), w++;
                      }
                      return e > u() && !n.length ? null : n;
                    })),
                  Promise.resolve(S)
                );
              },
            }
          );
        var o = null,
          s =
            ((i = null),
            e.qa.id &&
              e.L.id &&
              (i = n[(i = e.qa.id + "," + e.L.id)]) &&
              (o = i.segmentIndex),
            (function (e, t, n) {
              var i = e.Z.start,
                r = e.Z.duration,
                a = i - t.pb;
              r = r ? i + r : 1 / 0;
              for (
                var o = [], s = {}, u = 0;
                u < t.timeline.length;
                s = {
                  Ud: s.Ud,
                  Yd: s.Yd,
                  ae: s.ae,
                  Rd: s.Rd,
                  ce: s.ce,
                  Sd: s.Sd,
                },
                  u++
              ) {
                var l = t.timeline[u],
                  c = l.start,
                  d = l.Mh;
                (l = l.end),
                  (s.ae = u + t.nc),
                  (s.ce = d + t.$e),
                  (s.Yd = e.L.id),
                  (s.Rd = e.bandwidth || null),
                  (s.Ud = t.xe),
                  (s.Sd = e.L.Na),
                  o.push(
                    new j(
                      i + c,
                      i + l,
                      (function (t) {
                        return function () {
                          var e = Jc(t.Ud, t.Yd, t.ae, t.Rd || null, t.ce);
                          return Ge(t.Sd, [e]).map(function (e) {
                            return e.toString();
                          });
                        };
                      })(s),
                      0,
                      null,
                      n,
                      a,
                      i,
                      r
                    )
                  );
              }
              return o;
            })(M, C, k)),
          u =
            ((n = e.Z.start), e.Z.duration ? e.Z.start + e.Z.duration : 1 / 0),
          a = 1 / 0 != u;
        return (
          o
            ? (a && new K(s).xb(n, u, !0), o.jc(s, e.presentationTimeline.kb()))
            : (o = new K(s)),
          e.presentationTimeline.kc(s),
          a && o.xb(n, u),
          i && e.wb && (i.segmentIndex = o),
          {
            ac: function () {
              return (o && 0 != o.g.length) || o.Qc(s), Promise.resolve(o);
            },
          }
        );
      }
      function Ed(e) {
        return e.Xc;
      }
      function Td() {
        (this.l = []),
          (this.g = []),
          (this.h = []),
          (this.j = []),
          (this.i = []),
          (this.m = new Set());
      }
      function Ad(_, P, D) {
        var O,
          U,
          j,
          B,
          F,
          G,
          K,
          z,
          V,
          H,
          X,
          W,
          q,
          Y,
          $,
          J,
          Q,
          Z,
          ee,
          te,
          ne,
          ie,
          re,
          ae,
          oe,
          se,
          ue;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              O = He;
              for (var t = P, n = (t = Ee(t)).next(); !n.done; n = t.next()) {
                n = n.value;
                for (
                  var i = [], r = Ee(n.ld), a = r.next();
                  !a.done;
                  a = r.next()
                ) {
                  a = a.value;
                  for (
                    var o = !1, s = Ee(i), u = s.next();
                    !u.done;
                    u = s.next()
                  )
                    (u = u.value),
                      a.id != u.id &&
                        a.channelsCount == u.channelsCount &&
                        a.language == u.language &&
                        a.bandwidth == u.bandwidth &&
                        a.label == u.label &&
                        a.codecs == u.codecs &&
                        a.mimeType == u.mimeType &&
                        ht(a.roles, u.roles) &&
                        a.audioSamplingRate == u.audioSamplingRate &&
                        a.primary == u.primary &&
                        (o = !0);
                  o || i.push(a);
                }
                n.ld = i;
              }
              for (var l = P, c = (l = Ee(l)).next(); !c.done; c = l.next()) {
                c = c.value;
                for (
                  var d = [], h = Ee(c.Od), f = h.next();
                  !f.done;
                  f = h.next()
                ) {
                  f = f.value;
                  for (
                    var p = !1, g = Ee(d), m = g.next();
                    !m.done;
                    m = g.next()
                  )
                    (m = m.value),
                      f.id != m.id &&
                        f.width == m.width &&
                        f.frameRate == m.frameRate &&
                        f.codecs == m.codecs &&
                        f.mimeType == m.mimeType &&
                        f.label == m.label &&
                        ht(f.roles, m.roles) &&
                        (function (e, t) {
                          if (!e && !t) return 1;
                          if (!((e && !t) || (t && !e)) && e.size == t.size) {
                            for (
                              var n = Ee(e), i = n.next();
                              !i.done;
                              i = n.next()
                            ) {
                              var i = (r = Ee(i.value)).next().value,
                                r = r.next().value;
                              if (!t.has(i)) return;
                              if ((i = t.get(i)) != r || null == i) return;
                            }
                            return 1;
                          }
                        })(f.closedCaptions, m.closedCaptions) &&
                        f.bandwidth == m.bandwidth &&
                        (p = !0);
                  p || d.push(f);
                }
                c.Od = d;
              }
              for (var v = P, y = (v = Ee(v)).next(); !y.done; y = v.next()) {
                y = y.value;
                for (
                  var b = [], E = Ee(y.textStreams), T = E.next();
                  !T.done;
                  T = E.next()
                ) {
                  T = T.value;
                  for (
                    var A = !1, w = Ee(b), S = w.next();
                    !S.done;
                    S = w.next()
                  )
                    (S = S.value),
                      T.id != S.id &&
                        T.language == S.language &&
                        T.label == S.label &&
                        T.codecs == S.codecs &&
                        T.mimeType == S.mimeType &&
                        T.bandwidth == S.bandwidth &&
                        ht(T.roles, S.roles) &&
                        (A = !0);
                  A || b.push(T);
                }
                y.textStreams = b;
              }
              for (var x = P, I = (x = Ee(x)).next(); !I.done; I = x.next()) {
                I = I.value;
                for (
                  var k = [], C = Ee(I.imageStreams), M = C.next();
                  !M.done;
                  M = C.next()
                ) {
                  M = M.value;
                  for (
                    var L = !1, N = Ee(k), R = N.next();
                    !R.done;
                    R = N.next()
                  )
                    (R = R.value),
                      M.id != R.id &&
                        M.width == R.width &&
                        M.codecs == R.codecs &&
                        M.mimeType == R.mimeType &&
                        (L = !0);
                  L || k.push(M);
                }
                I.imageStreams = k;
              }
              if (!D && 1 == P.length) {
                (F = P[0]),
                  (_.g = F.ld),
                  (_.h = F.Od),
                  (_.j = F.textStreams),
                  (_.i = F.imageStreams),
                  e.D(2);
                break;
              }
              for (U = -1, j = 0; j < P.length; j++)
                (B = P[j]),
                  _.m.has(B.id) || (_.m.add(B.id), -1 == U && (U = j));
              if (-1 == U) return e.return();
              for (
                F = P.map(function (e) {
                  return e.ld;
                }),
                  G = P.map(function (e) {
                    return e.Od;
                  }),
                  K = P.map(function (e) {
                    return e.textStreams;
                  }),
                  z = P.map(function (e) {
                    return e.imageStreams;
                  }),
                  V = Ee(K),
                  H = V.next();
                !H.done;
                H = V.next()
              )
                H.value.push(Fd(O.ma));
              for (X = Ee(z), W = X.next(); !W.done; W = X.next())
                W.value.push(Fd(O.zc));
              return Te(e, Sd(_.g, F, U, kd, Md), 3);
            case 3:
              return Te(e, Sd(_.h, G, U, kd, Md), 4);
            case 4:
              return Te(e, Sd(_.j, K, U, kd, Md), 5);
            case 5:
              return Te(e, Sd(_.i, z, U, kd, Md), 2);
            case 2:
              if (((q = 0), (Y = []), _.h.length && _.g.length))
                for (te = Ee(_.g), ne = te.next(); !ne.done; ne = te.next())
                  for (
                    ie = ne.value, re = Ee(_.h), ae = re.next();
                    !ae.done;
                    ae = re.next()
                  )
                    (oe = ae.value),
                      (se = Xr(ie.drmInfos, oe.drmInfos)),
                      (ie.drmInfos.length &&
                        oe.drmInfos.length &&
                        !se.length) ||
                        ((ue = q++),
                        Y.push({
                          id: ue,
                          language: ie.language,
                          primary: ie.primary,
                          audio: ie,
                          video: oe,
                          bandwidth: (ie.bandwidth || 0) + (oe.bandwidth || 0),
                          drmInfos: se,
                          allowedByApplication: !0,
                          allowedByKeySystem: !0,
                          decodingInfos: [],
                        }));
              else
                for (
                  $ = _.h.concat(_.g), J = Ee($), Q = J.next();
                  !Q.done;
                  Q = J.next()
                )
                  (Z = Q.value),
                    (ee = q++),
                    Y.push({
                      id: ee,
                      language: Z.language,
                      primary: Z.primary,
                      audio: Z.type == O.gd ? Z : null,
                      video: Z.type == O.Ma ? Z : null,
                      bandwidth: Z.bandwidth || 0,
                      drmInfos: Z.drmInfos,
                      allowedByApplication: !0,
                      allowedByKeySystem: !0,
                      decodingInfos: [],
                    });
              (_.l = Y), Ae(e);
          }
        });
      }
      function wd(t) {
        var n, i, r, a, o, s, u, l, c, d, h, f, p, g, m, v, y, b, E, T, A, w, S;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if (((n = He), 1 == t.length)) return e.return(t[0]);
              for (
                f = t.map(function (e) {
                  return e.filter(function (e) {
                    return e.type == n.gd;
                  });
                }),
                  i = t.map(function (e) {
                    return e.filter(function (e) {
                      return e.type == n.Ma;
                    });
                  }),
                  r = t.map(function (e) {
                    return e.filter(function (e) {
                      return e.type == n.ma;
                    });
                  }),
                  a = t.map(function (e) {
                    return e.filter(function (e) {
                      return e.type == n.zc;
                    });
                  }),
                  o = Ee(r),
                  s = o.next();
                !s.done;
                s = o.next()
              )
                s.value.push(Bd(n.ma));
              for (u = Ee(a), l = u.next(); !l.done; l = u.next())
                l.value.push(Bd(n.zc));
              return Te(e, Sd([], f, 0, Cd, Ld), 2);
            case 2:
              return (c = e.h), Te(e, Sd([], i, 0, Cd, Ld), 3);
            case 3:
              return (d = e.h), Te(e, Sd([], r, 0, Cd, Ld), 4);
            case 4:
              return (h = e.h), Te(e, Sd([], a, 0, Cd, Ld), 5);
            case 5:
              if (((f = e.h), (p = 0), d.length && c.length))
                for (y = Ee(c), b = y.next(); !b.done; b = y.next())
                  for (
                    E = b.value, T = Ee(d), A = T.next();
                    !A.done;
                    A = T.next()
                  )
                    (w = A.value),
                      (S = p++),
                      w.variantIds.push(S),
                      E.variantIds.push(S);
              else
                for (
                  g = d.concat(c), m = Ee(g), v = m.next();
                  !v.done;
                  v = m.next()
                )
                  v.value.variantIds = [p++];
              return e.return(d.concat(c).concat(h).concat(f));
          }
        });
      }
      function Sd(o, s, u, l, c) {
        var d, h, f, p, g, m, v, y, b, E, T, A, w, S, x, I, k, C;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              for (d = He, h = [], f = 0; f < s.length; f++)
                u <= f ? h.push(new Set(s[f])) : h.push(new Set());
              (p = Ee(o)), (g = p.next());
            case 2:
              if (g.done) {
                e.D(4);
                break;
              }
              return (
                (m = g.value),
                Te(
                  e,
                  ((t = m),
                  (n = s),
                  (i = u),
                  (r = c),
                  (a = h),
                  Ie(function (e) {
                    return 1 == e.g
                      ? (Nd(n, t),
                        t.matchedStreams
                          ? t.segmentIndex
                            ? Te(e, xd(t, i), 2)
                            : e.D(2)
                          : e.return(!1))
                      : (Id(t, i, r, a), e.return(!0));
                  })),
                  5
                )
              );
            case 5:
              if (!e.h) throw new ke(2, 4, 4037);
              (g = p.next()), e.D(2);
              break;
            case 4:
              for (v = Ee(h), y = v.next(); !y.done; y = v.next())
                for (
                  b = y.value, E = Ee(b), T = E.next();
                  !T.done;
                  T = E.next()
                )
                  (A = T.value),
                    (A = (function (e, t, n, i, r) {
                      var a = n(e);
                      return (
                        Nd(t, a),
                        a.createSegmentIndex &&
                          (a.createSegmentIndex = function () {
                            return Ie(function (e) {
                              return a.segmentIndex
                                ? e.D(0)
                                : ((a.segmentIndex = new ws()),
                                  Te(e, xd(a, 0), 0));
                            });
                          }),
                        a.matchedStreams ? (Id(a, 0, i, r), a) : null
                      );
                    })(A, s, l, c, h)) && o.push(A);
              for (w = Ee(h), y = w.next(); !y.done; y = w.next())
                for (
                  S = y.value, x = {}, I = Ee(S), T = I.next();
                  !T.done;
                  x = { ub: x.ub }, T = I.next()
                )
                  if (
                    ((x.ub = T.value),
                    (k = x.ub.type == d.ma && !x.ub.language),
                    (C = x.ub.type == d.zc && !x.ub.tilesLayout),
                    !k &&
                      !C &&
                      o.some(
                        (function (t) {
                          return function (e) {
                            return (
                              e.mimeType == t.ub.mimeType &&
                              xn(e.codecs) == xn(t.ub.codecs)
                            );
                          };
                        })(x)
                      ))
                  )
                    throw new ke(2, 4, 4037);
              return e.return(o);
          }
          var t, n, i, r, a;
        });
      }
      function xd(t, n) {
        var i, r, a, o, s, u, l;
        return Ie(function (e) {
          if (1 == e.g) {
            for (
              i = [], r = t.matchedStreams, a = Ee(r), o = a.next();
              !o.done;
              o = a.next()
            )
              (s = o.value),
                i.push(s.createSegmentIndex()),
                s.trickModeVideo &&
                  !s.trickModeVideo.segmentIndex &&
                  i.push(s.trickModeVideo.createSegmentIndex());
            return Te(e, Promise.all(i), 2);
          }
          if (t.segmentIndex instanceof ws)
            for (u = 0; u < r.length; u++)
              (l = r[u]).segmentIndex &&
                n <= u &&
                t.segmentIndex.l.push(l.segmentIndex);
          Ae(e);
        });
      }
      function Id(e, t, n, i) {
        for (var r, a, o = e.matchedStreams, s = 0; s < o.length; s++)
          t <= s &&
            (n(e, (r = o[s])),
            (a = !0),
            (a =
              "audio" == e.type && 0 == Qe(e.language, r.language) ? !1 : a) &&
              i[s].delete(r));
      }
      function kd(e) {
        var n = Object.assign({}, e);
        return (
          (n.originalId = null),
          (n.createSegmentIndex = function () {
            return Promise.resolve();
          }),
          (n.closeSegmentIndex = function () {
            if (
              (n.segmentIndex &&
                (n.segmentIndex.release(), (n.segmentIndex = null)),
              n.matchedStreams)
            )
              for (
                var e = Ee(n.matchedStreams), t = e.next();
                !t.done;
                t = e.next()
              )
                (t = t.value).segmentIndex &&
                  (t.segmentIndex.release(), (t.segmentIndex = null));
          }),
          (n.segmentIndex = null),
          (n.emsgSchemeIdUris = []),
          (n.keyIds = new Set()),
          (n.closedCaptions = null),
          (n.trickModeVideo = null),
          n
        );
      }
      function Cd(e) {
        return (
          ((e = Object.assign({}, e)).keyIds = new Set()),
          (e.segments = []),
          (e.variantIds = []),
          (e.closedCaptions = null),
          e
        );
      }
      function Md(e, t) {
        (e.roles = Array.from(new Set(e.roles.concat(t.roles)))),
          t.emsgSchemeIdUris &&
            (e.emsgSchemeIdUris = Array.from(
              new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))
            )),
          (e.keyIds =
            ((n = e.keyIds), (i = t.keyIds), new Set([].concat(I(n), I(i))))),
          null == e.originalId
            ? (e.originalId = t.originalId)
            : (e.originalId += "," + (t.originalId || ""));
        var n,
          i,
          r = Xr(e.drmInfos, t.drmInfos);
        if (t.drmInfos.length && e.drmInfos.length && !r.length)
          throw new ke(2, 4, 4038);
        if (
          ((e.drmInfos = r),
          (e.encrypted = e.encrypted || t.encrypted),
          t.closedCaptions)
        ) {
          e.closedCaptions || (e.closedCaptions = new Map());
          for (
            var a = (r = Ee(t.closedCaptions)).next();
            !a.done;
            a = r.next()
          ) {
            var a = (o = Ee(a.value)).next().value,
              o = o.next().value;
            e.closedCaptions.set(a, o);
          }
        }
        t.trickModeVideo
          ? (e.trickModeVideo ||
              ((e.trickModeVideo = kd(t.trickModeVideo)),
              (e.trickModeVideo.createSegmentIndex = function () {
                return (
                  (e.trickModeVideo.segmentIndex = e.segmentIndex.clone()),
                  Promise.resolve()
                );
              })),
            Md(e.trickModeVideo, t.trickModeVideo))
          : e.trickModeVideo && Md(e.trickModeVideo, t);
      }
      function Ld(e, t) {
        e.roles = Array.from(new Set(e.roles.concat(t.roles)));
        var n = t.keyIds;
        if (
          ((n = new Set([].concat(I(e.keyIds), I(n)))),
          (e.keyIds = n),
          (e.encrypted = e.encrypted && t.encrypted),
          e.segments.push.apply(e.segments, I(t.segments)),
          t.closedCaptions)
        ) {
          e.closedCaptions || (e.closedCaptions = new Map());
          for (
            var i = (n = Ee(t.closedCaptions)).next();
            !i.done;
            i = n.next()
          ) {
            var i = (r = Ee(i.value)).next().value,
              r = r.next().value;
            e.closedCaptions.set(i, r);
          }
        }
      }
      function Nd(e, t) {
        for (var n = [], i = Ee(e), r = i.next(); !r.done; r = i.next()) {
          for (
            var a = t,
              o = { audio: Rd, video: Rd, text: _d, image: Pd }[a.type],
              s = { audio: Dd, video: Od, text: Ud, image: jd }[a.type],
              u = null,
              l = (r = Ee(r.value)).next();
            !l.done;
            l = r.next()
          )
            !o(a, (l = l.value)) || (u && !s(a, u, l)) || (u = l);
          if (!(a = u)) return;
          n.push(a);
        }
        t.matchedStreams = n;
      }
      function Rd(e, t) {
        var n;
        return (
          !(n = t.mimeType != e.mimeType || xn(t.codecs) != xn(e.codecs)) &&
            (n = e.drmInfos) &&
            ((n = e.drmInfos),
            (e = t.drmInfos),
            (n = !(!n.length || !e.length || 0 < Xr(n, e).length))),
          !n
        );
      }
      function _d(e, t) {
        return (
          !!e.language &&
          (!t.language || (0 != Qe(e.language, t.language) && t.kind == e.kind))
        );
      }
      function Pd(e) {
        return !!e.tilesLayout;
      }
      function Dd(t, e, n) {
        if (t.id == n.id) return !0;
        var i = Qe(t.language, e.language),
          r = Qe(t.language, n.language);
        return (
          i < r ||
          (!(r < i) &&
            (t.roles.length
              ? ((i = e.roles.filter(function (e) {
                  return t.roles.includes(e);
                })),
                (r = n.roles.filter(function (e) {
                  return t.roles.includes(e);
                })).length > i.length ||
                  (!(r.length < i.length) && n.roles.length < e.roles.length))
              : !(n.roles.length || !e.roles.length) ||
                (!(n.roles.length && !e.roles.length) &&
                  (!(e.primary || !n.primary) ||
                    (!(e.primary && !n.primary) &&
                      ((i = Gd(
                        t.channelsCount,
                        e.channelsCount,
                        n.channelsCount
                      )) == zd ||
                        (i != Hd &&
                          ((i = Gd(
                            t.audioSamplingRate,
                            e.audioSamplingRate,
                            n.audioSamplingRate
                          )) == zd ||
                            (i != Hd &&
                              !(
                                !t.bandwidth ||
                                Kd(t.bandwidth, e.bandwidth, n.bandwidth) != zd
                              ))))))))))
        );
      }
      function Od(e, t, n) {
        if (e.id == n.id) return !0;
        var i = Gd(e.width * e.height, t.width * t.height, n.width * n.height);
        if (i == zd) return !0;
        if (i == Hd) return !1;
        if (e.frameRate) {
          if ((i = Gd(e.frameRate, t.frameRate, n.frameRate)) == zd) return !0;
          if (i == Hd) return !1;
        }
        return !(
          !e.bandwidth || Kd(e.bandwidth, t.bandwidth, n.bandwidth) != zd
        );
      }
      function Ud(t, e, n) {
        if (t.id == n.id) return !0;
        var i = Qe(t.language, e.language),
          r = Qe(t.language, n.language);
        if (i < r) return !0;
        if (r < i) return !1;
        if (!e.primary && n.primary) return !0;
        if (e.primary && !n.primary) return !1;
        if (t.roles.length) {
          if (
            ((i = e.roles.filter(function (e) {
              return t.roles.includes(e);
            })),
            (r = n.roles.filter(function (e) {
              return t.roles.includes(e);
            })).length > i.length)
          )
            return !0;
          if (r.length < i.length) return !1;
        } else {
          if (!n.roles.length && e.roles.length) return !0;
          if (n.roles.length && !e.roles.length) return !1;
        }
        return (
          n.mimeType == t.mimeType &&
          n.codecs == t.codecs &&
          (e.mimeType != t.mimeType || e.codecs != t.codecs)
        );
      }
      function jd(e, t, n) {
        return (
          e.id == n.id ||
          Gd(e.width * e.height, t.width * t.height, n.width * n.height) == zd
        );
      }
      function Bd(e) {
        return {
          id: 0,
          originalId: "",
          primary: !1,
          type: e,
          mimeType: "",
          codecs: "",
          language: "",
          label: null,
          width: null,
          height: null,
          encrypted: !1,
          keyIds: new Set(),
          segments: [],
          variantIds: [],
          roles: [],
          forced: !1,
          channelsCount: null,
          audioSamplingRate: null,
          spatialAudio: !1,
          closedCaptions: null,
        };
      }
      function Fd(e) {
        return {
          id: 0,
          originalId: "",
          createSegmentIndex: function () {
            return Promise.resolve();
          },
          segmentIndex: new K([]),
          mimeType: "",
          codecs: "",
          encrypted: !1,
          drmInfos: [],
          keyIds: new Set(),
          language: "",
          label: null,
          type: e,
          primary: !1,
          trickModeVideo: null,
          emsgSchemeIdUris: null,
          roles: [],
          forced: !1,
          channelsCount: null,
          audioSamplingRate: null,
          spatialAudio: !1,
          closedCaptions: null,
        };
      }
      function Gd(e, t, n) {
        if (t == e && e != n) return Hd;
        if (n == e && e != t) return zd;
        if (e < t) {
          if (n <= e || n - e < t - e) return zd;
          if (t - e < n - e) return Hd;
        } else {
          if (e < n) return Hd;
          if (e - n < e - t) return zd;
          if (e - t < e - n) return Hd;
        }
        return Vd;
      }
      function Kd(e, t, n) {
        return (
          (t = Math.abs(e - t)),
          (e = Math.abs(e - n)) < t ? zd : t < e ? Hd : Vd
        );
      }
      Td.prototype.release = function () {
        for (
          var e = Ee(this.g.concat(this.h, this.j, this.i)), t = e.next();
          !t.done;
          t = e.next()
        )
          (t = t.value).segmentIndex && t.segmentIndex.release();
        (this.g = []),
          (this.h = []),
          (this.j = []),
          (this.i = []),
          (this.l = []);
      };
      var zd = 1,
        Vd = 0,
        Hd = -1;
      function Xd() {
        var e = this;
        (this.h = this.g = null),
          (this.m = []),
          (this.i = null),
          (this.I = 1),
          (this.l = {}),
          (this.M = {}),
          (this.j = new Td()),
          (this.H = 0),
          (this.J = new st(5)),
          (this.G = new M(function () {
            var t, n, i;
            (t = e),
              Ie(function (e) {
                switch (e.g) {
                  case 1:
                    return (n = 0), we(e, 2), Te(e, Wd(t), 4);
                  case 4:
                    (n = e.h), Se(e, 3);
                    break;
                  case 2:
                    (i = xe(e)), t.h && ((i.severity = 1), t.h.onError(i));
                  case 3:
                    if (!t.h) return e.return();
                    $d(t, n), Ae(e);
                }
              });
          })),
          (this.s = new Bi()),
          (this.B = null),
          (this.K = []),
          (this.C = 1 / 0),
          (this.F = !1);
      }
      function Wd(o) {
        var s, u, l, c;
        return Ie(function (e) {
          return 1 == e.g
            ? ((u = zi(o.m, o.g.retryParameters)),
              (l = o.h.networkingEngine),
              o.h.modifyManifestRequest(u, { format: "d" }),
              (s = Date.now()),
              (l = l.request(0, u)),
              Fi(o.s, l),
              Te(e, l.promise, 2))
            : 3 != e.g
            ? ((u = e.h),
              o.h
                ? (u.uri && !o.m.includes(u.uri) && o.m.unshift(u.uri),
                  Te(
                    e,
                    ((t = o),
                    (n = u.data),
                    (i = u.uri),
                    Ie(function (e) {
                      if (1 != e.g) return (a = e.h), e.return(qd(t, a, i));
                      if ((a = Lr(n, "MPD")))
                        return t.g.dash.disableXlinkProcessing
                          ? e.return(qd(t, a, i))
                          : ((r = t.g.dash.xlinkFailGracefully),
                            (r = td(
                              a,
                              t.g.retryParameters,
                              r,
                              i,
                              t.h.networkingEngine
                            )),
                            Fi(t.s, r),
                            Te(e, r.promise, 2));
                      throw new ke(2, 4, 4001, i);
                    })),
                    3
                  ))
                : e.return(0))
            : ((l = Date.now()),
              (c = (l - s) / 1e3),
              o.J.sample(1, c),
              e.return(c));
          var t, n, i, r, a;
        });
      }
      function qd(c, d, h) {
        var f, p, g, m, v, y, b, E, T, A, w, S, x;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if (
                ((f = c.g.dash.manifestPreprocessor) && f(d),
                (f = [h]),
                0 < (S = gr(d, "Location").map(br).filter(Fe)).length &&
                  ((S = Ge(f, S)), (f = c.m = S)),
                (S = gr(d, "BaseURL")),
                (w = S.map(br)),
                (f = Ge(f, w)),
                (w = 0),
                S &&
                  S.length &&
                  (w = U(S[0], "availabilityTimeOffset", kr) || 0),
                (S = c.g.dash.ignoreMinBufferTime),
                (p = 0),
                S || (p = U(d, "minBufferTime", Ar) || 0),
                (c.H = U(d, "minimumUpdatePeriod", Ar, -1)),
                (S = U(d, "availabilityStartTime", Tr)),
                (A = U(d, "timeShiftBufferDepth", Ar)),
                (x = c.g.dash.ignoreSuggestedPresentationDelay),
                (E = null),
                x || (E = U(d, "suggestedPresentationDelay", Ar)),
                (x = c.g.dash.ignoreMaxSegmentDuration),
                (g = null),
                x || (g = U(d, "maxSegmentDuration", Ar)),
                (x = d.getAttribute("type") || "static"),
                c.i)
              )
                for (
                  m = c.i.presentationTimeline,
                    v = Ee(Object.values(c.l)),
                    y = v.next();
                  !y.done;
                  y = v.next()
                )
                  (b = y.value).segmentIndex && b.segmentIndex.Hb(m.kb());
              else
                (T = c.g.defaultPresentationDelay || 1.5 * p),
                  (m = new B(S, null != E ? E : T, c.g.dash.autoCorrectDrift));
              return (
                m.Yc("static" == x),
                null ==
                  (A =
                    m.T() && !isNaN(c.g.availabilityWindowOverride)
                      ? c.g.availabilityWindowOverride
                      : A) && (A = 1 / 0),
                m.Qe(A),
                (S = d.getAttribute("profiles") || ""),
                (E = {
                  wb: "static" != x,
                  presentationTimeline: m,
                  qa: null,
                  Z: null,
                  za: null,
                  L: null,
                  bandwidth: 0,
                  Kf: !1,
                  Zb: w,
                  profiles: S.split(","),
                }),
                (T = (function (e, t, n, i) {
                  var r = U(i, "mediaPresentationDuration", Ar),
                    a = [],
                    o = 0;
                  i = gr(i, "Period");
                  for (var s = 0; s < i.length; s++) {
                    var u,
                      l = i[s],
                      c = i[s + 1],
                      d = U(l, "start", Ar, o),
                      h = l.id,
                      f = U(l, "duration", Ar),
                      p = null;
                    if (
                      (c
                        ? null != (u = U(c, "start", Ar)) && (p = u - d)
                        : null != r && (p = r - d),
                      null == p && (p = f),
                      !(null !== e.B && null !== h && null !== d && d < e.B) ||
                        e.K.includes(h) ||
                        s + 1 == i.length)
                    ) {
                      if (
                        (null !== d && (null === e.B || d > e.B) && (e.B = d),
                        (o = (function (A, w, e, t) {
                          (w.qa = Jd(t.node, null, e)),
                            (w.Z = t),
                            (w.qa.Zb = w.Zb),
                            w.qa.id || (w.qa.id = "__shaka_period_" + t.start);
                          var n = gr(t.node, "EventStream");
                          e = w.presentationTimeline.kb();
                          for (
                            var i = (n = Ee(n)).next();
                            !i.done;
                            i = n.next()
                          )
                            !(function (e, t, n, i, r) {
                              for (
                                var a = i.getAttribute("schemeIdUri") || "",
                                  o = i.getAttribute("value") || "",
                                  s = U(i, "timescale", Ir) || 1,
                                  u = (i = Ee(gr(i, "Event"))).next();
                                !u.done;
                                u = i.next()
                              ) {
                                var l =
                                    U((u = u.value), "presentationTime", Ir) ||
                                    0,
                                  c = U(u, "duration", Ir) || 0;
                                (c = (l = l / s + t) + c / s),
                                  null != n &&
                                    ((l = Math.min(l, t + n)),
                                    (c = Math.min(c, t + n))),
                                  c < r ||
                                    ((u = {
                                      schemeIdUri: a,
                                      value: o,
                                      startTime: l,
                                      endTime: c,
                                      id: u.getAttribute("id") || "",
                                      eventElement: u,
                                    }),
                                    e.h.onTimelineRegionAdded(u));
                              }
                            })(A, t.start, t.duration, i.value, e);
                          if (
                            ((e = gr(t.node, "AdaptationSet")
                              .map(function (e) {
                                var t = A,
                                  n = w;
                                function i(e) {
                                  switch (e) {
                                    case 1:
                                    case 6:
                                    case 13:
                                    case 14:
                                    case 15:
                                      return "SDR";
                                    case 16:
                                      return "PQ";
                                    case 18:
                                      return "HLG";
                                  }
                                }
                                n.za = Jd(e, n.qa, null);
                                var r = !1,
                                  a = gr(e, "Role"),
                                  o = a
                                    .map(function (e) {
                                      return e.getAttribute("value");
                                    })
                                    .filter(Fe),
                                  s = void 0,
                                  u = n.za.contentType == G;
                                u && (s = "subtitle");
                                for (
                                  var l, c = (a = Ee(a)).next();
                                  !c.done;
                                  c = a.next()
                                ) {
                                  var d = (c = c.value).getAttribute(
                                    "schemeIdUri"
                                  );
                                  if (
                                    null == d ||
                                    "urn:mpeg:dash:role:2011" == d
                                  )
                                    switch (
                                      ((c = c.getAttribute("value")), c)
                                    ) {
                                      case "main":
                                        r = !0;
                                        break;
                                      case "caption":
                                      case "subtitle":
                                        s = c;
                                    }
                                }
                                (d = gr(e, "EssentialProperty")),
                                  (a = null),
                                  (c = !1);
                                for (
                                  var h = (d = Ee(d)).next();
                                  !h.done;
                                  h = d.next()
                                ) {
                                  var f = (h = h.value).getAttribute(
                                    "schemeIdUri"
                                  );
                                  "http://dashif.org/guidelines/trickmode" == f
                                    ? (a = h.getAttribute("value"))
                                    : "urn:mpeg:mpegB:cicp:TransferCharacteristics" ==
                                      f
                                    ? (l = i(
                                        parseInt(h.getAttribute("value"), 10)
                                      ))
                                    : (c = !0);
                                }
                                for (
                                  d = Ee((d = gr(e, "SupplementalProperty"))),
                                    h = d.next();
                                  !h.done;
                                  h = d.next()
                                )
                                  "urn:mpeg:mpegB:cicp:TransferCharacteristics" ==
                                    (h = h.value).getAttribute("schemeIdUri") &&
                                    (l = i(
                                      parseInt(h.getAttribute("value"), 10)
                                    ));
                                d = gr(e, "Accessibility");
                                var p = new Map();
                                for (
                                  d = Ee(d), h = d.next();
                                  !h.done;
                                  h = d.next()
                                )
                                  if (
                                    ((f = h.value),
                                    (h = f.getAttribute("schemeIdUri")),
                                    (f = f.getAttribute("value")),
                                    "urn:scte:dash:cc:cea-608:2015" == h)
                                  )
                                    if (((h = 1), null != f))
                                      for (
                                        var g = Ee((f = f.split(";"))),
                                          m = g.next();
                                        !m.done;
                                        m = g.next()
                                      ) {
                                        var v = m.value,
                                          y = (m = void 0);
                                        (y = v.includes("=")
                                          ? ((v = v.split("=")),
                                            (m = v[0].startsWith("CC")
                                              ? v[0]
                                              : "CC" + v[0]),
                                            v[1] || "und")
                                          : ((m = "CC" + h),
                                            2 == f.length ? (h += 2) : h++,
                                            v)),
                                          p.set(m, C(y));
                                      }
                                    else p.set("CC1", "und");
                                  else if ("urn:scte:dash:cc:cea-708:2015" == h)
                                    if (((h = 1), null != f))
                                      for (
                                        f = Ee(f.split(";")), m = f.next();
                                        !m.done;
                                        m = f.next()
                                      )
                                        (m = m.value),
                                          (v = g = void 0),
                                          (v = m.includes("=")
                                            ? ((m = m.split("=")),
                                              (g = "svc" + m[0]),
                                              m[1]
                                                .split(",")[0]
                                                .split(":")
                                                .pop())
                                            : ((g = "svc" + h), h++, m)),
                                          p.set(g, C(v));
                                    else p.set("svc1", "und");
                                  else
                                    "urn:mpeg:dash:role:2011" == h &&
                                      null != f &&
                                      (o.push(f),
                                      "captions" == f && (s = "caption"));
                                if (c) return null;
                                var b = Wc(
                                    (c = gr(e, "ContentProtection")),
                                    t.g.dash.ignoreDrmInfo,
                                    t.g.dash.keySystemsByURI
                                  ),
                                  E = C(e.getAttribute("lang") || "und"),
                                  T = e.getAttribute("label");
                                if (
                                  ((c = gr(e, "Label")) &&
                                    c.length &&
                                    (c = c[0]).textContent &&
                                    (T = c.textContent),
                                  (c = gr(e, "Representation")),
                                  0 ==
                                    (e = c
                                      .map(function (e) {
                                        return (
                                          (e = (function (
                                            c,
                                            i,
                                            e,
                                            t,
                                            n,
                                            r,
                                            a,
                                            o,
                                            s,
                                            u
                                          ) {
                                            if (
                                              ((i.L = Jd(u, i.za, null)),
                                              (c.C = Math.min(c.C, i.L.Zb)),
                                              !(function (e) {
                                                var t = e.Wc ? 1 : 0;
                                                return 0 ==
                                                  (t =
                                                    (t += e.Eb ? 1 : 0) +
                                                    (e.Xc ? 1 : 0))
                                                  ? e.contentType == G ||
                                                      "application" ==
                                                        e.contentType
                                                  : (1 != t &&
                                                      (e.Wc && (e.Eb = null),
                                                      (e.Xc = null)),
                                                    !0);
                                              })(i.L))
                                            )
                                              return null;
                                            var l = i.Z.start,
                                              d =
                                                ((i.bandwidth =
                                                  U(u, "bandwidth", xr) || 0),
                                                i.L.contentType),
                                              h = d == G || "application" == d;
                                            d = "image" == d;
                                            try {
                                              var f,
                                                p,
                                                g,
                                                m = function (e, t, n) {
                                                  return (
                                                    (i = c),
                                                    (r = e),
                                                    (a = t),
                                                    (o = n),
                                                    Ie(function (e) {
                                                      return 1 == e.g
                                                        ? ((l = Xi),
                                                          (s = Ds(
                                                            r,
                                                            a,
                                                            o,
                                                            i.g.retryParameters
                                                          )),
                                                          (u =
                                                            i.h
                                                              .networkingEngine),
                                                          (u = u.request(l, s)),
                                                          Fi(i.s, u),
                                                          Te(e, u.promise, 2))
                                                        : ((l = e.h),
                                                          e.return(l.data));
                                                    })
                                                  );
                                                  var i, r, a, o, s, u, l;
                                                };
                                              f = i.L.Wc
                                                ? dd(i, m)
                                                : i.L.Eb
                                                ? vd(i, c.l)
                                                : i.L.Xc
                                                ? bd(
                                                    i,
                                                    m,
                                                    c.l,
                                                    !!c.i,
                                                    c.g.dash
                                                      .initialSegmentLimit,
                                                    c.M
                                                  )
                                                : ((p = i.L.Na),
                                                  (g = i.Z.duration || 0),
                                                  {
                                                    ac: function () {
                                                      return Promise.resolve(
                                                        Ts(l, g, p)
                                                      );
                                                    },
                                                  });
                                            } catch (e) {
                                              if ((h || d) && 4002 == e.code)
                                                return null;
                                              throw e;
                                            }
                                            (m = (function (e, t, n, i) {
                                              var r = Wc(e, n, i);
                                              if (t.Df)
                                                (e =
                                                  1 == t.drmInfos.length &&
                                                  !t.drmInfos[0].keySystem),
                                                  (n = 0 == r.drmInfos.length),
                                                  (0 == t.drmInfos.length ||
                                                    (e && !n)) &&
                                                    (t.drmInfos = r.drmInfos),
                                                  (t.Df = !1);
                                              else if (
                                                0 < r.drmInfos.length &&
                                                ((t.drmInfos =
                                                  t.drmInfos.filter(function (
                                                    t
                                                  ) {
                                                    return r.drmInfos.some(
                                                      function (e) {
                                                        return (
                                                          e.keySystem ==
                                                          t.keySystem
                                                        );
                                                      }
                                                    );
                                                  })),
                                                0 == t.drmInfos.length)
                                              )
                                                throw new ke(2, 4, 4008);
                                              return r.zf || t.zf;
                                            })(
                                              (m = gr(u, "ContentProtection")),
                                              e,
                                              c.g.dash.ignoreDrmInfo,
                                              c.g.dash.keySystemsByURI
                                            )),
                                              (m = new Set(m ? [m] : []));
                                            var v,
                                              y,
                                              b = !1,
                                              E =
                                                (gr(
                                                  u,
                                                  "SupplementalProperty"
                                                ).some(function (e) {
                                                  return (
                                                    "tag:dolby.com,2018:dash:EC3_ExtensionType:2018" ==
                                                      e.getAttribute(
                                                        "schemeIdUri"
                                                      ) &&
                                                    "JOC" ==
                                                      e.getAttribute("value")
                                                  );
                                                }) && (b = !0),
                                                !1);
                                            if (
                                              (h &&
                                                (E =
                                                  o.includes(
                                                    "forced_subtitle"
                                                  ) ||
                                                  o.includes(
                                                    "forced-subtitle"
                                                  )),
                                              d &&
                                                !(v = (u = gr(
                                                  u,
                                                  "EssentialProperty"
                                                ).find(function (e) {
                                                  return [
                                                    "http://dashif.org/thumbnail_tile",
                                                    "http://dashif.org/guidelines/thumbnail_tile",
                                                  ].includes(
                                                    e.getAttribute(
                                                      "schemeIdUri"
                                                    )
                                                  );
                                                }))
                                                  ? u.getAttribute("value")
                                                  : v))
                                            )
                                              return null;
                                            (u = i.L.codecs),
                                              i.profiles.includes(
                                                "http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10"
                                              ) &&
                                                (u.includes(
                                                  "hvc1.2.4.L153.B0"
                                                ) ||
                                                  u.includes(
                                                    "hev1.2.4.L153.B0"
                                                  )) &&
                                                (y = "PQ");
                                            var T = i.L.id
                                                ? i.qa.id + "," + i.L.id
                                                : "",
                                              A = {
                                                id: c.I++,
                                                originalId: i.L.id,
                                                createSegmentIndex:
                                                  function () {
                                                    var t, n;
                                                    return Ie(function (e) {
                                                      if (1 == e.g)
                                                        return (t =
                                                          T && i.wb && c.l[T]
                                                            ? c.l[T]
                                                            : A).segmentIndex
                                                          ? e.D(0)
                                                          : ((n = t),
                                                            Te(e, f.ac(), 3));
                                                      (n.segmentIndex = e.h),
                                                        Ae(e);
                                                    });
                                                  },
                                                closeSegmentIndex: function () {
                                                  A.segmentIndex &&
                                                    (A.segmentIndex.release(),
                                                    (A.segmentIndex = null));
                                                },
                                                segmentIndex: null,
                                                mimeType: i.L.mimeType,
                                                codecs: i.L.codecs,
                                                frameRate: i.L.frameRate,
                                                pixelAspectRatio:
                                                  i.L.pixelAspectRatio,
                                                bandwidth: i.bandwidth,
                                                width: i.L.width,
                                                height: i.L.height,
                                                kind: t,
                                                encrypted:
                                                  0 < e.drmInfos.length,
                                                drmInfos: e.drmInfos,
                                                keyIds: m,
                                                language: n,
                                                label: r,
                                                type: i.za.contentType,
                                                primary: a,
                                                trickModeVideo: null,
                                                emsgSchemeIdUris:
                                                  i.L.emsgSchemeIdUris,
                                                roles: o,
                                                forced: E,
                                                channelsCount: i.L.Bd,
                                                audioSamplingRate:
                                                  i.L.audioSamplingRate,
                                                spatialAudio: b,
                                                closedCaptions: s,
                                                hdr: y,
                                                tilesLayout: v,
                                                matchedStreams: [],
                                              };
                                            return (
                                              T &&
                                                i.wb &&
                                                !c.l[T] &&
                                                (c.l[T] = A),
                                              A
                                            );
                                          })(t, n, b, s, E, T, r, o, p, e)) &&
                                            (e.hdr = e.hdr || l),
                                          e
                                        );
                                      })
                                      .filter(function (e) {
                                        return !!e;
                                      })).length)
                                ) {
                                  if (
                                    ((a = "image" == n.za.contentType),
                                    t.g.dash.ignoreEmptyAdaptationSet || u || a)
                                  )
                                    return null;
                                  throw new ke(2, 4, 4003);
                                }
                                if (
                                  !n.za.contentType ||
                                  "application" == n.za.contentType
                                )
                                  for (
                                    n.za.contentType = Zd(
                                      e[0].mimeType,
                                      e[0].codecs
                                    ),
                                      u = Ee(e),
                                      d = u.next();
                                    !d.done;
                                    d = u.next()
                                  )
                                    d.value.type = n.za.contentType;
                                for (
                                  u = Ee(e), d = u.next();
                                  !d.done;
                                  d = u.next()
                                )
                                  for (
                                    d = d.value,
                                      h = Ee(b.drmInfos),
                                      f = h.next();
                                    !f.done;
                                    f = h.next()
                                  )
                                    (f = f.value).keyIds =
                                      f.keyIds && d.keyIds
                                        ? new Set(
                                            [].concat(I(f.keyIds), I(d.keyIds))
                                          )
                                        : f.keyIds || d.keyIds;
                                return (
                                  (u = c
                                    .map(function (e) {
                                      return e.getAttribute("id");
                                    })
                                    .filter(Fe)),
                                  {
                                    id: n.za.id || "__fake__" + t.I++,
                                    contentType: n.za.contentType,
                                    language: E,
                                    sj: r,
                                    streams: e,
                                    drmInfos: b.drmInfos,
                                    We: a,
                                    Ah: u,
                                  }
                                );
                              })
                              .filter(Fe)),
                            w.wb)
                          ) {
                            for (
                              t = [], n = Ee(e), i = n.next();
                              !i.done;
                              i = n.next()
                            )
                              for (
                                var r = (i = Ee(i.value.Ah)).next();
                                !r.done;
                                r = i.next()
                              )
                                t.push(r.value);
                            if (t.length != new Set(t).size)
                              throw new ke(2, 4, 4018);
                          }
                          for (
                            t = e.filter(function (e) {
                              return !e.We;
                            }),
                              e = Ee(
                                (e = e.filter(function (e) {
                                  return e.We;
                                }))
                              ),
                              n = e.next();
                            !n.done;
                            n = e.next()
                          ) {
                            (n = n.value), (i = n.We.split(" "));
                            for (
                              var a = (r = Ee(t)).next();
                              !a.done;
                              a = r.next()
                            ) {
                              var o = a.value;
                              if (i.includes(o.id)) {
                                a = {};
                                for (
                                  var s = (o = Ee(o.streams)).next();
                                  !s.done;
                                  a = { fd: a.fd }, s = o.next()
                                )
                                  (a.fd = s.value),
                                    (a.fd.trickModeVideo = n.streams.find(
                                      (function (t) {
                                        return function (e) {
                                          return (
                                            xn(t.fd.codecs) == xn(e.codecs)
                                          );
                                        };
                                      })(a)
                                    ));
                              }
                            }
                          }
                          if (
                            ((n = A.g.disableAudio ? [] : Yd(t, "audio")),
                            (r = A.g.disableVideo ? [] : Yd(t, "video")),
                            (i = A.g.disableText ? [] : Yd(t, G)),
                            (e = A.g.disableThumbnails ? [] : Yd(t, "image")),
                            !r.length && !n.length)
                          )
                            throw new ke(2, 4, 4004);
                          for (
                            t = [], n = Ee(n), a = n.next();
                            !a.done;
                            a = n.next()
                          )
                            t.push.apply(t, I(a.value.streams));
                          for (
                            n = [], r = Ee(r), a = r.next();
                            !a.done;
                            a = r.next()
                          )
                            n.push.apply(n, I(a.value.streams));
                          for (
                            r = [], i = Ee(i), a = i.next();
                            !a.done;
                            a = i.next()
                          )
                            r.push.apply(r, I(a.value.streams));
                          for (
                            i = [], e = Ee(e), a = e.next();
                            !a.done;
                            a = e.next()
                          )
                            i.push.apply(i, I(a.value.streams));
                          return {
                            id: w.qa.id,
                            ld: t,
                            Od: n,
                            textStreams: r,
                            imageStreams: i,
                          };
                        })(e, t, n, {
                          start: d,
                          duration: p,
                          node: l,
                          Mf: null == p || !c,
                        })),
                        a.push(o),
                        t.qa.id && p && (e.M[t.qa.id] = p),
                        null == p)
                      ) {
                        o = null;
                        break;
                      }
                      o = d + p;
                    }
                  }
                  return (
                    (e.K = a.map(function (e) {
                      return e.id;
                    })),
                    null != r
                      ? { periods: a, duration: r, Bf: !1 }
                      : { periods: a, duration: o, Bf: !0 }
                  );
                })(c, E, f, d)),
                (A = T.duration),
                (w = T.periods),
                ("static" != x && T.Bf) || m.bb(A || 1 / 0),
                c.C &&
                  !c.F &&
                  c.h.isAutoLowLatencyMode() &&
                  (c.h.enableLowLatencyMode(), (c.F = c.h.isLowLatencyMode())),
                c.F
                  ? m.Tf(c.C)
                  : c.C &&
                    k(
                      "Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."
                    ),
                m.ye(g || 1),
                Te(e, Ad(c.j, w, E.wb), 2)
              );
            case 2:
              if (c.i) {
                (c.i.variants = c.j.l),
                  (c.i.textStreams = c.j.j.slice()),
                  (c.i.imageStreams = c.j.i),
                  c.h.filter(c.i),
                  e.D(3);
                break;
              }
              if (
                ((c.i = {
                  presentationTimeline: m,
                  variants: c.j.l,
                  textStreams: c.j.j.slice(),
                  imageStreams: c.j.i,
                  offlineSessionIds: [],
                  minBufferTime: p || 0,
                  sequenceMode: c.g.dash.sequenceMode,
                }),
                m.eg())
              )
                return (
                  (S = gr(d, "UTCTiming")),
                  Te(
                    e,
                    ((t = c),
                    (n = f),
                    (i = S),
                    Ie(function (e) {
                      switch (e.g) {
                        case 1:
                          (a = i.map(function (e) {
                            return {
                              scheme: e.getAttribute("schemeIdUri"),
                              value: e.getAttribute("value"),
                            };
                          })),
                            (r = t.g.dash.clockSyncUri),
                            !a.length &&
                              r &&
                              a.push({
                                scheme: "urn:mpeg:dash:utc:http-head:2014",
                                value: r,
                              }),
                            (r = Ee(a)),
                            (a = r.next());
                        case 2:
                          if (a.done) {
                            e.D(4);
                            break;
                          }
                          switch (
                            ((o = a.value),
                            we(e, 5),
                            (s = o.scheme),
                            (u = o.value),
                            s)
                          ) {
                            case "urn:mpeg:dash:utc:http-head:2014":
                            case "urn:mpeg:dash:utc:http-head:2012":
                              return e.D(7);
                            case "urn:mpeg:dash:utc:http-xsdate:2014":
                            case "urn:mpeg:dash:utc:http-iso:2014":
                            case "urn:mpeg:dash:utc:http-xsdate:2012":
                            case "urn:mpeg:dash:utc:http-iso:2012":
                              return e.D(8);
                            case "urn:mpeg:dash:utc:direct:2014":
                            case "urn:mpeg:dash:utc:direct:2012":
                              return (
                                (l = Date.parse(u)),
                                e.return(isNaN(l) ? 0 : l - Date.now())
                              );
                            case "urn:mpeg:dash:utc:http-ntp:2014":
                            case "urn:mpeg:dash:utc:ntp:2014":
                            case "urn:mpeg:dash:utc:sntp:2014":
                              k("NTP UTCTiming scheme is not supported");
                              break;
                            default:
                              k("Unrecognized scheme in UTCTiming element", s);
                          }
                          e.D(9);
                          break;
                        case 7:
                          return Te(e, Qd(t, n, u, "HEAD"), 10);
                        case 10:
                          return e.return(e.h);
                        case 8:
                          return Te(e, Qd(t, n, u, "GET"), 11);
                        case 11:
                          return e.return(e.h);
                        case 9:
                          Se(e, 3);
                          break;
                        case 5:
                          xe(e);
                        case 3:
                          (a = r.next()), e.D(2);
                          break;
                        case 4:
                          return (
                            k(
                              "A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"
                            ),
                            e.return(0)
                          );
                      }
                    })),
                    5
                  )
                );
              e.D(4);
              break;
            case 5:
              if (((x = e.h), !c.h)) return e.return();
              m.Uf(x);
            case 4:
              m.ve();
            case 3:
              c.h.makeTextStreamsForClosedCaptions(c.i), Ae(e);
          }
          var t, n, i, r, a, o, s, u, l;
        });
      }
      function Yd(e, t) {
        return e.filter(function (e) {
          return e.contentType == t;
        });
      }
      function $d(e, t) {
        e.H < 0 || e.G.S(Math.max(3, e.H - t, ut(e.J)));
      }
      function Jd(e, t, n) {
        (t = t || {
          contentType: "",
          mimeType: "",
          codecs: "",
          emsgSchemeIdUris: [],
          frameRate: void 0,
          pixelAspectRatio: void 0,
          Bd: null,
          audioSamplingRate: null,
          Zb: 0,
        }),
          (n = n || t.Na);
        for (
          var i = (m = gr(e, "BaseURL")).map(br),
            r = e.getAttribute("contentType") || t.contentType,
            a = e.getAttribute("mimeType") || t.mimeType,
            o = e.getAttribute("codecs") || t.codecs,
            s = U(e, "frameRate", Cr) || t.frameRate,
            u = e.getAttribute("sar") || t.pixelAspectRatio,
            l = gr(e, "InbandEventStream"),
            c = t.emsgSchemeIdUris.slice(),
            d = (l = Ee(l)).next();
          !d.done;
          d = l.next()
        )
          (d = d.value.getAttribute("schemeIdUri")), c.includes(d) || c.push(d);
        l =
          (function (e) {
            for (var t = (e = Ee(e)).next(); !t.done; t = e.next()) {
              var n = t.value;
              if (
                (t = n.getAttribute("schemeIdUri")) &&
                (n = n.getAttribute("value"))
              )
                switch (t) {
                  case "urn:mpeg:dash:outputChannelPositionList:2012":
                    return n.trim().split(/ +/).length;
                  case "urn:mpeg:dash:23003:3:audio_channel_configuration:2011":
                  case "urn:dts:dash:audio_channel_configuration:2012":
                    if ((t = parseInt(n, 10))) return t;
                    continue;
                  case "tag:dolby.com,2014:dash:audio_channel_configuration:2011":
                  case "urn:dolby:dash:audio_channel_configuration:2011":
                    if (!(t = parseInt(n, 16))) continue;
                    for (e = 0; t; ) 1 & t && ++e, (t >>= 1);
                    return e;
                  case "urn:mpeg:mpegB:cicp:ChannelConfiguration":
                    if (
                      ((t = [
                        0, 1, 2, 3, 4, 5, 6, 8, 2, 3, 4, 7, 8, 24, 8, 12, 10,
                        12, 14, 12, 14,
                      ]),
                      (n = parseInt(n, 10)) && 0 < n && n < t.length)
                    )
                      return t[n];
                }
            }
            return null;
          })((l = gr(e, "AudioChannelConfiguration"))) || t.Bd;
        var d = U(e, "audioSamplingRate", Ir) || t.audioSamplingRate,
          r = r || Zd(a, o),
          h = fr(e, "SegmentBase"),
          f = fr(e, "SegmentTemplate"),
          p = (h && U(h, "availabilityTimeOffset", kr)) || 0,
          g = (f && U(f, "availabilityTimeOffset", kr)) || 0,
          m = (m && m.length && U(m[0], "availabilityTimeOffset", kr)) || 0;
        return (
          (m = t.Zb + m + p + g),
          {
            Na: Ge(n, i),
            Wc: h || t.Wc,
            Eb: fr(e, "SegmentList") || t.Eb,
            Xc: f || t.Xc,
            width: U(e, "width", Ir) || t.width,
            height: U(e, "height", Ir) || t.height,
            contentType: r,
            mimeType: a,
            codecs: o,
            frameRate: s,
            pixelAspectRatio: u,
            emsgSchemeIdUris: c,
            id: e.getAttribute("id"),
            Bd: l,
            audioSamplingRate: d,
            Zb: m,
          }
        );
      }
      function Qd(t, n, i, r) {
        var a, o, s;
        return Ie(function (e) {
          if (1 == e.g)
            return (
              (a = Ge(n, [i])),
              ((a = zi(a, t.g.retryParameters)).method = r),
              (a = t.h.networkingEngine.request(4, a)),
              Fi(t.s, a),
              Te(e, a.promise, 2)
            );
          if (((a = e.h), "HEAD" == r)) {
            if (!a.headers || !a.headers.date) return e.return(0);
            o = a.headers.date;
          } else o = en(a.data);
          return (
            (s = Date.parse(o)),
            isNaN(s) ? e.return(0) : e.return(s - Date.now())
          );
        });
      }
      function Zd(e, t) {
        return Mn(wn(e, t)) ? G : e.split("/")[0];
      }
      function eh(e, t, n, i) {
        (this.h = e),
          (this.type = t),
          (this.g = n),
          (this.segments = i || null);
      }
      function th(e, t, n, i) {
        (this.id = e),
          (this.name = t),
          (this.g = n),
          (this.value = void 0 === i ? null : i);
      }
      function F(e, t, n) {
        return (e = e.getAttribute(t)) ? e.value : n || null;
      }
      function nh(e, t) {
        e = e.getAttribute(t);
        if (e) return e.value;
        throw new ke(2, 4, 4023, t);
      }
      function ih(e, t, n) {
        (n = void 0 === n ? [] : n), (this.g = t), (this.i = e), (this.h = n);
      }
      function rh(e, t) {
        (this.name = e), (this.value = t);
      }
      function ah(e, t) {
        return e.filter(function (e) {
          return e.name == t;
        });
      }
      function oh(e, t) {
        return e.filter(function (e) {
          return nh(e, "TYPE") == t;
        });
      }
      function sh(e, t) {
        e = ah(e, t);
        return e.length ? e[0] : null;
      }
      function uh(e) {
        var t = void 0 === (t = 0) ? 0 : t;
        return (e = sh(e, "EXT-X-MEDIA-SEQUENCE")) ? Number(e.value) : t;
      }
      function lh(e, t) {
        return Ge([e], [t])[0];
      }
      function ch(e) {
        (this.h = e), (this.g = 0);
      }
      function dh(e) {
        hh(e, /[ \t]+/gm);
      }
      function hh(e, t) {
        t.lastIndex = e.g;
        t =
          null == (t = t.exec(e.h))
            ? null
            : { position: t.index, length: t[0].length, results: t };
        return e.g == e.h.length || null == t || t.position != e.g
          ? null
          : ((e.g += t.length), t.results);
      }
      function fh(e) {
        return e.g != e.h.length && (e = hh(e, /[^ \t\n]*/gm)) ? e[0] : null;
      }
      function ph() {
        this.g = 0;
      }
      function gh(e, t, n) {
        var i = (t = (t = en(t))
          .replace(/\r\n|\r(?=[^\n]|$)/gm, "\n")
          .trim()).split(/\n+/m);
        if (!/^#EXTM3U($|[ \t\n])/m.test(i[0])) throw new ke(2, 4, 4015);
        for (var r = !(t = 0), a = Ee(i), o = a.next(); !o.done; o = a.next())
          if (((o = o.value), /^#(?!EXT)/m.test(o) || r)) r = !1;
          else {
            if (((o = mh(e, o)), --e.g, vh.includes(o.name))) {
              t = 1;
              break;
            }
            "EXT-X-STREAM-INF" == o.name && (r = !0);
          }
        for (a = [], r = !0, o = 0; o < i.length; o++) {
          var s = i[o],
            u = i[o + 1];
          if (/^#(?!EXT)/m.test(s) || r) r = !1;
          else {
            if (((s = mh(e, s)), yh.includes(s.name))) {
              if (1 != t) throw new ke(2, 4, 4017);
              for (
                var l = i.splice(o, i.length - o),
                  i = n,
                  r = [],
                  o = [],
                  u = [],
                  s = null,
                  c = (l = Ee(l)).next();
                !c.done;
                c = l.next()
              )
                (c = c.value),
                  /^(#EXT)/.test(c)
                    ? ((c = mh(e, c)),
                      vh.includes(c.name)
                        ? a.push(c)
                        : "EXT-X-MAP" == c.name
                        ? (s = c)
                        : "EXT-X-PART" == c.name
                        ? u.push(c)
                        : "EXT-X-PRELOAD-HINT" == c.name
                        ? "PART" == F(c, "TYPE")
                          ? u.push(c)
                          : "MAP" == F(c, "TYPE") &&
                            ((c.name = "EXT-X-MAP"), (s = c))
                        : o.push(c))
                    : /^#(?!EXT)/m.test(c) ||
                      ((c = lh(i, c.trim())),
                      s && o.push(s),
                      r.push(new ih(c, o, u)),
                      (o = []),
                      (u = []));
              return (
                u.length && (s && o.push(s), r.push(new ih("", o, u))),
                new eh(n, t, a, r)
              );
            }
            a.push(s),
              "EXT-X-STREAM-INF" == s.name &&
                (s.g.push(new rh("URI", u)), (r = !0));
          }
        }
        return new eh(n, t, a);
      }
      function mh(e, t) {
        e = e.g++;
        if (!(a = t.match(/^#(EXT[^:]*)(?::(.*))?$/)))
          throw new ke(2, 4, 4016, t);
        var n,
          i,
          t = a[1],
          r = a[2],
          a = [];
        if (r) {
          (i = hh((r = new ch(r)), /^([^,=]+)(?:,|$)/g)) && (n = i[1]);
          for (
            var o = /([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;
            (i = hh(r, o));

          )
            a.push(new rh(i[1], i[2] || i[3])), dh(r);
        }
        return new th(e, t, a, n);
      }
      ((n = Xd.prototype).configure = function (e) {
        this.g = e;
      }),
        (n.start = function (t, n) {
          var i,
            r = this;
          return Ie(function (e) {
            if (1 == e.g)
              return (
                (r.F = n.isLowLatencyMode()),
                (r.m = [t]),
                (r.h = n),
                Te(e, Wd(r), 2)
              );
            if (((i = e.h), r.h && $d(r, i), r.h)) return e.return(r.i);
            throw new ke(2, 7, 7001);
          });
        }),
        (n.stop = function () {
          for (
            var e = Ee(Object.values(this.l)), t = e.next();
            !t.done;
            t = e.next()
          )
            (t = t.value).segmentIndex && t.segmentIndex.release();
          return (
            this.j && this.j.release(),
            (this.g = this.h = null),
            (this.m = []),
            (this.i = null),
            (this.l = {}),
            (this.j = null) != this.G && (this.G.stop(), (this.G = null)),
            this.s.destroy()
          );
        }),
        (n.update = function () {
          var t,
            n = this;
          return Ie(function (e) {
            return 1 == e.g
              ? (we(e, 2), Te(e, Wd(n), 4))
              : 2 != e.g
              ? Se(e, 0)
              : ((t = xe(e)),
                n.h && t ? (n.h.onError(t), void Ae(e)) : e.return());
          });
        }),
        (n.onExpirationUpdated = function () {}),
        t("shaka.dash.DashParser", Xd),
        (aa.mpd = function () {
          return new Xd();
        }),
        (ra["application/dash+xml"] = function () {
          return new Xd();
        }),
        (ra["video/vnd.mpeg.dash.mpd"] = function () {
          return new Xd();
        }),
        (th.prototype.toString = function () {
          var e = "#" + this.name,
            t = this.g
              ? this.g.map(function (e) {
                  return (
                    e.name +
                    "=" +
                    (isNaN(Number(e.value)) ? '"' + e.value + '"' : e.value)
                  );
                })
              : [];
          return (
            this.value && t.unshift(this.value),
            0 < t.length && (e += ":" + t.join(",")),
            e
          );
        }),
        (th.prototype.getAttribute = function (t) {
          var e = this.g.filter(function (e) {
            return e.name == t;
          });
          return e.length ? e[0] : null;
        });
      var vh =
          "EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(
            " "
          ),
        yh =
          "EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(
            " "
          );
      function bh() {}
      function Eh(e) {
        try {
          var t = Th(e);
          return Pi({
            uri: e,
            Pf: e,
            data: t.data,
            headers: { "content-type": t.contentType },
          });
        } catch (e) {
          return Ri(e);
        }
      }
      function Th(e) {
        var t = e.split(":");
        if (t.length < 2 || "data" != t[0]) throw new ke(2, 1, 1004, e);
        if ((t = t.slice(1).join(":").split(",")).length < 2)
          throw new ke(2, 1, 1004, e);
        var n = t[0],
          i =
            ((e = N.decodeURIComponent(t.slice(1).join(","))),
            (n = (t = n.split(";"))[0]),
            !1);
        return (
          1 < t.length && "base64" == t[t.length - 1] && ((i = !0), t.pop()),
          { data: (i ? cn : rn)(e), contentType: n }
        );
      }
      function Ah() {
        var e = this;
        (this.g = this.i = null),
          (this.ua = 1),
          (this.s = new Map()),
          (this.C = new Map()),
          (this.H = new Map()),
          this.H.set("video", new Map()),
          this.H.set("audio", new Map()),
          this.H.set(G, new Map()),
          this.H.set("image", new Map()),
          (this.ka = new Set()),
          (this.h = new Map()),
          (this.j = null),
          (this.O = ""),
          (this.Y = new ph()),
          (this.R = 0),
          (this.F = -1),
          (this.M = 1 / 0),
          (this.ya = !1),
          (this.m = new M(function () {
            var t, n;
            (t = e),
              Ie(function (e) {
                return 1 == e.g
                  ? t.i
                    ? (we(e, 2), Te(e, t.update(), 4))
                    : e.return()
                  : 2 != e.g
                  ? (Vh(t) && ((n = t.R), t.m.S(n)), Se(e, 0))
                  : ((n = xe(e)),
                    t.i
                      ? ((n.severity = 1),
                        t.i.onError(n),
                        t.m.S(0.1),
                        void Ae(e))
                      : e.return());
              });
          })),
          (this.ba = $h),
          (this.G = null),
          (this.sa = 0),
          (this.J = 1 / 0),
          (this.U = this.aa = 0),
          (this.I = new Bi()),
          (this.K = new Map()),
          (this.B = new Map()),
          (this.$ = new Map()),
          (this.l = !1);
      }
      function wh(e, t) {
        return Vh(e) ? e.H.get(t.type) : t.yd;
      }
      function Sh(e, t, n) {
        t.stream.segmentIndex.offset(n), (t.Bb += n);
        for (var i = (t = Ee((e = wh(e, t)))).next(); !i.done; i = t.next()) {
          var i = (r = Ee(i.value)).next().value,
            r = r.next().value;
          e.set(i, r + n);
        }
      }
      function xh(e) {
        var t;
        Vh(e)
          ? ((e.R = e.J),
            e.ba == Qh &&
              ((t = Nh(e)),
              e.g.hls.useSafariBehaviorForLive && (t = e.j.m),
              isNaN(e.g.availabilityWindowOverride) ||
                (t = e.g.availabilityWindowOverride),
              e.j.Qe(t)))
          : e.j.bb(Nh(e)),
          e.j.ve();
      }
      function Ih(e, t) {
        for (
          var n = new Map(), i = Ee(t), r = i.next();
          !r.done;
          r = i.next()
        ) {
          var r = F((o = r.value), "NAME"),
            a = F(o, "VALUE"),
            o = F(o, "IMPORT");
          r && a && n.set(r, a), o && (r = e.s.get(o)) && n.set(o, r);
        }
        return n;
      }
      function kh(e, t) {
        for (
          var n = [],
            i =
              (e.g.disableVideo || n.push(e.g.hls.defaultVideoCodec),
              e.g.disableAudio || n.push(e.g.hls.defaultAudioCodec),
              F(t, "CODECS", n.join(",")).split(/\s*,\s*/)),
            n = new Set(),
            r = [],
            a = (i = Ee(i)).next();
          !a.done;
          a = i.next()
        ) {
          var o = kn((a = a.value))[0];
          n.has(o) || (r.push(a), n.add(o));
        }
        return r;
      }
      function Ch(e) {
        return C((e = F(e, "LANGUAGE") || "und"));
      }
      function Mh(e, t) {
        var n = nh(t, "GROUP-ID"),
          i = "",
          r = nh(t, "TYPE").toLowerCase(),
          a = (r = "subtitles" == r ? G : r);
        if (
          (a != G && n && e.B.has(n) && (i = e.B.get(n)),
          (r = Gh(nh(t, "URI"), e.s)),
          e.h.has(r))
        )
          return e.h.get(r);
        var o = Ch(t),
          s = F(t, "NAME"),
          u = "YES" == F(t, "DEFAULT"),
          l =
            "audio" == a && (l = F(t, "CHANNELS"))
              ? parseInt(l.split("/")[0], 10)
              : null,
          c = "audio" == a && !!(c = F(t, "CHANNELS")) && c.includes("/JOC"),
          i = Lh(
            e,
            r,
            i,
            a,
            o,
            u,
            s,
            l,
            null,
            F(t, "CHARACTERISTICS"),
            "YES" == F(t, "FORCED"),
            c
          );
        return (
          e.C.has(n) ? e.C.get(n).push(i) : e.C.set(n, [i]),
          e.h.has(r) ? e.h.get(r) : (e.h.set(r, i), i)
        );
      }
      function Lh(c, d, h, f, p, g, m, v, y, b, E, T) {
        function t(t) {
          var n, i, r, a, o, s, u, l;
          return Ie(function (e) {
            if (1 == e.g) return Te(e, zh(c, w.jd), 2);
            if (3 != e.g)
              return (
                (r = e.h),
                t.aborted
                  ? e.return()
                  : ((n = r.uri),
                    (r = gh(c.Y, r.data, n)),
                    (i = Vh(c)),
                    Te(e, Ph(c, r, d, n, h, f, p, g, m, v, y, b, E, T), 3))
              );
            if (((r = e.h), t.aborted)) return e.return();
            if (
              ((a = r.stream),
              Vh(c) && !i && Uh(c),
              (w.jd = n),
              (w.Bb = r.Bb),
              (w.nd = r.nd),
              (w.Kc = r.Kc),
              (w.yd = r.yd),
              (w.ue = !0),
              (A.segmentIndex = a.segmentIndex),
              (A.encrypted = a.encrypted),
              (A.drmInfos = a.drmInfos),
              (A.keyIds = a.keyIds),
              (A.kind = a.kind),
              (A.roles = a.roles),
              (A.mimeType = a.mimeType),
              A.drmInfos.length && c.i.newDrmInfo(A),
              f == (l = He).Ma || f == l.gd)
            )
              for (o = Ee(c.h.values()), s = o.next(); !s.done; s = o.next())
                (u = s.value).ue ||
                  u.type != f ||
                  (u.stream.mimeType = a.mimeType);
            !(function (e) {
              if (!e.G) return;
              for (
                var t = [], n = [], i = (e = Ee(e.G.variants)).next();
                !i.done;
                i = e.next()
              )
                (i = i.value).video && t.push(i.video),
                  i.audio && n.push(i.audio);
              return !(
                (0 < t.length &&
                  !t.some(function (e) {
                    return e.segmentIndex;
                  })) ||
                (0 < n.length &&
                  !n.some(function (e) {
                    return e.segmentIndex;
                  }))
              );
            })(c) ||
              (c.ya
                ? _h(c, [w])
                : ((c.ya = !0),
                  (l = Array.from(c.h.values())),
                  (l = l.filter(function (e) {
                    return e.stream.segmentIndex;
                  })),
                  _h(c, l),
                  xh(c),
                  0 < (l = c.R) && c.m.S(l))),
              Ae(e);
          });
        }
        var e = lh(c.O, d),
          A = Dh(c, h, f, p, g, m, v, y, E, T),
          w =
            (ts.includes(A.mimeType) && (A.codecs = ""),
            {
              stream: A,
              type: f,
              Zc: d,
              jd: e,
              Bb: 0,
              yd: new Map(),
              nd: !1,
              Kc: !1,
              ke: -1,
              ue: !1,
            }),
          n = null,
          i = new AbortController();
        return (
          (A.createSegmentIndex = function () {
            return (
              n ||
              ((i = new AbortController()),
              (n = new Promise(function (e) {
                e(t(i.signal));
              })))
            );
          }),
          (A.closeSegmentIndex = function () {
            n && !A.segmentIndex && i.abort(),
              A.segmentIndex &&
                (A.segmentIndex.release(), (A.segmentIndex = null)),
              (n = null);
          }),
          w
        );
      }
      function Nh(e) {
        for (
          var t = 1 / 0, n = (e = Ee(e.h.values())).next();
          !n.done;
          n = e.next()
        )
          (n = n.value).stream.segmentIndex &&
            "text" != n.stream.type &&
            (t = Math.min(t, n.Bb));
        return t;
      }
      function Rh(e, t) {
        for (var n = [], i = Ee(t), r = i.next(); !r.done; r = i.next()) {
          r = r.value;
          if (r.segmentIndex) {
            a = void 0;
            o = void 0;
            s = void 0;
            u = void 0;
            var a = r.segmentIndex;
            var o = function (e) {
              n.push(e);
            };
            for (var s = Ee(a.g), u = s.next(); !u.done; u = s.next())
              o(u.value);
          }
        }
        e.j.kc(n);
      }
      function _h(e, t) {
        if (!Vh(e))
          for (var n = Nh(e), i = Ee(t), r = i.next(); !r.done; r = i.next())
            r.value.stream.segmentIndex.xb(0, n);
        for (r = (n = Ee(t)).next(); !r.done; r = n.next())
          (r = r.value.stream), ts.includes(r.mimeType) && (r.codecs = "");
        Rh(
          e,
          t.map(function (e) {
            return e.stream;
          })
        ),
          (e.g.hls.ignoreManifestProgramDateTime
            ? function (e, t) {
                for (
                  var n = -1 == e.F, i = Ee(t), r = i.next();
                  !r.done;
                  r = i.next()
                ) {
                  var a = (r = r.value).stream.segmentIndex,
                    o = wh(e, r);
                  if ((a = a.g[0] || null))
                    for (var s = (o = Ee(o)).next(); !s.done; s = o.next()) {
                      var u = (s = Ee(s.value)).next().value;
                      if (s.next().value == a.startTime) {
                        n && (e.F = Math.max(e.F, u)), (r.ke = u);
                        break;
                      }
                    }
                }
                if (!(e.F < 0))
                  for (r = (n = Ee(t)).next(); !r.done; r = n.next())
                    (r = (i = r.value).stream.segmentIndex) &&
                      (r.g.splice(0, e.F - i.ke),
                      (r = r.g[0] || null) && Sh(e, i, -r.startTime));
              }
            : function (e, t) {
                if (1 / 0 == e.M)
                  for (var n = Ee(t), i = n.next(); !i.done; i = n.next()) {
                    var r = i.value.stream.segmentIndex.g[0] || null;
                    null != r && null != r.g && (e.M = Math.min(e.M, r.g));
                  }
                if (1 / 0 != (n = e.M))
                  for (
                    i = (r = Ee(e.h.values())).next();
                    !i.done;
                    i = r.next()
                  ) {
                    var a = (i = i.value).stream.segmentIndex;
                    null != a &&
                      (null == (a = a.g[0] || null).g
                        ? re(
                            "Missing EXT-X-PROGRAM-DATE-TIME for stream",
                            i.Zc,
                            "Expect AV sync issues!"
                          )
                        : Sh(e, i, a.g - n - a.startTime));
                  }
              })(e, t);
      }
      function Ph(h, f, p, g, m, v, y, b, E, T, A, w, S, x, I) {
        var k, C, M, L, N, R, _, P, D, O, U, j, B, F;
        return Ie(function (e) {
          if (1 == e.g) {
            if (1 != f.type) throw new ke(2, 4, 4017);
            (k = ah(f.g, "EXT-X-DEFINE")), (k = Ih(h, k));
            var t = sh(f.g, "EXT-X-PLAYLIST-TYPE"),
              n = sh(f.g, "EXT-X-ENDLIST"),
              n = (t && "VOD" == t.value) || n,
              t = t && "EVENT" == t.value && !n;
            if (((t = !n && !t), n)) Hh(h, $h);
            else {
              if ((Hh(h, t ? Qh : Jh), !(n = sh(f.g, "EXT-X-TARGETDURATION"))))
                throw new ke(2, 4, 4024, "EXT-X-TARGETDURATION");
              (n = Number(n.value)),
                (t = sh(f.g, "EXT-X-PART-INF")),
                h.l && t
                  ? ((h.aa = Number(nh(t, "PART-TARGET"))),
                    (h.J = Math.min(h.aa, h.J)),
                    (t = sh(f.g, "EXT-X-SERVER-CONTROL")),
                    (h.U = t ? Number(nh(t, "PART-HOLD-BACK")) : 0))
                  : (h.J = Math.min(n, h.J)),
                (h.sa = Math.max(n, h.sa));
            }
            return I
              ? e.D(2)
              : Te(
                  e,
                  ((i = h),
                  (r = v),
                  (a = m),
                  (o = f),
                  (s = k),
                  Ie(function (e) {
                    return 1 == e.g
                      ? ((u = Xi),
                        (d = Math.trunc((o.segments.length - 1) / 2)),
                        (d = Gh(o.segments[d].i, s)),
                        (l = new fe(d)),
                        (l = l.Ha.split(".").pop()),
                        (c = qh[r]),
                        (c = c[l]) || (c = Wh[l]) || (c = Kh(r, a))
                          ? e.return(c)
                          : (((l = zi([d], i.g.retryParameters)).method =
                              "HEAD"),
                            Te(e, Xh(i, l, u), 2)))
                      : ((c = e.h),
                        (d = c.headers["content-type"])
                          ? e.return(d.split(";")[0])
                          : e.return(r == G ? "text/vtt" : qh[r].mp4));
                  })),
                  3
                );
          }
          var i, r, a, o, s, u, l, c, d;
          if (
            (2 != e.g && (I = e.h),
            (N = Oh(f, I)),
            (C = N.drmInfos),
            (M = N.keyIds),
            (L = N.encrypted),
            (N = N.mg),
            L && !C.length && !N)
          )
            throw new ke(2, 4, 4026);
          if (
            ((N = Vh(h) ? h.H.get(v) : new Map()),
            (_ = Fh(h, f, v, N, k)),
            (R = _[_.length - 1].endTime),
            (_ = new K(_)),
            (P = v == G ? "subtitle" : void 0),
            (D = []),
            w)
          )
            for (O = Ee(w.split(",")), U = O.next(); !U.done; U = O.next())
              (j = U.value), D.push(j);
          return (
            (B =
              !!(B = sh(f.g, "EXT-X-SERVER-CONTROL")) &&
              null != B.getAttribute("CAN-SKIP-UNTIL")),
            ((F = Dh(h, m, v, y, b, E, T, A, S, x)).segmentIndex = _),
            (F.encrypted = L),
            (F.drmInfos = C),
            (F.keyIds = M),
            (F.kind = P),
            (F.roles = D),
            (F.mimeType = I),
            e.return({
              stream: F,
              type: v,
              Zc: p,
              jd: g,
              Bb: R,
              nd: B,
              Kc: !1,
              ke: -1,
              yd: N,
              ue: !1,
            })
          );
        });
      }
      function Dh(e, t, n, i, r, a, o, s, u, l) {
        var c = Kh(n, t) || (n == G ? "text/vtt" : qh[n].mp4);
        return {
          id: e.ua++,
          originalId: a,
          createSegmentIndex: function () {
            return Promise.resolve();
          },
          segmentIndex: null,
          mimeType: c,
          codecs: t,
          kind: void 0,
          encrypted: !1,
          drmInfos: [],
          keyIds: new Set(),
          language: i,
          label: a,
          type: n,
          primary: r,
          trickModeVideo: null,
          emsgSchemeIdUris: null,
          frameRate: void 0,
          pixelAspectRatio: void 0,
          width: void 0,
          height: void 0,
          bandwidth: void 0,
          roles: [],
          forced: u,
          channelsCount: o,
          audioSamplingRate: null,
          spatialAudio: l,
          closedCaptions: s,
          hdr: void 0,
          tilesLayout: void 0,
        };
      }
      function Oh(e, t) {
        var n = [];
        if (e.segments)
          for (var i = Ee(e.segments), r = i.next(); !r.done; r = i.next())
            (r = ah(r.value.g, "EXT-X-KEY")), n.push.apply(n, I(r));
        for (
          var r = (i = !1), a = [], o = new Set(), s = (n = Ee(n)).next();
          !s.done;
          s = n.next()
        )
          if ("NONE" != (u = nh((s = s.value), "METHOD")))
            if (((i = !0), "AES-128" == u)) r = !0;
            else if (
              ((u = F(s, "KEYFORMAT") || "identity"),
              (s = (u = Yh[u]) ? u(s, t) : null))
            ) {
              if (s.keyIds)
                for (
                  var u, l = (u = Ee(s.keyIds)).next();
                  !l.done;
                  l = u.next()
                )
                  o.add(l.value);
              a.push(s);
            }
        return { drmInfos: a, keyIds: o, encrypted: i, mg: r };
      }
      function Uh(e) {
        var t =
          e.g.defaultPresentationDelay ||
          e.U ||
          e.sa * e.g.hls.liveSegmentsDelay;
        e.j.Yf(0), e.j.Vf(t), e.j.Yc(!1);
      }
      function jh(e, t, n, i) {
        return (n = sh(n, "EXT-X-MAP"))
          ? ((t = [
              (i = Gh(lh(t, nh(n, "URI")), i)),
              F(n, "BYTERANGE", ""),
            ].join("-")),
            e.$.has(t) ||
              ((r = i),
              (i = 0),
              (o = null),
              (a = F((a = n), "BYTERANGE")) &&
                ((i = a.split("@")),
                (o = Number(i[0])),
                (i = Number(i[1])),
                (o = i + o - 1)),
              (n = new vo(
                function () {
                  return [r];
                },
                i,
                o
              )),
              e.$.set(t, n)),
            e.$.get(t))
          : null;
        var r, a, o;
      }
      function Bh(e, t) {
        var n = 0,
          i = null;
        return (
          t &&
            ((n = t.split("@")),
            (i = Number(n[0])),
            (i = (n = n[1] ? Number(n[1]) : e.Ba + 1) + i - 1)),
          [n, i]
        );
      }
      function Fh(e, t, n, i, r) {
        var a = t.segments,
          o = void 0,
          s = uh(t.g),
          u = sh(t.g, "EXT-X-SKIP"),
          l = s + (u = u ? Number(F(u, "SKIPPED-SEGMENTS")) : 0),
          c = 0;
        Vh(e) && i.has(l) && (c = i.get(l));
        for (var d = [], h = null, f = 0; f < a.length; f++) {
          for (
            var p = a[f],
              g = 0 == f ? c : h.endTime,
              l = s + u + f,
              m = Ee(p.g),
              v = m.next();
            !v.done;
            v = m.next()
          )
            "EXT-X-KEY" == (v = v.value).name &&
              "AES-128" == nh(v, "METHOD") &&
              (o = (function (i, e, t) {
                if (!N.crypto || !N.crypto.subtle)
                  throw (
                    (k(
                      "Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"
                    ),
                    new ke(2, 4, 4042))
                  );
                var n = 0,
                  r = F(e, "IV", "");
                if (r) {
                  var a = dn(r.substr(2));
                  if (16 != a.byteLength) throw new ke(2, 4, 4043);
                } else n = uh(t.g);
                var o = zi([(e = lh(t.h, nh(e, "URI")))], i.g.retryParameters),
                  s = {
                    method: "AES-128",
                    iv: a,
                    firstMediaSequenceNumber: n,
                    fetchKey: function () {
                      var t, n;
                      return Ie(function (e) {
                        if (1 == e.g) return Te(e, Xh(i, o, 6), 2);
                        if (3 != e.g) {
                          if ((t = e.h).data && 16 == t.data.byteLength)
                            return (
                              (n = s),
                              Te(
                                e,
                                N.crypto.subtle.importKey(
                                  "raw",
                                  t.data,
                                  "AES-CBC",
                                  !0,
                                  ["decrypt"]
                                ),
                                3
                              )
                            );
                          throw new ke(2, 4, 4044);
                        }
                        (n.cryptoKey = e.h), (s.fetchKey = void 0), Ae(e);
                      });
                    },
                  };
                return s;
              })(e, v, t));
          i.set(l, g),
            (m = jh(e, t.h, p.g, r)),
            !e.l &&
              e.i.isAutoLowLatencyMode() &&
              (e.i.enableLowLatencyMode(), (e.l = e.i.isLowLatencyMode())),
            !(h = p =
              (function (e, t, n, i, r, a, o, s, u) {
                var l,
                  c = i.g,
                  d = Gh(i.i, a),
                  h = sh(c, "EXTINF"),
                  f = (a = 0),
                  p = null,
                  g =
                    (i.h.length &&
                      !e.l &&
                      k(
                        "Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."
                      ),
                    null);
                if (
                  (e.g.hls.ignoreManifestProgramDateTime ||
                    ((l = sh(c, "EXT-X-PROGRAM-DATE-TIME")) &&
                      l.value &&
                      (g = Tr(l.value))),
                  (l = yo),
                  sh(c, "EXT-X-GAP") && (l = 2),
                  !h)
                ) {
                  if (0 == i.h.length) throw new ke(2, 4, 4024, "EXTINF");
                  if (!e.l) return null;
                }
                var m = [];
                if (e.l)
                  for (
                    var v = {}, y = 0;
                    y < i.h.length;
                    v = { Wd: v.Wd }, y++
                  ) {
                    var b,
                      E,
                      T = i.h[y],
                      A = 0 == y ? n : m[m.length - 1],
                      w = 0 == y ? r : A.endTime,
                      S = Number(F(T, "DURATION")) || e.aa;
                    S &&
                      ((S = w + S),
                      (b = 0),
                      (E = null),
                      "EXT-X-PRELOAD-HINT" == T.name
                        ? (b = (b = F(T, "BYTERANGE-START")) ? Number(b) : 0)
                        : ((b = (E = Ee(Bh(A, (b = F(T, "BYTERANGE"))))).next()
                            .value),
                          (E = E.next().value)),
                      (A = F(T, "URI")) &&
                        ((v.Wd = lh(o, A)),
                        (A = yo),
                        "YES" == F(T, "GAP") && (A = 2),
                        m.push(
                          new j(
                            w,
                            S,
                            (function (e) {
                              return function () {
                                return [e.Wd];
                              };
                            })(v),
                            b,
                            E,
                            t,
                            0,
                            0,
                            1 / 0,
                            [],
                            "",
                            null,
                            null,
                            A
                          )
                        )));
                  }
                return (
                  (a = h
                    ? r + Number(h.value.split(",")[0])
                    : m[m.length - 1].endTime),
                  (e = sh(c, "EXT-X-BYTERANGE"))
                    ? ((f = (p = Ee(Bh(n, e.value))).next().value),
                      (p = p.next().value))
                    : m.length && ((f = m[0].Sa), (p = m[m.length - 1].Ba)),
                  (n = ""),
                  (e = null),
                  "image" == s &&
                    ((n = "1x1"), (s = sh(c, "EXT-X-TILES"))) &&
                    ((n = nh(s, "LAYOUT")),
                    (s = F(s, "DURATION")) && (e = Number(s))),
                  new j(
                    r,
                    a,
                    function () {
                      return d.length ? [d] : [];
                    },
                    f,
                    p,
                    t,
                    0,
                    0,
                    1 / 0,
                    m,
                    n,
                    e,
                    g,
                    l,
                    u
                  )
                );
              })(e, m, h, p, g, r, t.h, n, o)) ||
              (e.g.hls.ignoreManifestProgramDateTime &&
                null != e.F &&
                l < e.F) ||
              d.push(p);
        }
        if (
          (e = d.some(function (e) {
            return null != e.g;
          }))
        )
          for (
            t = {}, n = 0;
            n < d.length;
            t = { sc: t.sc, rc: t.rc, $c: t.$c, rb: t.rb, qc: t.qc }, n++
          )
            if (((t.rb = d[n]), null == t.rb.g))
              for (
                t.rc = 0,
                  t.sc = n,
                  i = (function (t) {
                    return function () {
                      var e = d[t.sc];
                      if (e) {
                        if (null != e.g) return e.g + t.rc;
                        (t.rc -= e.endTime - e.startTime), (t.sc += 1);
                      }
                      return null;
                    };
                  })(t),
                  t.qc = 0,
                  t.$c = n,
                  r = (function (t) {
                    return function () {
                      var e = d[t.$c];
                      if (e) {
                        if (
                          (e != t.rb && (t.qc += e.endTime - e.startTime),
                          null != e.g)
                        )
                          return e.g + t.qc;
                        --t.$c;
                      }
                      return null;
                    };
                  })(t);
                null == t.rb.g;

              )
                (t.rb.g = r()), null == t.rb.g && (t.rb.g = i());
        if (e)
          for (t = (e = Ee(d)).next(); !t.done; t = e.next())
            for (
              t = (n = t.value).g, i = (n = Ee(n.i)).next();
              !i.done;
              i = n.next()
            )
              ((i = i.value).g = t), (t += i.endTime - i.startTime);
        return d;
      }
      function Gh(e, t) {
        var n = String(e).replace(/%7B/g, "{").replace(/%7D/g, "}"),
          i = n.match(/{\$\w*}/g);
        if (i)
          for (var r = (i = Ee(i)).next(); !r.done; r = i.next()) {
            var a = (r = r.value).slice(2, r.length - 1),
              o = t.get(a);
            if (!o) throw new ke(2, 4, 4039, a);
            n = n.replace(r, o);
          }
        return n;
      }
      function Kh(e, t) {
        if (e == G) {
          if ("vtt" == t || "wvtt" == t) return "text/vtt";
          if (t && "" !== t) return "application/mp4";
        }
        return "image" != e || (t && "jpeg" != t)
          ? "audio" == e && "mp4a.40.34" == t
            ? "audio/mpeg"
            : null
          : "image/jpeg";
      }
      function zh(e, t) {
        t = zi([t], e.g.retryParameters);
        return e.i.modifyManifestRequest(t, { format: "h" }), Xh(e, t, 0);
      }
      function Vh(e) {
        return e.ba != $h;
      }
      function Hh(e, t) {
        (e.ba = t), e.j && e.j.Yc(!Vh(e)), Vh(e) || e.m.stop();
      }
      function Xh(e, t, n) {
        if (e.I)
          return (
            (t = e.i.networkingEngine.request(n, t)), Fi(e.I, t), t.promise
          );
        throw new ke(2, 7, 7001);
      }
      t("shaka.net.DataUriPlugin", bh),
        Ki("data", (bh.parse = Eh)),
        ((n = Ah.prototype).configure = function (e) {
          this.g = e;
        }),
        (n.start = function (t, n) {
          var i,
            r = this;
          return Ie(function (e) {
            return 1 == e.g
              ? ((r.i = n), (r.l = n.isLowLatencyMode()), Te(e, zh(r, t), 2))
              : 3 != e.g
              ? ((i = e.h),
                (r.O = i.uri),
                Te(
                  e,
                  ((f = r),
                  (p = i.data),
                  (g = t),
                  Ie(function (e) {
                    switch (e.g) {
                      case 1:
                        m = gh(f.Y, p, f.O);
                        for (
                          var t = Ee(ah(m.g, "EXT-X-DEFINE")), n = t.next();
                          !n.done;
                          n = t.next()
                        ) {
                          var n = F((i = n.value), "NAME"),
                            i = F(i, "VALUE");
                          n && i && (f.s.has(n) || f.s.set(n, i));
                        }
                        if (((v = []), (y = []), (b = []), 1 == m.type))
                          return (
                            (C = f.g.hls.mediaPlaylistFullMimeType),
                            m.segments.length &&
                              ((I = new fe(m.segments[0].i)),
                              (I = I.Ha.split(".").pop()),
                              (I = Wh[I]) && (C = I)),
                            (I = C.split(";")[0]),
                            (k = I.split("/")[0]),
                            (C = In(C)),
                            (M = new Map()),
                            Te(
                              e,
                              Ph(
                                f,
                                m,
                                g,
                                g,
                                C,
                                k,
                                "",
                                !0,
                                "Media Playlist",
                                null,
                                M,
                                null,
                                !1,
                                !1,
                                I
                              ),
                              5
                            )
                          );
                        for (
                          C = ah(m.g, "EXT-X-MEDIA"),
                            M = ah(m.g, "EXT-X-STREAM-INF"),
                            R = ah(m.g, "EXT-X-IMAGE-STREAM-INF"),
                            N = ah(m.g, "EXT-X-SESSION-KEY"),
                            n = (t = Ee(M)).next();
                          !n.done;
                          n = t.next()
                        ) {
                          (i = F((o = n.value), "AUDIO")), (n = F(o, "VIDEO"));
                          var r,
                            a = F(o, "SUBTITLES"),
                            o = kh(f, o);
                          a && ((r = Ve(G, o)), f.B.set(a, r), dt(o, r)),
                            i &&
                              ((a =
                                (a = Ve("audio", o)) ||
                                f.g.hls.defaultAudioCodec),
                              f.B.set(i, a)),
                            n &&
                              ((i =
                                (i = Ve("video", o)) ||
                                f.g.hls.defaultVideoCodec),
                              f.B.set(n, i));
                        }
                        for (
                          L = ah(m.g, "EXT-X-SESSION-DATA"),
                            E = Ee(L),
                            T = E.next();
                          !T.done;
                          T = E.next()
                        )
                          (w = T.value),
                            (S = F(w, "DATA-ID")),
                            (x = F(w, "URI")),
                            (A = F(w, "LANGUAGE")),
                            (w = F(w, "VALUE")),
                            (S = new Map().set("id", S)),
                            x && S.set("uri", lh(f.O, x)),
                            A && S.set("language", A),
                            w && S.set("value", w),
                            (x = new _("sessiondata", S)),
                            f.i && f.i.onEvent(x);
                        for (
                          var s = f,
                            u = Ee(
                              C.filter(function (e) {
                                var t = F(e, "URI") || "";
                                return "SUBTITLES" != F(e, "TYPE") && "" != t;
                              })
                            ),
                            l = u.next();
                          !l.done;
                          l = u.next()
                        )
                          Mh(s, l.value);
                        for (
                          n = (t = Ee((t = oh(C, "CLOSED-CAPTIONS")))).next();
                          !n.done;
                          n = t.next()
                        )
                          (n = Ch((a = n.value))),
                            (i = nh(a, "GROUP-ID")),
                            (a = nh(a, "INSTREAM-ID")),
                            f.K.get(i) || f.K.set(i, new Map()),
                            f.K.get(i).set(a, n);
                        return (
                          (v = (function (T, e, t) {
                            var A = [],
                              w = new Set();
                            if (0 < t.length)
                              for (
                                var n = (t = Ee(t)).next();
                                !n.done;
                                n = t.next()
                              ) {
                                var i = nh((n = n.value), "METHOD");
                                if (
                                  "NONE" != i &&
                                  "AES-128" != i &&
                                  ((i = F(n, "KEYFORMAT") || "identity"),
                                  (n = (i = Yh[i]) ? i(n, "") : null))
                                ) {
                                  if (n.keyIds)
                                    for (
                                      var r = (i = Ee(n.keyIds)).next();
                                      !r.done;
                                      r = i.next()
                                    )
                                      w.add(r.value);
                                  A.push(n);
                                }
                              }
                            return (e = (e = e
                              .map(function (e) {
                                var t,
                                  n,
                                  i,
                                  r,
                                  a,
                                  o,
                                  s,
                                  u,
                                  l,
                                  c,
                                  d = F(e, "FRAME-RATE"),
                                  h =
                                    Number(F(e, "AVERAGE-BANDWIDTH")) ||
                                    Number(nh(e, "BANDWIDTH")),
                                  f = F(e, "RESOLUTION"),
                                  p = (f = Ee(
                                    f ? f.split("x") : [null, null]
                                  )).next().value,
                                  g = f.next().value,
                                  m = F(e, "VIDEO-RANGE");
                                (i = kh((t = T), (n = e))),
                                  (r = F(n, "AUDIO")),
                                  (a = F(n, "VIDEO")),
                                  (o =
                                    (o = r || a) && t.C.has(o)
                                      ? t.C.get(o)
                                      : []),
                                  (a = !(r = {
                                    audio: r ? o : [],
                                    video: a ? o : [],
                                  })),
                                  (s = nh(n, "URI")),
                                  (u = r.audio.find(function (e) {
                                    return e && e.Zc == s;
                                  })),
                                  (l = Ve("video", i)),
                                  (c = Ve("audio", i)) && !l
                                    ? (o = "audio")
                                    : !o.length && c && l
                                    ? ((o = "video"), (i = [[l, c].join()]))
                                    : r.audio.length && u
                                    ? ((o = "audio"), (a = !0))
                                    : (o = r.video.length ? "audio" : "video"),
                                  a ||
                                    ((i = (function (e, t, n, i) {
                                      var r = Gh(nh(t, "URI"), e.s);
                                      return e.h.has(r)
                                        ? e.h.get(r)
                                        : ((t = F(t, "CLOSED-CAPTIONS")),
                                          (t =
                                            "video" == i && t && "NONE" != t
                                              ? e.K.get(t)
                                              : null),
                                          (n = ze(i, n)),
                                          (i = Lh(
                                            e,
                                            r,
                                            n,
                                            i,
                                            "und",
                                            !1,
                                            null,
                                            null,
                                            t,
                                            null,
                                            !1,
                                            !1
                                          )),
                                          e.h.has(r)
                                            ? e.h.get(r)
                                            : (e.h.set(r, i), i));
                                    })(t, n, i, o)),
                                    (r[i.stream.type] = [i])),
                                  (f = (e = r).audio);
                                for (
                                  var v = Ee((e = e.video)), y = v.next();
                                  !y.done;
                                  y = v.next()
                                )
                                  (y = y.value.stream) &&
                                    ((y.width = Number(p) || void 0),
                                    (y.height = Number(g) || void 0),
                                    (y.frameRate = Number(d) || void 0),
                                    (y.hdr = m || void 0));
                                for (
                                  d = T.g.disableAudio,
                                    (f.length && !d) || (f = [null]),
                                    d = T.g.disableVideo,
                                    (e.length && !d) || (e = [null]),
                                    d = [],
                                    p = (f = Ee(f)).next();
                                  !p.done;
                                  p = f.next()
                                )
                                  for (
                                    p = p.value, m = (g = Ee(e)).next();
                                    !m.done;
                                    m = g.next()
                                  ) {
                                    var b = m.value,
                                      E =
                                        ((m = p ? p.stream : null) &&
                                          ((m.drmInfos = A), (m.keyIds = w)),
                                        (v = b ? b.stream : null) &&
                                          ((v.drmInfos = A), (v.keyIds = w)),
                                        (y = p ? p.stream.drmInfos : null),
                                        b ? b.stream.drmInfos : null),
                                      b =
                                        (b ? b.Zc : "") +
                                        " - " +
                                        (p ? p.Zc : "");
                                    (m &&
                                      v &&
                                      y.length &&
                                      E.length &&
                                      !(0 < Xr(y, E).length)) ||
                                      T.ka.has(b) ||
                                      ((m = {
                                        id: T.ua++,
                                        language: m ? m.language : "und",
                                        primary:
                                          (!!m && m.primary) ||
                                          (!!v && v.primary),
                                        audio: m,
                                        video: v,
                                        bandwidth: h,
                                        allowedByApplication: !0,
                                        allowedByKeySystem: !0,
                                        decodingInfos: [],
                                      }),
                                      d.push(m),
                                      T.ka.add(b));
                                  }
                                return d;
                              })
                              .reduce(je, [])).filter(function (e) {
                              return null != e;
                            }));
                          })(f, M, N)),
                          (y = (function (t, e) {
                            for (
                              var n = oh(e, "SUBTITLES"),
                                e = n.map(function (e) {
                                  if (t.g.disableText) return null;
                                  try {
                                    return Mh(t, e).stream;
                                  } catch (e) {
                                    if (t.g.hls.ignoreTextStreamFailures)
                                      return null;
                                    throw e;
                                  }
                                }),
                                i = (n = Ee(n)).next();
                              !i.done;
                              i = n.next()
                            ) {
                              var r = nh(i.value, "GROUP-ID");
                              if ((i = t.B.get(r)) && (r = t.C.get(r)))
                                for (
                                  var a = (r = Ee(r)).next();
                                  !a.done;
                                  a = r.next()
                                )
                                  a.value.stream.codecs = i;
                            }
                            return e.filter(function (e) {
                              return e;
                            });
                          })(f, C)),
                          Te(
                            e,
                            ((d = f),
                            (c = R),
                            Ie(function (e) {
                              return 1 == e.g
                                ? ((h = c.map(function (l) {
                                    var c;
                                    return Ie(function (e) {
                                      if (1 == e.g)
                                        return d.g.disableThumbnails
                                          ? e.return(null)
                                          : (we(e, 2),
                                            Te(
                                              e,
                                              ((t = d),
                                              (n = l),
                                              Ie(function (e) {
                                                return 1 == e.g
                                                  ? ((i = Gh(
                                                      nh(n, "URI"),
                                                      t.s
                                                    )),
                                                    (o =
                                                      F(n, "CODECS", "jpeg") ||
                                                      ""),
                                                    t.h.has(i)
                                                      ? e.return(t.h.get(i))
                                                      : ((r = Ch(n)),
                                                        (s = F(n, "NAME")),
                                                        (u = F(
                                                          n,
                                                          "CHARACTERISTICS"
                                                        )),
                                                        (r = Lh(
                                                          t,
                                                          i,
                                                          o,
                                                          "image",
                                                          r,
                                                          !1,
                                                          s,
                                                          null,
                                                          null,
                                                          u,
                                                          !1,
                                                          !1
                                                        )),
                                                        t.h.has(i)
                                                          ? e.return(t.h.get(i))
                                                          : (a = F(
                                                              n,
                                                              "RESOLUTION"
                                                            ))
                                                          ? Te(
                                                              e,
                                                              r.stream.createSegmentIndex(),
                                                              3
                                                            )
                                                          : e.D(2)))
                                                  : (2 != e.g &&
                                                      ((o =
                                                        r.stream.segmentIndex.get(
                                                          0
                                                        )),
                                                      (s = o.tilesLayout)) &&
                                                      ((r.stream.width =
                                                        Number(
                                                          a.split("x")[0]
                                                        ) *
                                                        Number(
                                                          s.split("x")[0]
                                                        )),
                                                      (r.stream.height =
                                                        Number(
                                                          a.split("x")[1]
                                                        ) *
                                                        Number(
                                                          s.split("x")[1]
                                                        ))),
                                                    (u = F(n, "BANDWIDTH")) &&
                                                      (r.stream.bandwidth =
                                                        Number(u)),
                                                    t.h.set(i, r),
                                                    e.return(r));
                                              })),
                                              4
                                            ));
                                      var t, n, i, r, a, o, s, u;
                                      if (2 != e.g)
                                        return (c = e.h), e.return(c.stream);
                                      if (
                                        ((c = xe(e)),
                                        d.g.hls.ignoreImageStreamFailures)
                                      )
                                        return e.return(null);
                                      throw c;
                                    });
                                  })),
                                  Te(e, Promise.all(h), 2))
                                : ((h = e.h),
                                  e.return(
                                    h.filter(function (e) {
                                      return e;
                                    })
                                  ));
                            })),
                            4
                          )
                        );
                      case 4:
                        (b = e.h), e.D(3);
                        break;
                      case 5:
                        (L = e.h),
                          f.h.set(g, L),
                          v.push({
                            id: 0,
                            language: "und",
                            disabledUntilTime: 0,
                            primary: !0,
                            audio: "audio" == k ? L.stream : null,
                            video: "video" == k ? L.stream : null,
                            bandwidth: 0,
                            allowedByApplication: !0,
                            allowedByKeySystem: !0,
                            decodingInfos: [],
                          });
                      case 3:
                        if (!f.i) throw new ke(2, 7, 7001);
                        (f.j = new B(null, 0)),
                          f.j.Yc(!0),
                          1 == m.type &&
                            (Vh(f) && (Uh(f), (N = f.R), f.m.S(N)),
                            (R = Array.from(f.h.values())),
                            _h(f, R),
                            xh(f)),
                          (f.G = {
                            presentationTimeline: f.j,
                            variants: v,
                            textStreams: y,
                            imageStreams: b,
                            offlineSessionIds: [],
                            minBufferTime: 0,
                            sequenceMode: !0,
                          }),
                          f.i.makeTextStreamsForClosedCaptions(f.G),
                          Ae(e);
                    }
                    var d, c, h;
                  })),
                  3
                ))
              : e.return(r.G);
            var f, p, g, m, v, y, b, E, T, A, w, S, x, I, k, C, M, L, N, R;
          });
        }),
        (n.stop = function () {
          this.m && (this.m.stop(), (this.m = null));
          var e = [];
          return (
            this.I && (e.push(this.I.destroy()), (this.I = null)),
            (this.g = this.i = null),
            this.ka.clear(),
            (this.G = null),
            this.h.clear(),
            this.C.clear(),
            this.B.clear(),
            this.s.clear(),
            Promise.all(e)
          );
        }),
        (n.update = function () {
          var t,
            n,
            i,
            r,
            a,
            o,
            s,
            u = this;
          return Ie(function (e) {
            if (1 == e.g) {
              if (!Vh(u)) return e.return();
              for (
                t = [],
                  n = Array.from(u.h.values()),
                  i = n.filter(function (e) {
                    return e.stream.segmentIndex;
                  }),
                  r = Ee(i),
                  a = r.next();
                !a.done;
                a = r.next()
              )
                (o = a.value),
                  t.push(
                    (function (t, n) {
                      var i, r, a, o, s, u, l;
                      return Ie(function (e) {
                        if (1 == e.g)
                          return (
                            (i = n.jd),
                            (i = new fe(i)),
                            t.l && n.nd && me(i, new Oe("_HLS_skip=YES")),
                            Te(e, zh(t, i.toString()), 2)
                          );
                        if (((i = e.h), !n.stream.segmentIndex))
                          return e.return();
                        if (1 != (r = gh(t.Y, i.data, i.uri)).type)
                          throw new ke(2, 4, 4017);
                        (u = ah(r.g, "EXT-X-DEFINE")),
                          (u = Ih(t, u)),
                          (a = n.stream),
                          (l = wh(t, n)),
                          (s = Oh(r, a.mimeType)),
                          (o = s.keyIds),
                          (s = s.drmInfos),
                          (function (e, t) {
                            return (
                              e.size === t.size &&
                              [].concat(I(e)).every(function (e) {
                                return t.has(e);
                              })
                            );
                          })(a.keyIds, o) ||
                            ((a.keyIds = o),
                            (a.drmInfos = s),
                            t.i.newDrmInfo(a)),
                          (o = Fh(t, r, a.type, l, u)),
                          a.segmentIndex.jc(o, t.j.kb()),
                          o.length &&
                            ((s = uh(r.g)),
                            (u = l.get(s)),
                            a.segmentIndex.Hb(u)),
                          (l = o[o.length - 1]),
                          sh(r.g, "EXT-X-ENDLIST") &&
                            ((n.Kc = !0), (n.Bb = l.endTime)),
                          Ae(e);
                      });
                    })(u, o)
                  );
              return Te(e, Promise.all(t), 2);
            }
            Rh(
              u,
              i.map(function (e) {
                return e.stream;
              })
            ),
              (s = i.some(function (e) {
                return 0 == e.Kc;
              })),
              i.length &&
                !s &&
                (Hh(u, Zh.ig),
                (s = n.map(function (e) {
                  return e.Bb;
                })),
                u.j.bb(Math.min.apply(Math, I(s))),
                u.i.updateDuration()),
              Ae(e);
          });
        }),
        (n.onExpirationUpdated = function () {}),
        t("shaka.hls.HlsParser", Ah);
      var Wh = {
          aac: "audio/aac",
          ac3: "audio/ac3",
          ec3: "audio/ec3",
          mp3: "audio/mpeg",
        },
        qh = {
          audio: {
            mp4: "audio/mp4",
            mp4a: "audio/mp4",
            m4s: "audio/mp4",
            m4i: "audio/mp4",
            m4a: "audio/mp4",
            m4f: "audio/mp4",
            cmfa: "audio/mp4",
            ts: "video/mp2t",
          },
          video: {
            mp4: "video/mp4",
            mp4v: "video/mp4",
            m4s: "video/mp4",
            m4i: "video/mp4",
            m4v: "video/mp4",
            m4f: "video/mp4",
            cmfv: "video/mp4",
            ts: "video/mp2t",
          },
          text: {
            mp4: "application/mp4",
            m4s: "application/mp4",
            m4i: "application/mp4",
            m4f: "application/mp4",
            cmft: "application/mp4",
            vtt: "text/vtt",
            webvtt: "txt/vtt",
            ttml: "application/ttml+xml",
          },
          image: {
            jpg: "image/jpeg",
            png: "image/png",
            svg: "image/svg+xml",
            webp: "image/webp",
            avif: "image/avif",
          },
        },
        Yh = {
          "com.apple.streamingkeydelivery": function (e, t) {
            if ("video/mp2t" == t) throw new ke(2, 4, 4040);
            if (N.shakaMediaKeysPolyfill) throw new ke(2, 4, 4041);
            return Ke("com.apple.fps", [
              {
                initDataType: "sinf",
                initData: new Uint8Array(0),
                keyId: null,
              },
            ]);
          },
          "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": function (e) {
            var t = nh(e, "METHOD");
            return ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t)
              ? ((t = Ke("com.widevine.alpha", [
                  {
                    initDataType: "cenc",
                    initData: (t = R((t = Th((t = nh(e, "URI")))).data)),
                  },
                ])),
                (e = F(e, "KEYID")) &&
                  (t.keyIds = new Set([e.toLowerCase().substr(2)])),
                t)
              : null;
          },
          "com.microsoft.playready": function (e) {
            var t = nh(e, "METHOD");
            return ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(t)
              ? Ke("com.microsoft.playready", [
                  {
                    initDataType: "cenc",
                    initData: (e = hr(
                      (e = R((e = Th((e = nh(e, "URI")))).data)),
                      new Uint8Array([
                        154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91,
                        224, 136, 95, 149,
                      ]),
                      new Set(),
                      0
                    )),
                  },
                ])
              : null;
          },
          identity: function (e) {
            return (
              (e = nh(e, "METHOD")),
              ["SAMPLE-AES", "SAMPLE-AES-CTR"].includes(e)
                ? Ke("org.w3.clearkey", null)
                : null
            );
          },
        },
        $h = "VOD",
        Jh = "EVENT",
        Qh = "LIVE",
        Zh = { ig: $h, gi: Jh, gg: Qh };
      function ef(e, t, n, i, r, a) {
        if (200 <= n && n <= 299 && 202 != n)
          return {
            uri: r || i,
            Pf: i,
            data: t,
            status: n,
            headers: e,
            fromCache: !!e["x-shaka-from-cache"],
          };
        r = null;
        try {
          r = nn(t);
        } catch (e) {}
        throw new ke(401 == n || 403 == n ? 2 : 1, 1, 1001, i, n, r, e, a);
      }
      function tf() {}
      function nf(e, t, n, i, r) {
        var a,
          o,
          s,
          u,
          l,
          c,
          d,
          h,
          f,
          p,
          g,
          m,
          v,
          y,
          b,
          E,
          T,
          A,
          w = new lf(),
          S =
            (Qi(t.headers).forEach(function (e, t) {
              w.append(t, e);
            }),
            new sf()),
          x = { uf: !1, dg: !1 };
        return (
          (a = e),
          (o = n),
          (s = {
            body: t.body || void 0,
            headers: w,
            method: t.method,
            signal: S.signal,
            credentials: t.allowCrossSiteCredentials ? "include" : void 0,
          }),
          (u = x),
          (l = i),
          (c = r),
          (d = t.streamDataCallback),
          (e = new Ni(
            (e = Ie(function (e) {
              switch (e.g) {
                case 1:
                  return (
                    (b = of),
                    (h = uf),
                    (m = g = 0),
                    (v = Date.now()),
                    we(e, 2),
                    Te(e, b(a, s), 4)
                  );
                case 4:
                  return (
                    (f = e.h),
                    c(rf(f.headers)),
                    (y = f.clone().body.getReader()),
                    (E = (b = f.headers.get("Content-Length"))
                      ? parseInt(b, 10)
                      : 0),
                    new h({
                      start: function (r) {
                        !(function t() {
                          var n, i;
                          Ie(function (e) {
                            switch (e.g) {
                              case 1:
                                return we(e, 2), Te(e, y.read(), 4);
                              case 4:
                                (n = e.h), Se(e, 3);
                                break;
                              case 2:
                                return xe(e), e.return();
                              case 3:
                                if (n.done) {
                                  e.D(5);
                                  break;
                                }
                                if (((g += n.value.byteLength), d))
                                  return Te(e, d(n.value), 5);
                                e.D(5);
                                break;
                              case 5:
                                (100 < (i = Date.now()) - v || n.done) &&
                                  (l(i - v, g - m, E - g), (m = g), (v = i)),
                                  n.done
                                    ? r.close()
                                    : (r.enqueue(n.value), t()),
                                  Ae(e);
                            }
                          });
                        })();
                      },
                    }),
                    Te(e, f.arrayBuffer(), 5)
                  );
                case 5:
                  (p = e.h), Se(e, 3);
                  break;
                case 2:
                  if (((T = xe(e)), u.uf)) throw new ke(1, 1, 7001, a, o);
                  if (u.dg) throw new ke(1, 1, 1003, a, o);
                  throw new ke(1, 1, 1002, a, T, o);
                case 3:
                  return (
                    (T = rf(f.headers)),
                    e.return(ef(T, p, f.status, a, f.url, o))
                  );
              }
            })),
            function () {
              return (x.uf = !0), S.abort(), Promise.resolve();
            }
          )),
          (t = t.retryParameters.timeout) &&
            ((A = new M(function () {
              (x.dg = !0), S.abort();
            })).S(t / 1e3),
            e.finally(function () {
              A.stop();
            })),
          e
        );
      }
      function rf(e) {
        var n = {};
        return (
          e.forEach(function (e, t) {
            n[t.trim()] = e;
          }),
          n
        );
      }
      function af() {
        if (!N.ReadableStream) return !1;
        try {
          new ReadableStream({});
        } catch (e) {
          return !1;
        }
        return !(!N.fetch || !N.AbortController);
      }
      Yt("Tizen 3") ||
        Yt("Tizen 2") ||
        Ht() ||
        ((aa.m3u8 = function () {
          return new Ah();
        }),
        (ra["application/x-mpegurl"] = function () {
          return new Ah();
        }),
        (ra["application/vnd.apple.mpegurl"] = function () {
          return new Ah();
        })),
        t("shaka.net.HttpFetchPlugin", tf),
        (tf.isSupported = af),
        (tf.parse = nf);
      var of = N.fetch,
        sf = N.AbortController,
        uf = N.ReadableStream,
        lf = N.Headers;
      function cf() {}
      function df(a, n, o, s, u) {
        var l = new ff(),
          c = Date.now(),
          d = 0;
        return new Ni(
          new Promise(function (i, r) {
            l.open(n.method, a, !0),
              (l.responseType = "arraybuffer"),
              (l.timeout = n.retryParameters.timeout),
              (l.withCredentials = n.allowCrossSiteCredentials);
            var e,
              t = !(l.onabort = function () {
                r(new ke(1, 1, 7001, a, o));
              });
            for (e in ((l.onreadystatechange = function () {
              var e;
              2 != l.readyState || t || ((e = hf(l)), u(e), (t = !0));
            }),
            (l.onload = function () {
              var e = hf(l),
                t = l.response;
              try {
                var n = ef(e, t, l.status, a, l.responseURL, o);
                i(n);
              } catch (e) {
                r(e);
              }
            }),
            (l.onerror = function (e) {
              r(new ke(1, 1, 1002, a, e, o));
            }),
            (l.ontimeout = function () {
              r(new ke(1, 1, 1003, a, o));
            }),
            (l.onprogress = function (e) {
              var t = Date.now();
              (100 < t - c || (e.lengthComputable && e.loaded == e.total)) &&
                (s(t - c, e.loaded - d, e.total - e.loaded),
                (d = e.loaded),
                (c = t));
            }),
            n.headers))
              l.setRequestHeader(e.toLowerCase(), n.headers[e]);
            l.send(n.body);
          }),
          function () {
            return l.abort(), Promise.resolve();
          }
        );
      }
      function hf(e) {
        var t = e.getAllResponseHeaders().trim().split("\r\n");
        e = {};
        for (var n = (t = Ee(t)).next(); !n.done; n = t.next())
          e[(n = n.value.split(": "))[0].toLowerCase()] = n.slice(1).join(": ");
        return e;
      }
      af() &&
        (Ki("http", nf, 2, !0), Ki("https", nf, 2, !0), Ki("blob", nf, 2, !0)),
        t("shaka.net.HttpXHRPlugin", cf);
      var ff = N.XMLHttpRequest;
      function pf(e, t, n, i) {
        (this.g = e), (this.i = t), (this.groupId = n), (this.h = i);
      }
      function gf(e) {
        return (
          e
            .Pa()
            .map(function (e) {
              return "{" + encodeURI(e) + "}";
            })
            .join("") +
          ":" +
          e.Sa +
          ":" +
          e.Ba
        );
      }
      function mf() {
        (this.h = this.j = this.i = 0), (this.g = new Map()), (this.l = 0);
      }
      function vf(e, t) {
        e.i += t;
        var n = e.l;
        return e.l++, e.g.set(n, t), n;
      }
      function yf(e) {
        var t = this;
        (this.s = e),
          (this.j = new Map()),
          (this.i = new Yi(function () {
            return bf(t).catch(function () {});
          })),
          (this.h = []),
          (this.m = function () {}),
          (this.l = function () {}),
          (this.g = new mf());
      }
      function bf(e) {
        var t = e.h.map(function (e) {
          return e();
        });
        return (e.h = []), Promise.all(t);
      }
      function Ef(f, e, p, g, m, v) {
        O(f.i);
        var t = (f.j.get(e) || Promise.resolve()).then(function () {
          var s, u, l, c, d, h;
          return Ie(function (e) {
            if (1 == e.g)
              return Te(
                e,
                ((t = f),
                (n = p),
                Ie(function (e) {
                  return 1 == e.g
                    ? ((i = t.s.request(Xi, n)),
                      (r = function () {
                        return i.abort();
                      }),
                      t.h.push(r),
                      Te(e, i.promise, 2))
                    : ((a = e.h), dt(t.h, r), e.return(a.data));
                })),
                2
              );
            var t, n, i, r, a;
            if (((s = e.h), f.i.g)) throw new ke(2, 9, 7001);
            if (m)
              for (c in ((u = R(s)), (l = new dr(u)).data))
                (h = Number(c)), (d = l.data[h]), (h = l.g[h]), f.l(d, h);
            f.g.close(g, s.byteLength);
            var o = f.g;
            return f.m(0 == o.i ? 0 : o.j / o.i, f.g.h), e.return(v(s));
          });
        });
        f.j.set(e, t);
      }
      function Tf(e, t) {
        var n = this;
        (this.i = e),
          (this.h = e.objectStore(t)),
          (this.g = new P()),
          (e.onabort = function (e) {
            e.preventDefault(), n.g.reject();
          }),
          (e.onerror = function (e) {
            e.preventDefault(), n.g.reject();
          }),
          (e.oncomplete = function () {
            n.g.resolve();
          });
      }
      function Af(t, r) {
        return new Promise(function (n, e) {
          var i = t.h.openCursor();
          (i.onerror = e),
            (i.onsuccess = function () {
              var t;
              return Ie(function (e) {
                if (1 == e.g)
                  return null == i.result
                    ? (n(), e.return())
                    : ((t = i.result), Te(e, r(t.key, t.value, t), 2));
                t.continue(), Ae(e);
              });
            });
        });
      }
      function wf(e) {
        (this.h = e), (this.g = []);
      }
      function Sf(e, t) {
        return xf(e, t, "readwrite");
      }
      function xf(e, t, n) {
        var i = new Tf((n = e.h.transaction([t], n)), t);
        return (
          e.g.push(i),
          i.promise().then(
            function () {
              dt(e.g, i);
            },
            function () {
              dt(e.g, i);
            }
          ),
          i
        );
      }
      function If(e, t, n) {
        (this.h = new wf(e)), (this.i = t), (this.g = n);
      }
      function kf(e) {
        return Promise.reject(
          new ke(2, 9, 9011, "Cannot add new value to " + e)
        );
      }
      function Cf(e, t, n, i) {
        t = (e = Sf(e.h, t)).store();
        for (
          var r = {}, a = (n = Ee(n)).next();
          !a.done;
          r = { dd: r.dd }, a = n.next()
        )
          (r.dd = a.value),
            (t.delete(r.dd).onsuccess = (function (e) {
              return function () {
                return i(e.dd);
              };
            })(r));
        return e.promise();
      }
      function Mf(t, n, i) {
        var r, a, o, s, u, l, c;
        return Ie(function (e) {
          if (1 == e.g) {
            for (
              r = xf(t.h, n, "readonly"),
                a = r.store(),
                o = {},
                s = [],
                u = {},
                l = Ee(i),
                c = l.next();
              !c.done;
              u = { yc: u.yc, vc: u.vc }, c = l.next()
            )
              (u.vc = c.value),
                (u.yc = a.get(u.vc)),
                (u.yc.onsuccess = (function (e) {
                  return function () {
                    null == e.yc.result && s.push(e.vc),
                      (o[e.vc] = e.yc.result);
                  };
                })(u));
            return Te(e, r.promise(), 2);
          }
          if (s.length)
            throw new ke(2, 9, 9012, "Could not find values for " + s);
          return e.return(
            i.map(function (e) {
              return o[e];
            })
          );
        });
      }
      function Lf(e) {
        this.g = new wf(e);
      }
      function Nf() {
        this.g = new Map();
      }
      function Rf(e) {
        var i = null;
        if (
          (e.g.forEach(function (e, n) {
            e.getCells().forEach(function (e, t) {
              e.hasFixedKeySpace() ||
                i ||
                (i = { path: { Ra: n, Aa: t }, Aa: e });
            });
          }),
          i)
        )
          return i;
        throw new ke(
          2,
          9,
          9013,
          "Could not find a cell that supports add-operations"
        );
      }
      function _f(e, t, n) {
        if (!(e = e.g.get(t)))
          throw new ke(2, 9, 9013, "Could not find mechanism with name " + t);
        if ((t = e.getCells().get(n))) return t;
        throw new ke(2, 9, 9013, "Could not find cell with name " + n);
      }
      function Pf(e, t) {
        Df.set(e, t);
      }
      Ki("http", (cf.parse = df), 1, !0),
        Ki("https", df, 1, !0),
        Ki("blob", df, 1, !0),
        (mf.prototype.close = function (e, t) {
          var n;
          this.g.has(e) &&
            ((n = this.g.get(e)),
            this.g.delete(e),
            (this.j += n),
            (this.h += t));
        }),
        (yf.prototype.destroy = function () {
          return this.i.destroy();
        }),
        (Tf.prototype.abort = function () {
          var t = this;
          return Ie(function (e) {
            if (1 == e.g) {
              try {
                t.i.abort();
              } catch (e) {}
              return we(e, 2), Te(e, t.g, 4);
            }
            if (2 != e.g) return Se(e, 0);
            xe(e), Ae(e);
          });
        }),
        (Tf.prototype.store = function () {
          return this.h;
        }),
        (Tf.prototype.promise = function () {
          return this.g;
        }),
        (wf.prototype.destroy = function () {
          return Promise.all(
            this.g.map(function (e) {
              return e.abort();
            })
          );
        }),
        ((n = If.prototype).destroy = function () {
          return this.h.destroy();
        }),
        (n.hasFixedKeySpace = function () {
          return !0;
        }),
        (n.addSegments = function () {
          return kf(this.i);
        }),
        (n.removeSegments = function (e, t) {
          return Cf(this, this.i, e, t);
        }),
        (n.getSegments = function (t) {
          var n,
            i = this;
          return Ie(function (e) {
            return 1 == e.g
              ? Te(e, Mf(i, i.i, t), 2)
              : ((n = e.h),
                e.return(
                  n.map(function (e) {
                    return i.xf(e);
                  })
                ));
          });
        }),
        (n.addManifests = function () {
          return kf(this.g);
        }),
        (n.updateManifest = function () {
          return Promise.reject(
            new ke(2, 9, 9016, "Cannot modify values in " + this.g)
          );
        }),
        (n.updateManifestExpiration = function (t, n) {
          var e = Sf(this.h, this.g),
            i = e.store();
          return (
            (i.get(t).onsuccess = function (e) {
              (e = e.target.result) && ((e.expiration = n), i.put(e, t));
            }),
            e.promise()
          );
        }),
        (n.removeManifests = function (e, t) {
          return Cf(this, this.g, e, t);
        }),
        (n.getManifests = function (t) {
          var n,
            i = this;
          return Ie(function (e) {
            return 1 == e.g
              ? Te(e, Mf(i, i.g, t), 2)
              : ((n = e.h),
                e.return(
                  Promise.all(
                    n.map(function (e) {
                      return i.Cc(e);
                    })
                  )
                ));
          });
        }),
        (n.getAllManifests = function () {
          var t,
            r,
            a = this;
          return Ie(function (e) {
            return 1 == e.g
              ? ((t = xf(a.h, a.g, "readonly")),
                (r = new Map()),
                Te(
                  e,
                  Af(t, function (t, n) {
                    var i;
                    return Ie(function (e) {
                      if (1 == e.g) return Te(e, a.Cc(n), 2);
                      (i = e.h), r.set(t, i), Ae(e);
                    });
                  }),
                  2
                ))
              : 3 != e.g
              ? Te(e, t.promise(), 3)
              : e.return(r);
          });
        }),
        (n.xf = function (e) {
          return e;
        }),
        (n.Cc = function (e) {
          return Promise.resolve(e);
        }),
        (n.add = function (t, n) {
          var i,
            r,
            a,
            o,
            s,
            u,
            l,
            c = this;
          return Ie(function (e) {
            if (1 != e.g) return e.return(a);
            for (
              i = Sf(c.h, t),
                r = i.store(),
                a = [],
                o = {},
                s = Ee(n),
                u = s.next();
              !u.done;
              o = { ed: o.ed }, u = s.next()
            )
              (l = u.value),
                (o.ed = r.add(l)),
                (o.ed.onsuccess = (function (e) {
                  return function () {
                    a.push(e.ed.result);
                  };
                })(o));
            return Te(e, i.promise(), 2);
          });
        }),
        (Lf.prototype.destroy = function () {
          return this.g.destroy();
        }),
        (Lf.prototype.getAll = function () {
          var t,
            n,
            i = this;
          return Ie(function (e) {
            return 1 == e.g
              ? ((t = xf(i.g, "session-ids", "readonly")),
                (n = []),
                Te(
                  e,
                  Af(t, function (e, t) {
                    n.push(t);
                  }),
                  2
                ))
              : 3 != e.g
              ? Te(e, t.promise(), 3)
              : e.return(n);
          });
        }),
        (Lf.prototype.add = function (e) {
          for (
            var t = Sf(this.g, "session-ids"),
              n = t.store(),
              i = (e = Ee(e)).next();
            !i.done;
            i = e.next()
          )
            n.add(i.value);
          return t.promise();
        }),
        (Lf.prototype.remove = function (i) {
          var t,
            n = this;
          return Ie(function (e) {
            return 1 == e.g
              ? Te(
                  e,
                  Af((t = Sf(n.g, "session-ids")), function (e, t, n) {
                    i.includes(t.sessionId) && n.delete();
                  }),
                  2
                )
              : Te(e, t.promise(), 0);
          });
        }),
        (Nf.prototype.destroy = function () {
          for (
            var e = [], t = Ee(this.g.values()), n = t.next();
            !n.done;
            n = t.next()
          )
            e.push(n.value.destroy());
          return this.g.clear(), Promise.all(e);
        }),
        (Nf.prototype.init = function () {
          var n = this;
          Df.forEach(function (e, t) {
            e = e();
            e && n.g.set(t, e);
          });
          for (
            var e = [], t = Ee(this.g.values()), i = t.next();
            !i.done;
            i = t.next()
          )
            e.push(i.value.init());
          return Promise.all(e);
        }),
        t("shaka.offline.StorageMuxer", Nf),
        (Nf.unregister = function (e) {
          Df.delete(e);
        }),
        (Nf.register = Pf);
      var Df = new Map();
      function Of() {
        If.apply(this, arguments);
      }
      function Uf(e) {
        var t;
        if (
          (t = /^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e)) ||
          (t = /^offline:segment\/([0-9]+)$/.exec(e))
        )
          return Number(t[1]);
        throw new ke(2, 9, 9004, "Could not parse uri " + e);
      }
      function jf() {
        If.apply(this, arguments);
      }
      function Bf() {
        If.apply(this, arguments);
      }
      function Ff() {
        this.m = this.j = this.i = this.h = this.g = this.l = null;
      }
      function Gf(e, t, n, i) {
        (this.g = e),
          (this.i = t),
          (this.h = n),
          (this.l = i),
          (this.j = ["offline:", e, "/", t, "/", n, "/", i].join(""));
      }
      function Kf(e) {
        if (
          null == (e = /^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e))
        )
          return null;
        var t = e[1];
        if ("manifest" != t && "segment" != t) return null;
        var n = e[2];
        if (!n) return null;
        var i = e[3];
        return i && null != t ? new Gf(t, n, i, Number(e[4])) : null;
      }
      function zf(e, t) {
        (this.h = e), (this.g = t);
      }
      function Vf(t, e) {
        var n = new B(null, 0),
          i =
            (n.bb(e.duration),
            e.streams.filter(function (e) {
              return "audio" == e.type;
            })),
          r = e.streams.filter(function (e) {
            return "video" == e.type;
          }),
          i = (function (e, t, n, i) {
            for (
              var r = new Set(), a = Ee(t), o = a.next();
              !o.done;
              o = a.next()
            ) {
              var s = Ee(o.value.variantIds);
              for (o = s.next(); !o.done; o = s.next()) r.add(o.value);
            }
            for (a = Ee(n), o = a.next(); !o.done; o = a.next())
              for (
                s = Ee(o.value.variantIds), o = s.next();
                !o.done;
                o = s.next()
              )
                r.add(o.value);
            for (a = new Map(), r = Ee(r), o = r.next(); !o.done; o = r.next())
              (o = o.value),
                a.set(o, {
                  id: o,
                  language: "",
                  disabledUntilTime: 0,
                  primary: !1,
                  audio: null,
                  video: null,
                  bandwidth: 0,
                  allowedByApplication: !0,
                  allowedByKeySystem: !0,
                  decodingInfos: [],
                });
            for (t = Ee(t), r = t.next(); !r.done; r = t.next())
              for (
                r = r.value,
                  o = Hf(e, r, i),
                  s = Ee(r.variantIds),
                  r = s.next();
                !r.done;
                r = s.next()
              )
                ((r = a.get(r.value)).language = o.language),
                  (r.primary = r.primary || o.primary),
                  (r.audio = o);
            for (n = Ee(n), t = n.next(); !t.done; t = n.next())
              for (
                r = t.value,
                  t = Hf(e, r, i),
                  o = Ee(r.variantIds),
                  r = o.next();
                !r.done;
                r = o.next()
              )
                ((r = a.get(r.value)).primary = r.primary || t.primary),
                  (r.video = t);
            return a;
          })(t, i, r, n),
          r = e.streams
            .filter(function (e) {
              return e.type == G;
            })
            .map(function (e) {
              return Hf(t, e, n);
            }),
          a = e.streams
            .filter(function (e) {
              return "image" == e.type;
            })
            .map(function (e) {
              return Hf(t, e, n);
            }),
          o = e.drmInfo ? [e.drmInfo] : [];
        if (e.drmInfo)
          for (var s = Ee(i.values()), u = s.next(); !u.done; u = s.next())
            (u = u.value).audio && u.audio.encrypted && (u.audio.drmInfos = o),
              u.video && u.video.encrypted && (u.video.drmInfos = o);
        return {
          presentationTimeline: n,
          minBufferTime: 2,
          offlineSessionIds: e.sessionIds,
          variants: Array.from(i.values()),
          textStreams: r,
          imageStreams: a,
          sequenceMode: e.sequenceMode || !1,
        };
      }
      function Hf(i, e, t) {
        var n = e.segments.map(function (e) {
          return (
            (e = e),
            (n = new Gf("segment", (t = i).h, t.g, e.dataKey)),
            new j(
              e.startTime,
              e.endTime,
              function () {
                return [n.toString()];
              },
              0,
              null,
              null != e.initSegmentKey
                ? (function (e, t) {
                    var n = new Gf("segment", e.h, e.g, t);
                    return new vo(
                      function () {
                        return [n.toString()];
                      },
                      0,
                      null
                    );
                  })(t, e.initSegmentKey)
                : null,
              e.timestampOffset,
              e.appendWindowStart,
              e.appendWindowEnd,
              [],
              e.tilesLayout || ""
            )
          );
          var t, n;
        });
        return (
          t.kc(n),
          {
            id: e.id,
            originalId: e.originalId,
            createSegmentIndex: function () {
              return Promise.resolve();
            },
            segmentIndex: new K(n),
            mimeType: e.mimeType,
            codecs: e.codecs,
            width: e.width || void 0,
            height: e.height || void 0,
            frameRate: e.frameRate,
            pixelAspectRatio: e.pixelAspectRatio,
            hdr: e.hdr,
            kind: e.kind,
            encrypted: e.encrypted,
            drmInfos: [],
            keyIds: e.keyIds,
            language: e.language,
            label: e.label,
            type: e.type,
            primary: e.primary,
            trickModeVideo: null,
            emsgSchemeIdUris: null,
            roles: e.roles,
            forced: e.forced,
            channelsCount: e.channelsCount,
            audioSamplingRate: e.audioSamplingRate,
            spatialAudio: e.spatialAudio,
            closedCaptions: e.closedCaptions,
            tilesLayout: e.tilesLayout,
          }
        );
      }
      function Xf() {
        this.g = null;
      }
      function Wf() {}
      function qf(e) {
        var t,
          n,
          i = Kf(e);
        return (e =
          i && "manifest" == i.g
            ? Pi(
                (e = {
                  uri: e,
                  Pf: e,
                  data: new ArrayBuffer(0),
                  headers: { "content-type": "application/x-offline-manifest" },
                })
              )
            : i && "segment" == i.g
            ? (i.key(),
              (t = i),
              (n = new Nf()),
              Pi(void 0)
                .ia(function () {
                  return n.init();
                })
                .ia(function () {
                  return _f(n, t.Ra(), t.Aa());
                })
                .ia(function (e) {
                  return e.getSegments([t.key()]);
                })
                .ia(function (e) {
                  return { uri: t, data: e[0].data, headers: {} };
                })
                .finally(function () {
                  return n.destroy();
                }))
            : Ri(new ke(2, 1, 9004, e)));
      }
      function Yf(g, m, v) {
        var y, b, E, T;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              y = [];
              for (var t = [], n = Ee(v), i = n.next(); !i.done; i = n.next()) {
                for (
                  var i = i.value, r = !1, a = Ee(t), o = a.next();
                  !o.done;
                  o = a.next()
                )
                  if (
                    ((o = o.value),
                    (s = o.info),
                    (f = i),
                    (p = function (e, t) {
                      return (
                        e.robustness == t.robustness &&
                        e.contentType == t.contentType
                      );
                    }),
                    s.keySystem == f.keySystem &&
                      s.licenseUri == f.licenseUri &&
                      ht(s.audioCapabilities, f.audioCapabilities, p) &&
                      ht(s.videoCapabilities, f.videoCapabilities, p))
                  ) {
                    o.sessionIds.push(i.sessionId), (r = !0);
                    break;
                  }
                r || t.push({ info: i, sessionIds: [i.sessionId] });
              }
              (b = Ee(t)), (E = b.next());
            case 2:
              if (E.done) {
                e.D(4);
                break;
              }
              return (
                (T = E.value),
                (u = g),
                (l = m),
                (c = T),
                (T = Ie(function (e) {
                  switch (e.g) {
                    case 1:
                      return (
                        (d = new Rr({
                          Pb: l,
                          onError: function () {},
                          Ed: function () {},
                          onExpirationUpdated: function () {},
                          onEvent: function () {},
                        })),
                        we(e, 2),
                        d.configure(u),
                        Te(
                          e,
                          ((t = d),
                          (n = c.info.keySystem),
                          (i = c.info.licenseUri),
                          (r = c.info.serverCertificate),
                          (a = c.info.audioCapabilities),
                          (o = c.info.videoCapabilities),
                          (s = new Map()),
                          ((a = {
                            audioCapabilities: a,
                            videoCapabilities: o,
                            distinctiveIdentifier: "optional",
                            persistentState: "required",
                            sessionTypes: ["persistent-license"],
                            label: n,
                          }).drmInfos = [
                            {
                              keySystem: n,
                              licenseServerUri: i,
                              distinctiveIdentifierRequired: !1,
                              persistentStateRequired: !0,
                              audioRobustness: "",
                              videoRobustness: "",
                              serverCertificate: r,
                              serverCertificateUri: "",
                              initData: null,
                              keyIds: null,
                            },
                          ]),
                          s.set(n, a),
                          Gr(t, s, [])),
                          4
                        )
                      );
                    case 4:
                      Se(e, 3);
                      break;
                    case 2:
                      return xe(e), Te(e, d.destroy(), 5);
                    case 5:
                      return e.return([]);
                    case 3:
                      return we(e, 6), Te(e, Or(d), 8);
                    case 8:
                      Se(e, 7);
                      break;
                    case 6:
                      return xe(e), Te(e, d.destroy(), 9);
                    case 9:
                      return e.return([]);
                    case 7:
                      return (
                        (h = []),
                        Te(
                          e,
                          Promise.all(
                            c.sessionIds.map(function (o) {
                              return Ie(function (e) {
                                return 1 == e.g
                                  ? (we(e, 2),
                                    Te(
                                      e,
                                      ((t = d),
                                      (n = o),
                                      Ie(function (e) {
                                        return 1 == e.g
                                          ? Te(e, Kr(t, n), 2)
                                          : 3 != e.g
                                          ? (i = e.h)
                                            ? ((r = []),
                                              (a = t.i.get(i)) &&
                                                ((a.cb = new P()),
                                                r.push(a.cb)),
                                              r.push(i.remove()),
                                              Te(e, Promise.all(r), 3))
                                            : e.return()
                                          : (t.i.delete(i), void Ae(e));
                                      })),
                                      4
                                    ))
                                  : 2 != e.g
                                  ? (h.push(o), Se(e, 0))
                                  : (xe(e), void Ae(e));
                                var t, n, i, r, a;
                              });
                            })
                          ),
                          10
                        )
                      );
                    case 10:
                      return Te(e, d.destroy(), 11);
                    case 11:
                      return e.return(h);
                  }
                  var t, n, i, r, a, o, s;
                })),
                Te(e, T, 5)
              );
            case 5:
              (T = e.h), (y = y.concat(T)), (E = b.next()), e.D(2);
              break;
            case 4:
              return e.return(y);
          }
          var u, l, c, d, h, s, f, p;
        });
      }
      function $f(e, t) {
        var n = Vf(new zf(e.Ra(), e.Aa()), t),
          i = t.appMetadata || {},
          n = Jf(n);
        return {
          offlineUri: e.toString(),
          originalManifestUri: t.originalManifestUri,
          duration: t.duration,
          size: t.size,
          expiration: t.expiration,
          tracks: n,
          appMetadata: i,
          isIncomplete: t.isIncomplete || !1,
        };
      }
      function Jf(e) {
        for (
          var t = [], n = e.variants.filter(Jn), i = (n = Ee(n)).next();
          !i.done;
          i = n.next()
        )
          t.push(Vn(i.value));
        for (n = (e = Ee(e.textStreams)).next(); !n.done; n = e.next())
          t.push(Hn(n.value));
        return t;
      }
      function Qf() {
        this.g = {};
      }
      function Zf(e, t) {
        e = e.g[t];
        return (e = null == e ? 0 : e);
      }
      function ep(e) {
        var o = this;
        if (e && e.constructor != u) throw new ke(2, 9, 9008);
        (this.g = this.h = null),
          e
            ? ((this.h = e.h), (this.g = e.Gc()))
            : ((this.h = Cu()), (this.g = new Gi())),
          (this.i = []),
          (this.j = []);
        var s = !e;
        this.l = new Yi(function () {
          var t, n, i, r, a;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                return Te(e, Promise.all(o.j.map(bf)), 2);
              case 2:
                for (
                  t = function () {}, n = [], i = Ee(o.i), r = i.next();
                  !r.done;
                  r = i.next()
                )
                  (a = r.value), n.push(a.then(t, t));
                return Te(e, Promise.all(n), 3);
              case 3:
                if (s) return Te(e, o.g.destroy(), 4);
                e.D(4);
                break;
              case 4:
                (o.h = null), (o.g = null), Ae(e);
            }
          });
        });
      }
      function tp() {
        if (Gt())
          e: {
            for (var e = Ee(Df.values()), t = e.next(); !t.done; t = e.next())
              if ((t = (t = t.value)())) {
                t.destroy(), (e = !0);
                break e;
              }
            e = !1;
          }
        else e = !1;
        return e;
      }
      function np(t) {
        var n, i;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              return Te(e, (n = new Nf()).init(), 2);
            case 2:
              return Te(e, Rf(n), 3);
            case 3:
              return (
                (i = e.h),
                (i = new Gf("manifest", i.path.Ra, i.path.Aa, t)),
                Te(e, n.destroy(), 4)
              );
            case 4:
              return Te(e, new ep().remove(i.toString()), 0);
          }
        });
      }
      function ip(t, n, i, r, a, o) {
        var s, u, l, c, d, h, f, p, g, m, v;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              for (
                s = !1, we(e, 2), u = !0, l = Ee(i.streams), c = l.next();
                !c.done;
                c = l.next()
              )
                for (
                  d = c.value, h = Ee(d.segments), f = h.next();
                  !f.done;
                  f = h.next()
                )
                  (p = f.value),
                    null !=
                      (g = p.pendingSegmentRefId
                        ? r[p.pendingSegmentRefId]
                        : null) &&
                      ((p.dataKey = g), (p.pendingSegmentRefId = void 0)),
                    null !=
                      (g = p.pendingInitSegmentRefId
                        ? r[p.pendingInitSegmentRefId]
                        : null) &&
                      ((p.initSegmentKey = g),
                      (p.pendingInitSegmentRefId = void 0)),
                    p.pendingSegmentRefId && (u = !1),
                    p.pendingInitSegmentRefId && (u = !1);
              return (
                (i.size += a),
                u && (i.isIncomplete = !1),
                Te(e, t.updateManifest(n, i), 4)
              );
            case 4:
              (s = !0), o(), Se(e, 0);
              break;
            case 2:
              return (m = xe(e)), Te(e, np(n), 5);
            case 5:
              if (s) {
                e.D(6);
                break;
              }
              return (
                (v = Object.values(r)),
                Te(
                  e,
                  t.removeSegments(v, function () {}),
                  6
                )
              );
            case 6:
              throw m;
          }
        });
      }
      function rp(e) {
        return e.variants.some(function (e) {
          var t = e.audio && e.audio.encrypted;
          return (e.video && e.video.encrypted) || t;
        });
      }
      function ap(e) {
        return e.variants.some(function (e) {
          return (e.video ? e.video.drmInfos : [])
            .concat(e.audio ? e.audio.drmInfos : [])
            .some(function (e) {
              return e.initData && e.initData.length;
            });
        });
      }
      function op(e, t) {
        for (var n = [], i = Ee(e.streams), r = i.next(); !r.done; r = i.next())
          (r = r.value),
            t && "video" == r.type
              ? n.push({
                  contentType: wn(r.mimeType, r.codecs),
                  robustness: e.drmInfo.videoRobustness,
                })
              : t ||
                "audio" != r.type ||
                n.push({
                  contentType: wn(r.mimeType, r.codecs),
                  robustness: e.drmInfo.audioRobustness,
                });
        return n;
      }
      function sp(e) {
        if (e.l.g) throw new ke(2, 9, 7001);
      }
      function up() {
        if (!tp()) throw new ke(2, 9, 9e3);
      }
      function lp(t, n) {
        return Ie(function (e) {
          return 1 == e.g
            ? (t.i.push(n), x(e), Te(e, n, 4))
            : 2 != e.g
            ? e.return(e.h)
            : (Ce(e), dt(t.i, n), Me(e, 0));
        });
      }
      function cp(e) {
        for (
          var t = new Set(), n = Ee(e.textStreams), i = n.next();
          !i.done;
          i = n.next()
        )
          t.add(i.value);
        for (i = (n = Ee(e.imageStreams)).next(); !i.done; i = n.next())
          t.add(i.value);
        for (n = (e = Ee(e.variants)).next(); !n.done; n = e.next())
          (n = n.value).audio && t.add(n.audio), n.video && t.add(n.video);
        return t;
      }
      e(Of, If),
        (Of.prototype.updateManifestExpiration = function (t, n) {
          var i,
            r,
            a,
            o = this;
          return Ie(function (e) {
            return (
              (i = Sf(o.h, o.g)),
              (r = i.store()),
              (a = new P()),
              (r.get(t).onsuccess = function (e) {
                (e = e.target.result)
                  ? ((e.expiration = n), r.put(e), a.resolve())
                  : a.reject(
                      new ke(2, 9, 9012, "Could not find values for " + t)
                    );
              }),
              Te(e, Promise.all([i.promise(), a]), 0)
            );
          });
        }),
        (Of.prototype.Cc = function (t) {
          var n, i, r, a;
          return Ie(function (e) {
            if (1 != e.g)
              return (
                (a = e.h),
                e.return({
                  creationTime: 0,
                  originalManifestUri: t.originalManifestUri,
                  duration: t.duration,
                  size: t.size,
                  expiration: null == t.expiration ? 1 / 0 : t.expiration,
                  streams: a,
                  sessionIds: t.sessionIds,
                  drmInfo: t.drmInfo,
                  appMetadata: t.appMetadata,
                  sequenceMode: !1,
                })
              );
            for (n = [], i = 0; i < t.periods.length; ++i)
              (r =
                i == t.periods.length - 1
                  ? t.duration
                  : t.periods[i + 1].startTime),
                (r = r - t.periods[i].startTime),
                (r = (function (o, s) {
                  !(function (e) {
                    var t = e.streams.filter(function (e) {
                      return "audio" == e.contentType;
                    });
                    if (
                      ((e = e.streams.filter(function (e) {
                        return "video" == e.contentType;
                      })),
                      !t.every(function (e) {
                        return e.variantIds;
                      }) ||
                        !e.every(function (e) {
                          return e.variantIds;
                        }))
                    ) {
                      for (var n = Ee(t), i = n.next(); !i.done; i = n.next())
                        i.value.variantIds = [];
                      for (n = Ee(e), i = n.next(); !i.done; i = n.next())
                        i.value.variantIds = [];
                      if (((n = 0), e.length && !t.length)) {
                        var r = n++,
                          a = Ee(e);
                        for (i = a.next(); !i.done; i = a.next())
                          i.value.variantIds.push(r);
                      }
                      if (!e.length && t.length)
                        for (
                          r = n++, a = Ee(t), i = a.next();
                          !i.done;
                          i = a.next()
                        )
                          i.value.variantIds.push(r);
                      if (e.length && t.length)
                        for (t = Ee(t), i = t.next(); !i.done; i = t.next())
                          for (
                            i = i.value, r = Ee(e), a = r.next();
                            !a.done;
                            a = r.next()
                          ) {
                            a = a.value;
                            var o = n++;
                            i.variantIds.push(o), a.variantIds.push(o);
                          }
                    }
                  })(o);
                  for (
                    var e = Ee(o.streams), t = e.next();
                    !t.done;
                    t = e.next()
                  );
                  return o.streams.map(function (e) {
                    return (
                      (e = e),
                      (n = o.startTime),
                      (t = s),
                      (i = e.initSegmentUri ? Uf(e.initSegmentUri) : null),
                      (r = n + e.presentationTimeOffset),
                      (a = n + t),
                      {
                        id: e.id,
                        originalId: null,
                        primary: e.primary,
                        type: e.contentType,
                        mimeType: e.mimeType,
                        codecs: e.codecs,
                        frameRate: e.frameRate,
                        pixelAspectRatio: void 0,
                        hdr: void 0,
                        kind: e.kind,
                        language: e.language,
                        label: e.label,
                        width: e.width,
                        height: e.height,
                        initSegmentKey: i,
                        encrypted: e.encrypted,
                        keyIds: new Set([e.keyId]),
                        segments: e.segments.map(function (e) {
                          var t = Uf(e.uri);
                          return {
                            startTime: n + e.startTime,
                            endTime: n + e.endTime,
                            dataKey: t,
                            initSegmentKey: i,
                            appendWindowStart: n,
                            appendWindowEnd: a,
                            timestampOffset: r,
                            tilesLayout: "",
                          };
                        }),
                        variantIds: e.variantIds,
                        roles: [],
                        forced: !1,
                        audioSamplingRate: null,
                        channelsCount: null,
                        spatialAudio: !1,
                        closedCaptions: null,
                        tilesLayout: void 0,
                      }
                    );
                    var n, t, i, r, a;
                  });
                })(t.periods[i], r)),
                n.push(r);
            return Te(e, wd(n), 2);
          });
        }),
        (Of.prototype.xf = function (e) {
          return { data: e.data };
        }),
        e(jf, If),
        (jf.prototype.Cc = function (a) {
          var o, s, u, l, c;
          return Ie(function (e) {
            if (1 != e.g)
              return (
                (c = e.h),
                e.return({
                  appMetadata: a.appMetadata,
                  creationTime: 0,
                  drmInfo: a.drmInfo,
                  duration: a.duration,
                  expiration: null == a.expiration ? 1 / 0 : a.expiration,
                  originalManifestUri: a.originalManifestUri,
                  sessionIds: a.sessionIds,
                  size: a.size,
                  streams: c,
                  sequenceMode: !1,
                })
              );
            for (o = [], s = 0; s < a.periods.length; ++s) {
              (u =
                s == a.periods.length - 1
                  ? a.duration
                  : a.periods[s + 1].startTime),
                (l = u - a.periods[s].startTime);
              for (
                var t = a.periods[s], n = [], i = Ee(t.streams), r = i.next();
                !r.done;
                r = i.next()
              )
                0 != (r = r.value).variantIds.length &&
                  n.push(
                    (function (t, n, i) {
                      return {
                        id: t.id,
                        originalId: t.originalId,
                        primary: t.primary,
                        type: t.contentType,
                        mimeType: t.mimeType,
                        codecs: t.codecs,
                        frameRate: t.frameRate,
                        pixelAspectRatio: t.pixelAspectRatio,
                        hdr: void 0,
                        kind: t.kind,
                        language: t.language,
                        label: t.label,
                        width: t.width,
                        height: t.height,
                        encrypted: t.encrypted,
                        keyIds: new Set([t.keyId]),
                        segments: t.segments.map(function (e) {
                          return {
                            startTime: n + e.startTime,
                            endTime: n + e.endTime,
                            initSegmentKey: t.initSegmentKey,
                            appendWindowStart: n,
                            appendWindowEnd: i,
                            timestampOffset: n - t.presentationTimeOffset,
                            dataKey: e.dataKey,
                            tilesLayout: "",
                          };
                        }),
                        variantIds: t.variantIds,
                        roles: [],
                        forced: !1,
                        audioSamplingRate: null,
                        channelsCount: null,
                        spatialAudio: !1,
                        closedCaptions: null,
                        tilesLayout: void 0,
                      };
                    })(r, t.startTime, t.startTime + l)
                  );
              o.push(n);
            }
            return Te(e, wd(o), 2);
          });
        }),
        e(Bf, If),
        ((n = Bf.prototype).hasFixedKeySpace = function () {
          return !1;
        }),
        (n.addSegments = function (e) {
          return this.add(this.i, e);
        }),
        (n.addManifests = function (e) {
          return this.add(this.g, e);
        }),
        (n.updateManifest = function (e, t) {
          return (
            (n = e),
            (i = t),
            ((r = (e = Sf((e = this).h, e.g)).store()).get(n).onsuccess =
              function () {
                r.put(i, n);
              }),
            e.promise()
          );
          var n, i, r;
        }),
        (n.Cc = function (e) {
          return (
            null == e.expiration && (e.expiration = 1 / 0), Promise.resolve(e)
          );
        }),
        ((n = Ff.prototype).init = function () {
          var n = this,
            i = new P(),
            r = !1,
            a = new M(function () {
              (r = !0), i.reject(new ke(2, 9, 9017));
            }),
            o = (a.S(2), N.indexedDB.open("shaka_offline_db", 5));
          return (
            (o.onsuccess = function () {
              var e, t;
              r ||
                ((e = o.result),
                (t =
                  (t = (n.l = e).objectStoreNames).contains("manifest") &&
                  t.contains("segment")
                    ? new Of(e, "segment", "manifest")
                    : null),
                (n.g = t),
                (t =
                  (t = e.objectStoreNames).contains("manifest-v2") &&
                  t.contains("segment-v2")
                    ? new jf(e, "segment-v2", "manifest-v2")
                    : null),
                (n.h = t),
                (t =
                  (t = e.objectStoreNames).contains("manifest-v3") &&
                  t.contains("segment-v3")
                    ? new jf(e, "segment-v3", "manifest-v3")
                    : null),
                (n.i = t),
                (t =
                  (t = e.objectStoreNames).contains("manifest-v5") &&
                  t.contains("segment-v5")
                    ? new Bf(e, "segment-v5", "manifest-v5")
                    : null),
                (n.j = t),
                (e = e.objectStoreNames.contains("session-ids")
                  ? new Lf(e)
                  : null),
                (n.m = e),
                a.stop(),
                i.resolve());
            }),
            (o.onupgradeneeded = function () {
              for (
                var e = o.result,
                  t = Ee(["segment-v5", "manifest-v5", "session-ids"]),
                  n = t.next();
                !n.done;
                n = t.next()
              )
                (n = n.value),
                  e.objectStoreNames.contains(n) ||
                    e.createObjectStore(n, { autoIncrement: !0 });
            }),
            (o.onerror = function (e) {
              r ||
                (i.reject(new ke(2, 9, 9001, o.error)),
                a.stop(),
                e.preventDefault());
            }),
            i
          );
        }),
        (n.destroy = function () {
          var t = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (t.g) return Te(e, t.g.destroy(), 2);
                e.D(2);
                break;
              case 2:
                if (t.h) return Te(e, t.h.destroy(), 4);
                e.D(4);
                break;
              case 4:
                if (t.i) return Te(e, t.i.destroy(), 6);
                e.D(6);
                break;
              case 6:
                if (t.j) return Te(e, t.j.destroy(), 8);
                e.D(8);
                break;
              case 8:
                if (t.m) return Te(e, t.m.destroy(), 10);
                e.D(10);
                break;
              case 10:
                t.l && t.l.close(), Ae(e);
            }
          });
        }),
        (n.getCells = function () {
          var e = new Map();
          return (
            this.g && e.set("v1", this.g),
            this.h && e.set("v2", this.h),
            this.i && e.set("v3", this.i),
            this.j && e.set("v5", this.j),
            e
          );
        }),
        (n.getEmeSessionCell = function () {
          return this.m;
        }),
        (n.erase = function () {
          var i = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (i.g) return Te(e, i.g.destroy(), 2);
                e.D(2);
                break;
              case 2:
                if (i.h) return Te(e, i.h.destroy(), 4);
                e.D(4);
                break;
              case 4:
                if (i.i) return Te(e, i.i.destroy(), 6);
                e.D(6);
                break;
              case 6:
                if (i.j) return Te(e, i.j.destroy(), 8);
                e.D(8);
                break;
              case 8:
                return (
                  i.l && i.l.close(),
                  Te(
                    e,
                    ((t = new P()),
                    ((n =
                      N.indexedDB.deleteDatabase(
                        "shaka_offline_db"
                      )).onblocked = function () {}),
                    (n.onsuccess = function () {
                      t.resolve();
                    }),
                    (n.onerror = function (e) {
                      t.reject(new ke(2, 9, 9001, n.error)), e.preventDefault();
                    }),
                    t),
                    10
                  )
                );
              case 10:
                return (
                  (i.l = null),
                  (i.g = null),
                  (i.h = null),
                  (i.i = null),
                  (i.j = null),
                  Te(e, i.init(), 0)
                );
            }
            var t, n;
          });
        }),
        Pf("idb", function () {
          return Yt("CrKey") || zt() || !N.indexedDB ? null : new Ff();
        }),
        (Gf.prototype.Ra = function () {
          return this.i;
        }),
        (Gf.prototype.Aa = function () {
          return this.h;
        }),
        (Gf.prototype.key = function () {
          return this.l;
        }),
        (Gf.prototype.toString = function () {
          return this.j;
        }),
        ((n = Xf.prototype).configure = function () {}),
        (n.start = function (t, n) {
          var i,
            r,
            a,
            o,
            s = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (((i = Kf(t)), null == (s.g = i) || "manifest" != i.g))
                  throw new ke(2, 1, 9004, t);
                return (r = new Nf()), x(e), Te(e, r.init(), 4);
              case 4:
                return Te(e, _f(r, i.Ra(), i.Aa()), 5);
              case 5:
                return Te(e, e.h.getManifests([i.key()]), 6);
              case 6:
                return (
                  (a = e.h),
                  (a = a[0]),
                  (o = new zf(i.Ra(), i.Aa())),
                  (o = Vf(o, a)),
                  n.makeTextStreamsForClosedCaptions(o),
                  e.return(o)
                );
              case 2:
                return Ce(e), Te(e, r.destroy(), 7);
              case 7:
                Me(e, 0);
            }
          });
        }),
        (n.stop = function () {
          return Promise.resolve();
        }),
        (n.update = function () {}),
        (n.onExpirationUpdated = function (t, n) {
          var i,
            r,
            a,
            o,
            s,
            u = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                return (
                  (i = u.g), (r = new Nf()), we(e, 2, 3), Te(e, r.init(), 5)
                );
              case 5:
                return Te(e, _f(r, i.Ra(), i.Aa()), 6);
              case 6:
                return Te(e, (a = e.h).getManifests([i.key()]), 7);
              case 7:
                if (
                  ((s = e.h),
                  (s = s[0]),
                  (o = s.sessionIds.includes(t)),
                  (s = null == s.expiration || s.expiration > n),
                  o && s)
                )
                  return Te(e, a.updateManifestExpiration(i.key(), n), 3);
                e.D(3);
                break;
              case 3:
                return Ce(e), Te(e, r.destroy(), 10);
              case 10:
                Me(e, 0);
                break;
              case 2:
                xe(e), e.D(3);
            }
          });
        }),
        (ra["application/x-offline-manifest"] = function () {
          return new Xf();
        }),
        t("shaka.offline.OfflineScheme", Wf),
        Ki("offline", (Wf.plugin = qf)),
        ((n = ep.prototype).destroy = function () {
          return this.l.destroy();
        }),
        (n.configure = function (e, t) {
          return (
            2 == arguments.length && "string" == typeof e && (e = Iu(e, t)),
            Mu(this.h, e)
          );
        }),
        (n.getConfiguration = function () {
          var e = Cu();
          return Mu(e, this.h, Cu()), e;
        }),
        (n.Gc = function () {
          return this.g;
        }),
        (n.store = function (n, e, i) {
          var ie,
            re,
            ae,
            oe,
            se,
            ue,
            le,
            ce,
            de,
            he,
            fe,
            pe,
            ge,
            me,
            ve,
            ye,
            be,
            t,
            r,
            a = this,
            o = this.getConfiguration(),
            s = new yf(this.g);
          return (
            this.j.push(s),
            (ie = this),
            (re = n),
            (ae = e || {}),
            (oe = function () {
              var t;
              return Ie(function (e) {
                return 1 == e.g
                  ? Te(e, ta(n, a.g, o.manifest.retryParameters, i || null), 2)
                  : ((t = e.h), e.return(t()));
              });
            }),
            (se = o),
            (ue = s),
            (e = new Ni(
              (e = Ie(function (e) {
                switch (e.g) {
                  case 1:
                    return (
                      up(),
                      (ce = le = null),
                      (de = new Nf()),
                      (pe = fe = he = null),
                      we(e, 2, 3),
                      Te(e, oe(), 5)
                    );
                  case 5:
                    return (
                      (le = e.h),
                      Te(
                        e,
                        ((s = ie),
                        (Z = re),
                        (ee = le),
                        (te = se),
                        Ie(function (e) {
                          if (1 == e.g)
                            return (
                              (P = null),
                              (D = s.g),
                              (D = {
                                networkingEngine: D,
                                modifyManifestRequest: function () {},
                                modifySegmentRequest: function () {},
                                filter: function () {
                                  return Promise.resolve();
                                },
                                makeTextStreamsForClosedCaptions:
                                  function () {},
                                onTimelineRegionAdded: function () {},
                                onEvent: function () {},
                                onError: function (e) {
                                  P = e;
                                },
                                isLowLatencyMode: function () {
                                  return !1;
                                },
                                isAutoLowLatencyMode: function () {
                                  return !1;
                                },
                                enableLowLatencyMode: function () {},
                                updateDuration: function () {},
                                newDrmInfo: function () {},
                              }),
                              ee.configure(te.manifest),
                              sp(s),
                              Te(e, ee.start(Z, D), 2)
                            );
                          if (3 != e.g)
                            return (
                              (ne = e.h),
                              sp(s),
                              (D = cp(ne)),
                              Te(
                                e,
                                Promise.all(
                                  Le(D, function (e) {
                                    return e.createSegmentIndex();
                                  })
                                ),
                                3
                              )
                            );
                          if ((sp(s), P)) throw P;
                          return e.return(ne);
                        })),
                        6
                      )
                    );
                  case 6:
                    if (
                      ((ge = e.h),
                      sp(ie),
                      !ge.presentationTimeline.T() &&
                        !ge.presentationTimeline.Mb())
                    )
                      return Te(
                        e,
                        ((Y = ie),
                        ($ = ge),
                        (J = function (e) {
                          pe = pe || e;
                        }),
                        (Q = se),
                        Ie(function (e) {
                          switch (e.g) {
                            case 1:
                              return (
                                (o = new Rr({
                                  Pb: Y.g,
                                  onError: J,
                                  Ed: function () {},
                                  onExpirationUpdated: function () {},
                                  onEvent: function () {},
                                })).configure(Q.drm),
                                Te(
                                  e,
                                  ((t = o),
                                  (n = $.variants),
                                  (i = Q.offline.usePersistentLicense),
                                  (t.aa = !0),
                                  (t.F = []),
                                  (t.M = i),
                                  Pr(t, n)),
                                  2
                                )
                              );
                            case 2:
                              return Te(e, Or(o), 3);
                            case 3:
                              return Te(e, Ur(o), 4);
                            case 4:
                              return e.return(o);
                          }
                          var t, n, i;
                        })),
                        7
                      );
                    throw new ke(2, 9, 9005, re);
                  case 7:
                    if (((ce = e.h), sp(ie), pe)) throw pe;
                    return Te(
                      e,
                      ((u = ge),
                      (l = se),
                      Ie(function (e) {
                        switch (e.g) {
                          case 1:
                            return (
                              (d = { width: 1 / 0, height: 1 / 0 }),
                              (o = l.restrictions),
                              (s = d),
                              (u.variants = u.variants.filter(function (e) {
                                return Dn(e, o, s);
                              })),
                              Te(e, jn(u, l.offline.usePersistentLicense), 2)
                            );
                          case 2:
                            for (
                              c = [],
                                d = l.preferredAudioChannelCount,
                                B = l.preferredDecodingAttributes,
                                R = l.preferredVideoCodecs,
                                F = l.preferredAudioCodecs,
                                _n(u, R, F, d, B),
                                h = Ee(u.variants),
                                f = h.next();
                              !f.done;
                              f = h.next()
                            )
                              (G = f.value), c.push(Vn(G));
                            for (
                              p = Ee(u.textStreams), g = p.next();
                              !g.done;
                              g = p.next()
                            )
                              (K = g.value), c.push(Hn(K));
                            for (
                              m = Ee(u.imageStreams), I = m.next();
                              !I.done;
                              I = m.next()
                            )
                              (z = I.value), c.push(Xn(z));
                            return Te(
                              e,
                              l.offline.trackSelectionCallback(c),
                              3
                            );
                          case 3:
                            for (
                              k = e.h,
                                V = u.presentationTimeline.getDuration(),
                                C = 0,
                                M = Ee(k),
                                L = M.next();
                              !L.done;
                              L = M.next()
                            )
                              (N = L.value),
                                (N = (N.bandwidth * V) / 8),
                                (C += N);
                            return (
                              we(e, 4),
                              Te(e, l.offline.downloadSizeCallback(C), 6)
                            );
                          case 6:
                            if (!e.h) throw new ke(2, 9, 9014);
                            Se(e, 5);
                            break;
                          case 4:
                            if ((R = xe(e)) instanceof ke) throw R;
                            throw new ke(2, 9, 9015);
                          case 5:
                            for (
                              H = new Set(),
                                X = new Set(),
                                W = new Set(),
                                q = Ee(k),
                                L = q.next();
                              !L.done;
                              L = q.next()
                            )
                              "variant" == (_ = L.value).type && H.add(_.id),
                                "text" == _.type && X.add(_.id),
                                "image" == _.type && W.add(_.id);
                            (u.variants = u.variants.filter(function (e) {
                              return H.has(e.id);
                            })),
                              (u.textStreams = u.textStreams.filter(function (
                                e
                              ) {
                                return X.has(e.id);
                              })),
                              (u.imageStreams = u.imageStreams.filter(function (
                                e
                              ) {
                                return W.has(e.id);
                              }));
                            var t = u,
                              n =
                                (t.variants.map(function (e) {
                                  return e.video;
                                }),
                                new Set(
                                  t.variants.map(function (e) {
                                    return e.audio;
                                  })
                                ));
                            t = t.textStreams;
                            for (
                              var i = Ee(n), r = i.next();
                              !r.done;
                              r = i.next()
                            )
                              for (
                                var a = (r = Ee(n)).next();
                                !a.done;
                                a = r.next()
                              );
                            for (n = Ee(t), i = n.next(); !i.done; i = n.next())
                              for (
                                i = Ee(t), r = i.next();
                                !r.done;
                                r = i.next()
                              );
                            Ae(e);
                        }
                        var o, s;
                      })),
                      8
                    );
                  case 8:
                    return Te(e, de.init(), 9);
                  case 9:
                    return sp(ie), Te(e, Rf(de), 10);
                  case 10:
                    return (
                      (he = e.h),
                      sp(ie),
                      (ve = (function (n, e, t, i, r, a) {
                        var o = (function (e, t, n) {
                            return {
                              offlineUri: null,
                              originalManifestUri: e,
                              duration: t.presentationTimeline.getDuration(),
                              size: 0,
                              expiration: 1 / 0,
                              tracks: (t = Jf(t)),
                              appMetadata: n,
                              isIncomplete: !1,
                            };
                          })(t, e, i),
                          s = r.offline.progressCallback,
                          u =
                            ((function (e, t, n) {
                              (e.m = t), (e.l = n);
                            })(
                              a,
                              function (e, t) {
                                (o.size = t), s(o, e);
                              },
                              function (e, t) {
                                u &&
                                  r.offline.usePersistentLicense &&
                                  l == t &&
                                  jr(n, "cenc", e);
                              }
                            ),
                            rp(e) && !ap(e)),
                          l = null;
                        u && (l = dp.get(n.g.keySystem));
                        for (
                          var c = new Qf(), d = Ee(e.textStreams), h = d.next();
                          !h.done;
                          h = d.next()
                        )
                          c.g[h.value.id] = 52;
                        for (
                          d = Ee(e.imageStreams), h = d.next();
                          !h.done;
                          h = d.next()
                        )
                          !(function (e, t) {
                            e.g[t.id] = t.bandwidth || 2048;
                          })(c, h.value);
                        for (
                          h = Ee(e.variants), d = h.next();
                          !d.done;
                          d = h.next()
                        )
                          !(function (e, t) {
                            var n,
                              i,
                              r = t.audio,
                              a = t.video;
                            r && !a && (e.g[r.id] = r.bandwidth || t.bandwidth),
                              !r &&
                                a &&
                                (e.g[a.id] = a.bandwidth || t.bandwidth),
                              r &&
                                a &&
                                ((n = r.bandwidth || 393216),
                                (i = a.bandwidth || t.bandwidth - n) <= 0 &&
                                  (i = t.bandwidth),
                                (e.g[r.id] = n),
                                (e.g[a.id] = i));
                          })(c, d.value);
                        return (
                          (c = (function (e, t, n, i) {
                            for (
                              var r = new Map(),
                                a = cp(n),
                                o = new Map(),
                                s = (a = Ee(a)).next();
                              !s.done;
                              s = a.next()
                            ) {
                              s = s.value;
                              var u = (function (r, a, e, o, t, s) {
                                var u = {
                                    id: o.id,
                                    originalId: o.originalId,
                                    primary: o.primary,
                                    type: o.type,
                                    mimeType: o.mimeType,
                                    codecs: o.codecs,
                                    frameRate: o.frameRate,
                                    pixelAspectRatio: o.pixelAspectRatio,
                                    hdr: o.hdr,
                                    kind: o.kind,
                                    language: o.language,
                                    label: o.label,
                                    width: o.width || null,
                                    height: o.height || null,
                                    encrypted: o.encrypted,
                                    keyIds: o.keyIds,
                                    segments: [],
                                    variantIds: [],
                                    roles: o.roles,
                                    forced: o.forced,
                                    channelsCount: o.channelsCount,
                                    audioSamplingRate: o.audioSamplingRate,
                                    spatialAudio: o.spatialAudio,
                                    closedCaptions: o.closedCaptions,
                                    tilesLayout: o.tilesLayout,
                                  },
                                  l = t.offline.numberOfParallelDownloads,
                                  c = 0;
                                return (
                                  (function (e, t, n) {
                                    if (null != (t = e.segmentIndex.find(t)))
                                      for (var i = e.segmentIndex.get(t); i; )
                                        n(i), (i = e.segmentIndex.get(++t));
                                  })(
                                    o,
                                    e.presentationTimeline.kb(),
                                    function (e) {
                                      var t,
                                        n = gf(e),
                                        i = void 0;
                                      s.has(n) ||
                                        ((t = e.endTime - e.startTime),
                                        (t = Zf(a, o.id) * t),
                                        (t = vf(r.g, t)),
                                        s.set(n, new pf(e, t, c, !1))),
                                        e.h &&
                                          ((i = gf(e.h)),
                                          s.has(i) ||
                                            ((t = 0.5 * Zf(a, o.id)),
                                            (t = vf(r.g, t)),
                                            s.set(i, new pf(e.h, t, c, !0)))),
                                        u.segments.push({
                                          pendingInitSegmentRefId: i,
                                          initSegmentKey: i ? 0 : null,
                                          startTime: e.startTime,
                                          endTime: e.endTime,
                                          appendWindowStart:
                                            e.appendWindowStart,
                                          appendWindowEnd: e.appendWindowEnd,
                                          timestampOffset: e.timestampOffset,
                                          tilesLayout: e.tilesLayout,
                                          pendingSegmentRefId: n,
                                          dataKey: 0,
                                        }),
                                        (c = (c + 1) % l);
                                    }
                                  ),
                                  u
                                );
                              })(e, t, n, s, i, r);
                              o.set(s.id, u);
                            }
                            for (
                              e = Ee(n.variants), t = e.next();
                              !t.done;
                              t = e.next()
                            )
                              (t = t.value).audio &&
                                o.get(t.audio.id).variantIds.push(t.id),
                                t.video &&
                                  o.get(t.video.id).variantIds.push(t.id);
                            return {
                              streams: Array.from(o.values()),
                              Ue: Array.from(r.values()),
                            };
                          })(a, c, e, r)),
                          (a = c.streams),
                          (c = c.Ue),
                          (h = n.g),
                          (d = r.offline.usePersistentLicense),
                          h && d && (h.initData = []),
                          {
                            ih: {
                              creationTime: Date.now(),
                              originalManifestUri: t,
                              duration: e.presentationTimeline.getDuration(),
                              size: 0,
                              expiration: n.Fc(),
                              streams: a,
                              sessionIds: d ? Fr(n) : [],
                              drmInfo: h,
                              appMetadata: i,
                              isIncomplete: !0,
                              sequenceMode: e.sequenceMode,
                            },
                            Ue: c,
                          }
                        );
                      })(ce, ge, re, ae, se, ue)),
                      (me = ve.ih),
                      (ve = ve.Ue),
                      Te(e, he.Aa.addManifests([me]), 11)
                    );
                  case 11:
                    if (((ye = e.h), sp(ie), (fe = ye[0]), sp(ie), pe))
                      throw pe;
                    return Te(
                      e,
                      ((v = ie),
                      (t = ve),
                      (y = fe),
                      (b = me),
                      (E = ue),
                      (T = se),
                      (A = he.Aa),
                      (w = ge),
                      (O = ce),
                      Ie(function (e) {
                        switch (e.g) {
                          case 1:
                            if (
                              ((S = {}),
                              (x = 0),
                              (i = !(n = function (u, l) {
                                var c, d, h, f, p, g, m;
                                return Ie(function (e) {
                                  if (1 == e.g) {
                                    for (
                                      c = {}, d = Ee(u), h = d.next();
                                      !h.done;
                                      c = { Gb: c.Gb }, h = d.next()
                                    )
                                      (c.Gb = h.value),
                                        (n = c.Gb),
                                        (i = T),
                                        (f = Ds(
                                          n.g.Pa(),
                                          n.g.Sa,
                                          n.g.Ba,
                                          i.streaming.retryParameters
                                        )),
                                        (p = c.Gb.i),
                                        (g = c.Gb.h),
                                        (m = (function (r) {
                                          return function (t) {
                                            var n, i;
                                            return Ie(function (e) {
                                              if (1 == e.g)
                                                return Te(
                                                  e,
                                                  A.addSegments([{ data: t }]),
                                                  2
                                                );
                                              (n = e.h),
                                                sp(v),
                                                (i = r.Gb.g),
                                                (i = gf(i)),
                                                (S[i] = n[0]),
                                                (x += t.byteLength),
                                                Ae(e);
                                            });
                                          };
                                        })(c)),
                                        Ef(E, c.Gb.groupId, f, p, g, m);
                                    return Te(
                                      e,
                                      ((t = E),
                                      Ie(function (e) {
                                        return 1 == e.g
                                          ? Te(e, Promise.all(t.j.values()), 2)
                                          : e.return(t.g.h);
                                      })),
                                      2
                                    );
                                  }
                                  var t, n, i;
                                  if (!l) return e.D(0);
                                  sp(v);
                                  var r = w,
                                    a = b,
                                    o = O,
                                    s = T;
                                  if (
                                    ((a.expiration = o.Fc()),
                                    (o = Fr(o)),
                                    (a.sessionIds = s.offline
                                      .usePersistentLicense
                                      ? o
                                      : []),
                                    rp(r) &&
                                      s.offline.usePersistentLicense &&
                                      !o.length)
                                  )
                                    throw new ke(2, 9, 9007);
                                  return Te(e, A.updateManifest(y, b), 0);
                                });
                              })),
                              we(e, 2),
                              rp(w) && i && !ap(w))
                            )
                              return Te(
                                e,
                                n(
                                  t.filter(function (e) {
                                    return e.h;
                                  }),
                                  !0
                                ),
                                5
                              );
                            e.D(4);
                            break;
                          case 5:
                            return (
                              sp(v),
                              (t = t.filter(function (e) {
                                return !e.h;
                              })),
                              (r = S),
                              (a = x),
                              (S = {}),
                              (x = 0),
                              Te(
                                e,
                                ip(A, y, b, r, a, function () {
                                  sp(v);
                                }),
                                6
                              )
                            );
                          case 6:
                            sp(v);
                          case 4:
                            if (i) {
                              e.D(7);
                              break;
                            }
                            return Te(e, n(t, !1), 8);
                          case 8:
                            return (
                              sp(v),
                              (r = S),
                              (a = x),
                              (S = {}),
                              (x = 0),
                              Te(
                                e,
                                ip(A, y, b, r, a, function () {
                                  sp(v);
                                }),
                                9
                              )
                            );
                          case 9:
                            sp(v);
                          case 7:
                            Se(e, 0);
                            break;
                          case 2:
                            return (
                              (U = xe(e)),
                              (j = Object.values(S)),
                              Te(
                                e,
                                A.removeSegments(j, function () {}),
                                10
                              )
                            );
                          case 10:
                            throw U;
                        }
                      })),
                      12
                    );
                  case 12:
                    return (
                      sp(ie),
                      (ye = new Gf("manifest", he.path.Ra, he.path.Aa, fe)),
                      e.return($f(ye, me))
                    );
                  case 3:
                    return Ce(e), Te(e, de.destroy(), 13);
                  case 13:
                    if (le) return Te(e, le.stop(), 14);
                    e.D(14);
                    break;
                  case 14:
                    if (ce) return Te(e, ce.destroy(), 16);
                    e.D(16);
                    break;
                  case 16:
                    Me(e, 0);
                    break;
                  case 2:
                    if (((be = xe(e)), null != fe)) return Te(e, np(fe), 18);
                    e.D(18);
                    break;
                  case 18:
                    throw pe || be;
                }
                var v,
                  t,
                  y,
                  b,
                  E,
                  T,
                  A,
                  w,
                  O,
                  S,
                  x,
                  n,
                  i,
                  r,
                  a,
                  U,
                  j,
                  u,
                  l,
                  c,
                  d,
                  B,
                  F,
                  h,
                  f,
                  G,
                  p,
                  g,
                  K,
                  m,
                  I,
                  z,
                  k,
                  V,
                  C,
                  M,
                  L,
                  N,
                  R,
                  H,
                  X,
                  W,
                  q,
                  _,
                  Y,
                  $,
                  J,
                  Q,
                  o,
                  s,
                  Z,
                  ee,
                  te,
                  P,
                  ne,
                  D;
              })),
              function () {
                return bf(s);
              }
            )).finally(function () {
              dt(a.j, s);
            }),
            (t = this),
            (r = (e = e).promise),
            t.i.push(r),
            e.finally(function () {
              dt(t.i, r);
            })
          );
        }),
        (n.remove = function (e) {
          return lp(
            this,
            ((o = this),
            (s = e),
            Ie(function (e) {
              switch (e.g) {
                case 1:
                  if ((up(), null == (d = Kf(s)) || "manifest" != d.g))
                    throw new ke(2, 9, 9004, s);
                  return (d = d), (h = new Nf()), x(e), Te(e, h.init(), 4);
                case 4:
                  return Te(e, _f(h, d.Ra(), d.Aa()), 5);
                case 5:
                  return Te(e, (f = e.h).getManifests([d.key()]), 6);
                case 6:
                  return (
                    (p = e.h),
                    (p = p[0]),
                    Te(
                      e,
                      Promise.all([
                        ((u = o),
                        (l = p),
                        (c = h),
                        Ie(function (e) {
                          return Te(
                            e,
                            ((t = u.g),
                            (n = u.h.drm),
                            (i = c),
                            (r = l),
                            Ie(function (e) {
                              return 1 == e.g
                                ? r.drmInfo
                                  ? ((a = (function (e) {
                                      var t = Array.from(e.g.keys());
                                      if (t.length)
                                        return e.g
                                          .get(t[0])
                                          .getEmeSessionCell();
                                      throw new ke(
                                        2,
                                        9,
                                        9e3,
                                        "No supported storage mechanisms found"
                                      );
                                    })(i)),
                                    (o = r.sessionIds.map(function (e) {
                                      return {
                                        sessionId: e,
                                        keySystem: r.drmInfo.keySystem,
                                        licenseUri: r.drmInfo.licenseServerUri,
                                        serverCertificate:
                                          r.drmInfo.serverCertificate,
                                        audioCapabilities: op(r, !1),
                                        videoCapabilities: op(r, !0),
                                      };
                                    })),
                                    Te(e, Yf(n, t, o), 2))
                                  : e.return()
                                : 3 != e.g
                                ? ((s = e.h), Te(e, a.remove(s), 3))
                                : Te(
                                    e,
                                    a.add(
                                      o.filter(function (e) {
                                        return !s.includes(e.sessionId);
                                      })
                                    ),
                                    0
                                  );
                            })),
                            0
                          );
                          var t, n, i, r, a, o, s;
                        })),
                        ((n = f),
                        (i = d),
                        (a = (function (e) {
                          for (
                            var t = new Set(), n = (e = Ee(e.streams)).next();
                            !n.done;
                            n = e.next()
                          )
                            for (
                              var i = (n = Ee(n.value.segments)).next();
                              !i.done;
                              i = n.next()
                            )
                              null != (i = i.value).initSegmentKey &&
                                t.add(i.initSegmentKey),
                                t.add(i.dataKey);
                          return Array.from(t);
                        })((r = p))),
                        $f(i, r),
                        Promise.all([
                          n.removeSegments(a, t),
                          n.removeManifests([i.key()], t),
                        ])),
                      ]),
                      2
                    )
                  );
                case 2:
                  return Ce(e), Te(e, h.destroy(), 8);
                case 8:
                  Me(e, 0);
              }
              function t() {}
              var n, i, r, a, u, l, c;
            }))
          );
          var o, s, d, h, f, p;
        }),
        (n.yh = function () {
          return lp(
            this,
            ((n = this),
            Ie(function (e) {
              switch (e.g) {
                case 1:
                  return (
                    up(),
                    (i = n.g),
                    (r = n.h.drm),
                    (a = new Nf()),
                    (o = !1),
                    x(e),
                    Te(e, a.init(), 4)
                  );
                case 4:
                  (s = []),
                    (t = function (e) {
                      s.push(e);
                    }),
                    a.g.forEach(function (e) {
                      t(e.getEmeSessionCell());
                    }),
                    (u = Ee(s)),
                    (l = u.next());
                case 5:
                  if (l.done) {
                    e.D(2);
                    break;
                  }
                  return Te(e, (c = l.value).getAll(), 8);
                case 8:
                  return (d = e.h), Te(e, Yf(r, i, d), 9);
                case 9:
                  return (h = e.h), Te(e, c.remove(h), 10);
                case 10:
                  h.length != d.length && (o = !0), (l = u.next()), e.D(5);
                  break;
                case 2:
                  return Ce(e), Te(e, a.destroy(), 11);
                case 11:
                  Me(e, 3);
                  break;
                case 3:
                  return e.return(!o);
              }
              var t;
            }))
          );
          var n, i, r, a, o, s, u, l, c, d, h;
        }),
        (n.list = function () {
          return lp(
            this,
            Ie(function (e) {
              switch (e.g) {
                case 1:
                  return (
                    up(), (r = []), (t = new Nf()), x(e), Te(e, t.init(), 4)
                  );
                case 4:
                  return (
                    (a = Promise.resolve()),
                    (i = function (n, t) {
                      a = a.then(function () {
                        return Ie(function (e) {
                          if (1 == e.g) return Te(e, t.getAllManifests(), 2);
                          e.h.forEach(function (e, t) {
                            t = $f(new Gf("manifest", n.Ra, n.Aa, t), e);
                            r.push(t);
                          }),
                            Ae(e);
                        });
                      });
                    }),
                    t.g.forEach(function (e, n) {
                      e.getCells().forEach(function (e, t) {
                        i({ Ra: n, Aa: t }, e);
                      });
                    }),
                    Te(e, a, 2)
                  );
                case 2:
                  return Ce(e), Te(e, t.destroy(), 6);
                case 6:
                  Me(e, 3);
                  break;
                case 3:
                  return e.return(r);
              }
              var i;
            })
          );
          var r, t, a;
        }),
        t("shaka.offline.Storage", ep),
        (ep.deleteAll = function () {
          var r;
          return Ie(function (e) {
            return 1 == e.g
              ? ((r = new Nf()),
                x(e),
                Te(
                  e,
                  ((t = r),
                  Ie(function (e) {
                    return 1 == e.g
                      ? ((n = Array.from(t.g.values())),
                        (i = 0 < n.length) ||
                          Df.forEach(function (e) {
                            (e = e()) && n.push(e);
                          }),
                        Te(
                          e,
                          Promise.all(
                            n.map(function (e) {
                              return e.erase();
                            })
                          ),
                          2
                        ))
                      : i
                      ? e.D(0)
                      : Te(
                          e,
                          Promise.all(
                            n.map(function (e) {
                              return e.destroy();
                            })
                          ),
                          0
                        );
                  })),
                  2
                ))
              : 5 != e.g
              ? (Ce(e), Te(e, r.destroy(), 5))
              : Me(e, 0);
            var t, n, i;
          });
        }),
        (ep.prototype.removeEmeSessions = ep.prototype.yh),
        (ep.prototype.getNetworkingEngine = ep.prototype.Gc),
        (ep.support = tp);
      var dp = new Map()
        .set("org.w3.clearkey", "1077efecc0b24d02ace33c1e52e2fb4b")
        .set("com.widevine.alpha", "edef8ba979d64acea3c827dcd51d21ed")
        .set("com.microsoft.playready", "9a04f07998404286ab92e65be0885f95")
        .set(
          "com.microsoft.playready.recommendation",
          "9a04f07998404286ab92e65be0885f95"
        )
        .set(
          "com.microsoft.playready.software",
          "9a04f07998404286ab92e65be0885f95"
        )
        .set(
          "com.microsoft.playready.hardware",
          "9a04f07998404286ab92e65be0885f95"
        )
        .set("com.adobe.primetime", "f239e769efa348509c16a903c6932efb");
      function hp() {}
      function fp() {
        for (var e = Ee(gp), t = e.next(); !t.done; t = e.next()) {
          t = t.value;
          try {
            t.og();
          } catch (e) {
            k("Error installing polyfill!", e);
          }
        }
      }
      function pp(e, t) {
        for (var n = { priority: t || 0, og: e }, i = 0; i < gp.length; i++)
          if (gp[i].priority < n.priority) return void gp.splice(i, 0, n);
        gp.push(n);
      }
      (jl.offline = tp),
        t("shaka.polyfill", hp),
        (hp.register = pp),
        (hp.installAll = fp);
      var gp = [];
      function mp() {}
      function vp() {
        if (!Object.getOwnPropertyDescriptor(Element.prototype, "ariaHidden"))
          for (
            var e = Ee([
                "ariaHidden",
                "ariaLabel",
                "ariaPressed",
                "ariaSelected",
              ]),
              t = e.next();
            !t.done;
            t = e.next()
          )
            !(function (e) {
              var t = "aria-" + e.toLowerCase().replace(/^aria/, "");
              Object.defineProperty(Element.prototype, e, {
                get: function () {
                  return this.getAttribute(t);
                },
                set: function (e) {
                  null == e ? this.removeAttribute(t) : this.setAttribute(t, e);
                },
              });
            })(t.value);
      }
      function yp() {}
      function bp() {
        Ym();
      }
      function Ep() {}
      function Tp() {
        var e;
        N.Document &&
          (((e = Element.prototype).requestFullscreen =
            e.requestFullscreen ||
            e.mozRequestFullScreen ||
            e.msRequestFullscreen ||
            e.webkitRequestFullscreen),
          ((e = Document.prototype).exitFullscreen =
            e.exitFullscreen ||
            e.mozCancelFullScreen ||
            e.msExitFullscreen ||
            e.webkitCancelFullScreen),
          "fullscreenElement" in document ||
            (Object.defineProperty(document, "fullscreenElement", {
              get: function () {
                return (
                  document.mozFullScreenElement ||
                  document.msFullscreenElement ||
                  document.webkitCurrentFullScreenElement ||
                  document.webkitFullscreenElement
                );
              },
            }),
            Object.defineProperty(document, "fullscreenEnabled", {
              get: function () {
                return (
                  document.mozFullScreenEnabled ||
                  document.msFullscreenEnabled ||
                  document.webkitFullscreenEnabled
                );
              },
            })),
          document.addEventListener("webkitfullscreenchange", Ap),
          document.addEventListener("webkitfullscreenerror", Ap),
          document.addEventListener("mozfullscreenchange", Ap),
          document.addEventListener("mozfullscreenerror", Ap),
          document.addEventListener("MSFullscreenChange", Ap),
          document.addEventListener("MSFullscreenError", Ap));
      }
      function Ap(e) {
        var t = e.type.replace(/^(webkit|moz|MS)/, "").toLowerCase(),
          n = document.createEvent("Event");
        n.initEvent(t, e.bubbles, e.cancelable), e.target.dispatchEvent(n);
      }
      function wp() {}
      function Sp() {
        var e = !0;
        ((e =
          Xt() ||
          Yt("PlayStation 5") ||
          Wt() ||
          Yt("Web0S") ||
          Vt() ||
          Yt("CrKey") ||
          Yt("PC=EOS")
            ? !1
            : e) &&
          navigator.mediaCapabilities) ||
          (navigator.mediaCapabilities || (navigator.mediaCapabilities = {}),
          (Ip = navigator.mediaCapabilities),
          (navigator.mediaCapabilities.decodingInfo = xp));
      }
      function xp(t) {
        var n, i, r, a, o, s, u, l, c;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if (
                ((n = {
                  supported: !1,
                  powerEfficient: !0,
                  smooth: !0,
                  keySystemAccess: null,
                  configuration: t,
                }),
                !t)
              )
                return e.return(n);
              if ("media-source" == t.type) {
                if (
                  !Gt() ||
                  (t.video &&
                    ((i = t.video.contentType),
                    !MediaSource.isTypeSupported(i))) ||
                  (t.audio &&
                    ((i = t.audio.contentType),
                    !MediaSource.isTypeSupported(i)))
                )
                  return e.return(n);
              } else {
                if ("file" != t.type) return e.return(n);
                if (
                  (t.video && ((r = t.video.contentType), !Kt(r))) ||
                  (t.audio && ((r = t.audio.contentType), !Kt(r)))
                )
                  return e.return(n);
              }
              return t.keySystemConfiguration
                ? ((a = t.keySystemConfiguration),
                  (o = []),
                  (s = []),
                  a.audio &&
                    ((u = {
                      robustness: a.audio.robustness || "",
                      contentType: t.audio.contentType,
                    }),
                    o.push(u)),
                  a.video &&
                    ((u = {
                      robustness: a.video.robustness || "",
                      contentType: t.video.contentType,
                    }),
                    s.push(u)),
                  (l = {
                    initDataTypes: [a.initDataType],
                    distinctiveIdentifier: a.distinctiveIdentifier,
                    persistentState: a.persistentState,
                    sessionTypes: a.sessionTypes,
                  }),
                  o.length && (l.audioCapabilities = o),
                  s.length && (l.videoCapabilities = s),
                  we(e, 3),
                  Te(
                    e,
                    navigator.requestMediaKeySystemAccess(a.keySystem, [l]),
                    5
                  ))
                : ((n.supported = !0), e.return(Promise.resolve(n)));
            case 5:
              (c = e.h), Se(e, 4);
              break;
            case 3:
              xe(e);
            case 4:
              c && ((n.supported = !0), (n.keySystemAccess = c));
            case 2:
              return e.return(n);
          }
        });
      }
      pp(((hp.Aria = mp).install = vp)),
        pp(((hp.EncryptionScheme = yp).install = bp), -2),
        pp(((hp.Fullscreen = Ep).install = Tp)),
        ((hp.MediaCapabilities = wp).install = Sp);
      var Ip = null;
      function kp() {}
      function Cp() {
        var t,
          n,
          i,
          a,
          e = qt();
        N.MediaSource &&
          (N.cast && cast.__platform__ && cast.__platform__.canDisplayType
            ? ((i = MediaSource.isTypeSupported),
              (MediaSource.isTypeSupported = function (e) {
                var t = e.split(/ *; */);
                return (
                  t.shift(),
                  t.some(function (e) {
                    return e.startsWith("codecs=");
                  })
                    ? cast.__platform__.canDisplayType(e)
                    : i(e)
                );
              }))
            : e
            ? e <= 12
              ? (Mp(),
                (n = SourceBuffer.prototype.remove),
                (SourceBuffer.prototype.remove = function (e, t) {
                  return n.call(this, e, t - 0.001);
                }))
              : Mp()
            : (Yt("Tizen 2") || Yt("Tizen 3") || Yt("Tizen 4")) &&
              ((t = MediaSource.isTypeSupported),
              (MediaSource.isTypeSupported = function (e) {
                return "opus" != kn(e)[0] && t(e);
              }))),
          N.MediaSource &&
            MediaSource.isTypeSupported('video/webm; codecs="vp9"') &&
            !MediaSource.isTypeSupported(
              'video/webm; codecs="vp09.00.10.08"'
            ) &&
            ((a = MediaSource.isTypeSupported),
            Yt("Web0S") ||
              (MediaSource.isTypeSupported = function (e) {
                var t = e.split(/ *; */),
                  n = t.findIndex(function (e) {
                    return e.startsWith("codecs=");
                  });
                if (n < 0) return a(e);
                var i = t[n]
                    .replace("codecs=", "")
                    .replace(/"/g, "")
                    .split(/\s*,\s*/),
                  r = i.findIndex(function (e) {
                    return e.startsWith("vp09");
                  });
                return (
                  0 <= r &&
                    ((i[r] = "vp9"),
                    (t[n] = 'codecs="' + i.join(",") + '"'),
                    (e = t.join("; "))),
                  a(e)
                );
              }));
      }
      function Mp() {
        var t = MediaSource.prototype.addSourceBuffer;
        MediaSource.prototype.addSourceBuffer = function () {
          var e = t.apply(this, q.apply(0, arguments));
          return (e.abort = function () {}), e;
        };
      }
      function Lp() {}
      function Np() {
        function t() {
          switch (N.orientation) {
            case -90:
              (n.type = "landscape-secondary"), (n.angle = 270);
              break;
            case 0:
              (n.type = "portrait-primary"), (n.angle = 0);
              break;
            case 90:
              (n.type = "landscape-primary"), (n.angle = 90);
              break;
            case 180:
              (n.type = "portrait-secondary"), (n.angle = 180);
          }
        }
        var n;
        screen.orientation ||
          (null != N.orientation &&
            ((n = new Rp()),
            (screen.orientation = n),
            t(),
            N.addEventListener("orientationchange", function () {
              t();
              var e = new _("change");
              n.dispatchEvent(e);
            })));
      }
      function Rp() {
        h.call(this), (this.type = ""), (this.angle = 0);
      }
      function _p() {}
      function Pp(e, t) {
        try {
          var n = new Up(e, t);
          return Promise.resolve(n);
        } catch (e) {
          return Promise.reject(e);
        }
      }
      function Dp(e) {
        var t = this.mediaKeys;
        return (
          t && t != e && Bp(t, null),
          delete this.mediaKeys,
          (this.mediaKeys = e) ? Bp(e, this) : Promise.resolve()
        );
      }
      function Op(e) {
        if (Ut((e = R(e.initData))).getUint32(0, !0) + 4 != e.byteLength)
          throw new RangeError("Malformed FairPlay init data");
        e = rn((e = tn(e.subarray(4), !0)));
        var t = new Event("encrypted");
        (t.initDataType = "skd"), (t.initData = Ot(e)), this.dispatchEvent(t);
      }
      function Up(e, t) {
        if ((this.keySystem = e).startsWith("com.apple.fps"))
          for (var n = Ee(t), i = n.next(); !i.done; i = n.next()) {
            var r = i.value;
            if ("required" == r.persistentState) i = null;
            else {
              var i = {
                  audioCapabilities: [],
                  videoCapabilities: [],
                  persistentState: "optional",
                  distinctiveIdentifier: "optional",
                  initDataTypes: r.initDataTypes,
                  sessionTypes: ["temporary"],
                  label: r.label,
                },
                a = !1,
                o = !1;
              if (r.audioCapabilities)
                for (
                  var s = Ee(r.audioCapabilities), u = s.next();
                  !u.done;
                  u = s.next()
                )
                  (u = u.value).contentType &&
                    ((a = !0),
                    WebKitMediaKeys.isTypeSupported(
                      this.keySystem,
                      u.contentType.split(";")[0]
                    ) && (i.audioCapabilities.push(u), (o = !0)));
              if (r.videoCapabilities)
                for (
                  u = (r = Ee(r.videoCapabilities)).next();
                  !u.done;
                  u = r.next()
                )
                  (s = u.value).contentType &&
                    ((a = !0),
                    WebKitMediaKeys.isTypeSupported(
                      this.keySystem,
                      s.contentType.split(";")[0]
                    ) && (i.videoCapabilities.push(s), (o = !0)));
              i = (o = a
                ? o
                : WebKitMediaKeys.isTypeSupported(this.keySystem, "video/mp4"))
                ? i
                : null;
            }
            if (i) return void (this.g = i);
          }
        throw (
          (((n = Error("Unsupported keySystem")).name = "NotSupportedError"),
          (n.code = DOMException.NOT_SUPPORTED_ERR),
          n)
        );
      }
      function jp(e) {
        (this.h = new WebKitMediaKeys(e)), (this.g = new f());
      }
      function Bp(e, t) {
        if ((e.g.Rb(), !t)) return Promise.resolve();
        e.g.o(t, "webkitneedkey", Op);
        try {
          return (
            ss(t, HTMLMediaElement.HAVE_METADATA, e.g, function () {
              t.webkitSetMediaKeys(e.h);
            }),
            Promise.resolve()
          );
        } catch (e) {
          return Promise.reject(e);
        }
      }
      function Fp(e) {
        h.call(this),
          (this.i = null),
          (this.l = e),
          (this.g = this.h = null),
          (this.j = new f()),
          (this.sessionId = ""),
          (this.expiration = NaN),
          (this.closed = new P()),
          (this.keyStatuses = new Kp());
      }
      function Gp(e, t) {
        var n = e.keyStatuses;
        (n.size = null == t ? 0 : 1),
          (n.g = t),
          (n = new _("keystatuseschange")),
          e.dispatchEvent(n);
      }
      function Kp() {
        (this.size = 0), (this.g = void 0);
      }
      function zp() {}
      function Vp() {
        !N.HTMLVideoElement ||
          (navigator.requestMediaKeySystemAccess &&
            MediaKeySystemAccess.prototype.getConfiguration) ||
          ((navigator.requestMediaKeySystemAccess = Hp),
          delete HTMLMediaElement.prototype.mediaKeys,
          (HTMLMediaElement.prototype.mediaKeys = null),
          (HTMLMediaElement.prototype.setMediaKeys = Xp),
          (N.MediaKeys = Wp),
          (N.MediaKeySystemAccess = qp),
          (N.shakaMediaKeysPolyfill = !0));
      }
      function Hp() {
        return Promise.reject(
          Error("The key system specified is not supported.")
        );
      }
      function Xp(e) {
        return null == e
          ? Promise.resolve()
          : Promise.reject(Error("MediaKeys not supported."));
      }
      function Wp() {
        throw new TypeError("Illegal constructor.");
      }
      function qp() {
        throw ((this.keySystem = ""), new TypeError("Illegal constructor."));
      }
      function Yp() {}
      function $p() {
        if (
          !(
            !N.HTMLVideoElement ||
            (navigator.requestMediaKeySystemAccess &&
              MediaKeySystemAccess.prototype.getConfiguration)
          )
        ) {
          if (HTMLMediaElement.prototype.webkitGenerateKeyRequest)
            ug = "webkit";
          else if (!HTMLMediaElement.prototype.generateKeyRequest) return;
          (navigator.requestMediaKeySystemAccess = Qp),
            delete HTMLMediaElement.prototype.mediaKeys,
            (HTMLMediaElement.prototype.mediaKeys = null),
            (HTMLMediaElement.prototype.setMediaKeys = Zp),
            (N.MediaKeys = tg),
            (N.MediaKeySystemAccess = eg),
            (N.shakaMediaKeysPolyfill = !0);
        }
      }
      function Jp(e) {
        return ug ? ug + e.charAt(0).toUpperCase() + e.slice(1) : e;
      }
      function Qp(e, t) {
        try {
          var n = new eg(e, t);
          return Promise.resolve(n);
        } catch (e) {
          return Promise.reject(e);
        }
      }
      function Zp(e) {
        var t = this.mediaKeys;
        return (
          t && t != e && ng(t, null),
          delete this.mediaKeys,
          (this.mediaKeys = e) && ng(e, this),
          Promise.resolve()
        );
      }
      function eg(e, t) {
        for (
          var n = !1,
            i =
              ("org.w3.clearkey" == (this.g = this.keySystem = e) &&
                (n = !(this.g = "webkit-org.w3.clearkey")),
              !1),
            r = (r = document.getElementsByTagName("video")).length
              ? r[0]
              : document.createElement("video"),
            a = Ee(t),
            o = a.next();
          !o.done;
          o = a.next()
        ) {
          var s = {
              audioCapabilities: [],
              videoCapabilities: [],
              persistentState: "optional",
              distinctiveIdentifier: "optional",
              initDataTypes: (o = o.value).initDataTypes,
              sessionTypes: ["temporary"],
              label: o.label,
            },
            u = !1;
          if (o.audioCapabilities)
            for (
              var l = Ee(o.audioCapabilities), c = l.next();
              !c.done;
              c = l.next()
            )
              (c = c.value).contentType &&
                ((u = !0),
                r.canPlayType(c.contentType.split(";")[0], this.g) &&
                  (s.audioCapabilities.push(c), (i = !0)));
          if (o.videoCapabilities)
            for (
              c = (l = Ee(o.videoCapabilities)).next();
              !c.done;
              c = l.next()
            )
              (c = c.value).contentType &&
                ((u = !0),
                r.canPlayType(c.contentType, this.g) &&
                  (s.videoCapabilities.push(c), (i = !0)));
          if (
            (u ||
              (i =
                r.canPlayType("video/mp4", this.g) ||
                r.canPlayType("video/webm", this.g)),
            "required" == o.persistentState &&
              (n
                ? ((s.persistentState = "required"),
                  (s.sessionTypes = ["persistent-license"]))
                : (i = !1)),
            i)
          )
            return void (this.h = s);
        }
        throw (
          ((n =
            "org.w3.clearkey" != e && "com.widevine.alpha" != e
              ? "Unsupported keySystem"
              : "None of the requested configurations were supported."),
          ((n = Error(n)).name = "NotSupportedError"),
          (n.code = DOMException.NOT_SUPPORTED_ERR),
          n)
        );
      }
      function tg(e) {
        (this.l = e),
          (this.h = null),
          (this.g = new f()),
          (this.i = []),
          (this.j = new Map());
      }
      function ng(n, e) {
        (n.h = e), n.g.Rb();
        var t = ug;
        e &&
          (n.g.o(e, t + "needkey", function (e) {
            var t = new CustomEvent("encrypted");
            (t.initDataType = "cenc"),
              (t.initData = Ot(e.initData)),
              n.h.dispatchEvent(t);
          }),
          n.g.o(e, t + "keymessage", function (e) {
            var t = ig(n, e.sessionId);
            t &&
              ((e = new _(
                "message",
                (e = new Map()
                  .set(
                    "messageType",
                    null == t.keyStatuses.ec()
                      ? "licenserequest"
                      : "licenserenewal"
                  )
                  .set("message", e.message))
              )),
              t.h && (t.h.resolve(), (t.h = null)),
              t.dispatchEvent(e));
          }),
          n.g.o(e, t + "keyadded", function (e) {
            (e = ig(n, e.sessionId)) &&
              (og(e, "usable"), e.g && e.g.resolve(), (e.g = null));
          }),
          n.g.o(e, t + "keyerror", function (e) {
            var t = ig(n, e.sessionId);
            t && t.handleError(e);
          }));
      }
      function ig(e, t) {
        var n = e.j.get(t);
        return (
          n ||
          ((n = e.i.shift()) ? ((n.sessionId = t), e.j.set(t, n), n) : null)
        );
      }
      function rg(e, t, n) {
        h.call(this),
          (this.j = e),
          (this.m = !1),
          (this.g = this.h = null),
          (this.i = t),
          (this.l = n),
          (this.sessionId = ""),
          (this.expiration = NaN),
          (this.closed = new P()),
          (this.keyStatuses = new sg());
      }
      function ag(t, e, n) {
        if (t.m)
          return Promise.reject(Error("The session is already initialized."));
        t.m = !0;
        try {
          var i;
          i =
            "persistent-license" == t.l
              ? n
                ? R(rn("LOAD_SESSION|" + n))
                : fn(rn("PERSISTENT|"), e)
              : R(e);
        } catch (e) {
          return Promise.reject(e);
        }
        t.h = new P();
        var r = Jp("generateKeyRequest");
        try {
          t.j[r](t.i, i);
        } catch (e) {
          if ("InvalidStateError" != e.name)
            return (t.h = null), Promise.reject(e);
          new M(function () {
            try {
              t.j[r](t.i, i);
            } catch (e) {
              t.h.reject(e), (t.h = null);
            }
          }).S(0.01);
        }
        return t.h;
      }
      function og(e, t) {
        var n = e.keyStatuses;
        (n.size = null == t ? 0 : 1),
          (n.g = t),
          (n = new _("keystatuseschange")),
          e.dispatchEvent(n);
      }
      function sg() {
        (this.size = 0), (this.g = void 0);
      }
      (wp.originalMcap = Ip),
        pp(Sp, -1),
        pp(((hp.MediaSource = kp).install = Cp)),
        ((hp.Orientation = Lp).install = Np),
        e(Rp, h),
        (Rp.prototype.lock = function (e) {
          function t(e) {
            return screen.lockOrientation
              ? screen.lockOrientation(e)
              : screen.mozLockOrientation
              ? screen.mozLockOrientation(e)
              : !!screen.msLockOrientation && screen.msLockOrientation(e);
          }
          var n = !1;
          switch (e) {
            case "natural":
              n = t("default");
              break;
            case "any":
              (n = !0), this.unlock();
              break;
            default:
              n = t(e);
          }
          return n
            ? Promise.resolve()
            : (((e = Error(
                "screen.orientation.lock() is not available on this device"
              )).name = "NotSupportedError"),
              (e.code = DOMException.NOT_SUPPORTED_ERR),
              Promise.reject(e));
        }),
        (Rp.prototype.unlock = function () {
          screen.unlockOrientation
            ? screen.unlockOrientation()
            : screen.mozUnlockOrientation
            ? screen.mozUnlockOrientation()
            : screen.msUnlockOrientation && screen.msUnlockOrientation();
        }),
        pp(Np),
        ((hp.PatchedMediaKeysApple = _p).uninstall = function () {
          this.g &&
            ((this.g = !1),
            Object.defineProperty(
              HTMLMediaElement.prototype,
              "mediaKeys",
              this.h
            ),
            (HTMLMediaElement.prototype.setMediaKeys = this.i),
            (N.MediaKeys = this.m),
            (N.MediaKeySystemAccess = this.l),
            (navigator.requestMediaKeySystemAccess = this.j),
            (this.h = this.j = this.i = this.l = this.m = null),
            (N.shakaMediaKeysPolyfill = !1));
        }),
        (_p.install = function (e) {
          N.HTMLVideoElement &&
            N.WebKitMediaKeys &&
            (void 0 !== e &&
              e &&
              ((this.g = !0),
              (this.h = Object.getOwnPropertyDescriptor(
                HTMLMediaElement.prototype,
                "mediaKeys"
              )),
              (this.i = HTMLMediaElement.prototype.setMediaKeys),
              (this.m = N.MediaKeys),
              (this.l = N.MediaKeySystemAccess),
              (this.j = navigator.requestMediaKeySystemAccess)),
            delete HTMLMediaElement.prototype.mediaKeys,
            (HTMLMediaElement.prototype.mediaKeys = null),
            (HTMLMediaElement.prototype.setMediaKeys = Dp),
            (N.MediaKeys = jp),
            (N.MediaKeySystemAccess = Up),
            (navigator.requestMediaKeySystemAccess = Pp),
            (N.shakaMediaKeysPolyfill = !0));
        }),
        (Up.prototype.createMediaKeys = function () {
          var e = new jp(this.keySystem);
          return Promise.resolve(e);
        }),
        (Up.prototype.getConfiguration = function () {
          return this.g;
        }),
        (jp.prototype.createSession = function (e) {
          if ("temporary" != (e = e || "temporary"))
            throw new TypeError(
              "Session type " + e + " is unsupported on this platform."
            );
          return new Fp(this.h);
        }),
        (jp.prototype.setServerCertificate = function () {
          return Promise.resolve(!1);
        }),
        e(Fp, h),
        ((n = Fp.prototype).generateRequest = function (e, t) {
          var n = this;
          this.h = new P();
          try {
            var i = this.l.createSession("video/mp4", R(t));
            (this.i = i),
              (this.sessionId = i.sessionId || ""),
              this.j.o(this.i, "webkitkeymessage", function (e) {
                n.h && (n.h.resolve(), (n.h = null)),
                  (e = new _(
                    "message",
                    (e = new Map()
                      .set(
                        "messageType",
                        null == n.keyStatuses.ec()
                          ? "license-request"
                          : "license-renewal"
                      )
                      .set("message", Ot(e.message)))
                  )),
                  n.dispatchEvent(e);
              }),
              this.j.o(i, "webkitkeyadded", function () {
                n.g && (Gp(n, "usable"), n.g.resolve(), (n.g = null));
              }),
              this.j.o(i, "webkitkeyerror", function () {
                var e = Error("EME PatchedMediaKeysApple key error");
                if (((e.errorCode = n.i.error), null != n.h))
                  n.h.reject(e), (n.h = null);
                else if (null != n.g) n.g.reject(e), (n.g = null);
                else
                  switch (n.i.error.code) {
                    case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:
                    case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:
                      Gp(n, "output-not-allowed");
                      break;
                    default:
                      Gp(n, "internal-error");
                  }
              }),
              Gp(this, "status-pending");
          } catch (e) {
            this.h.reject(e);
          }
          return this.h;
        }),
        (n.load = function () {
          return Promise.reject(
            Error("MediaKeySession.load not yet supported")
          );
        }),
        (n.update = function (e) {
          this.g = new P();
          try {
            this.i.update(R(e));
          } catch (e) {
            this.g.reject(e);
          }
          return this.g;
        }),
        (n.close = function () {
          try {
            this.i.close(), this.closed.resolve(), this.j.Rb();
          } catch (e) {
            this.closed.reject(e);
          }
          return this.closed;
        }),
        (n.remove = function () {
          return Promise.reject(
            Error(
              "MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"
            )
          );
        }),
        ((n = Kp.prototype).ec = function () {
          return this.g;
        }),
        (n.forEach = function (e) {
          this.g && e(this.g, Zr.value());
        }),
        (n.get = function (e) {
          if (this.has(e)) return this.g;
        }),
        (n.has = function (e) {
          var t = Zr.value();
          return !(!this.g || !Pt(e, t));
        }),
        (n.entries = function () {}),
        (n.keys = function () {}),
        (n.values = function () {}),
        ((hp.PatchedMediaKeysNop = zp).install = Vp),
        (Wp.prototype.createSession = function () {}),
        (Wp.prototype.setServerCertificate = function () {}),
        (qp.prototype.getConfiguration = function () {}),
        (qp.prototype.createMediaKeys = function () {}),
        pp(Vp, -10),
        ((hp.PatchedMediaKeysWebkit = Yp).install = $p),
        (eg.prototype.createMediaKeys = function () {
          var e = new tg(this.g);
          return Promise.resolve(e);
        }),
        (eg.prototype.getConfiguration = function () {
          return this.h;
        }),
        (tg.prototype.createSession = function (e) {
          if (
            "temporary" != (e = e || "temporary") &&
            "persistent-license" != e
          )
            throw new TypeError(
              "Session type " + e + " is unsupported on this platform."
            );
          var t = this.h || document.createElement("video");
          return (
            t.src || (t.src = "about:blank"),
            (e = new rg(t, this.l, e)),
            this.i.push(e),
            e
          );
        }),
        (tg.prototype.setServerCertificate = function () {
          return Promise.resolve(!1);
        }),
        e(rg, h),
        ((n = rg.prototype).handleError = function (e) {
          var t = Error("EME v0.1b key error"),
            n = e.errorCode;
          (n.systemCode = e.systemCode),
            (t.errorCode = n),
            !e.sessionId && this.h
              ? (45 == e.systemCode &&
                  (t.message = "Unsupported session type."),
                this.h.reject(t),
                (this.h = null))
              : e.sessionId && this.g
              ? (this.g.reject(t), (this.g = null))
              : ((t = e.systemCode),
                e.errorCode.code == MediaKeyError.MEDIA_KEYERR_OUTPUT
                  ? og(this, "output-restricted")
                  : og(this, 1 == t ? "expired" : "internal-error"));
        }),
        (n.generateRequest = function (e, t) {
          return ag(this, t, null);
        }),
        (n.load = function (e) {
          return "persistent-license" == this.l
            ? ag(this, null, e)
            : Promise.reject(Error("Not a persistent session."));
        }),
        (n.update = function (e) {
          var t = new P();
          return (
            (function e(t, n, i) {
              if (t.g)
                t.g
                  .then(function () {
                    return e(t, n, i);
                  })
                  .catch(function () {
                    return e(t, n, i);
                  });
              else {
                (t.g = n),
                  (a =
                    "webkit-org.w3.clearkey" == t.i
                      ? ((r = en(i)),
                        "oct" != (a = JSON.parse(r)).keys[0].kty &&
                          (t.g.reject(
                            Error("Response is not a valid JSON Web Key Set.")
                          ),
                          (t.g = null)),
                        (r = cn(a.keys[0].k)),
                        cn(a.keys[0].kid))
                      : ((r = R(i)), null));
                var r,
                  a,
                  o = Jp("addKey");
                try {
                  t.j[o](t.i, r, a, t.sessionId);
                } catch (e) {
                  t.g.reject(e), (t.g = null);
                }
              }
            })(this, t, e),
            t
          );
        }),
        (n.close = function () {
          if ("persistent-license" != this.l) {
            if (!this.sessionId)
              return (
                this.closed.reject(Error("The session is not callable.")),
                this.closed
              );
            var e = Jp("cancelKeyRequest");
            try {
              this.j[e](this.i, this.sessionId);
            } catch (e) {}
          }
          return this.closed.resolve(), this.closed;
        }),
        (n.remove = function () {
          return "persistent-license" != this.l
            ? Promise.reject(Error("Not a persistent session."))
            : this.close();
        }),
        ((n = sg.prototype).ec = function () {
          return this.g;
        }),
        (n.forEach = function (e) {
          this.g && e(this.g, Zr.value());
        }),
        (n.get = function (e) {
          if (this.has(e)) return this.g;
        }),
        (n.has = function (e) {
          var t = Zr.value();
          return !(!this.g || !Pt(e, t));
        }),
        (n.entries = function () {}),
        (n.keys = function () {}),
        (n.values = function () {});
      var ug = "";
      function lg() {}
      function cg() {
        var e;
        !N.HTMLVideoElement ||
          ((e = HTMLVideoElement.prototype).requestPictureInPicture &&
            document.exitPictureInPicture) ||
          !e.webkitSupportsPresentationMode ||
          ((document.pictureInPictureEnabled = !0),
          (document.pictureInPictureElement = null),
          (e.requestPictureInPicture = hg),
          Object.defineProperty(e, "disablePictureInPicture", {
            get: pg,
            set: gg,
            enumerable: !0,
            configurable: !0,
          }),
          (document.exitPictureInPicture = fg),
          document.addEventListener("webkitpresentationmodechanged", dg, !0));
      }
      function dg(e) {
        var t =
          "picture-in-picture" == (e = e.target).webkitPresentationMode
            ? ((document.pictureInPictureElement = e),
              new Event("enterpictureinpicture"))
            : (document.pictureInPictureElement == e &&
                (document.pictureInPictureElement = null),
              new Event("leavepictureinpicture"));
        e.dispatchEvent(t);
      }
      function hg() {
        return this.webkitSupportsPresentationMode("picture-in-picture")
          ? (this.webkitSetPresentationMode("picture-in-picture"),
            (document.pictureInPictureElement = this),
            Promise.resolve())
          : Promise.reject(Error("PiP not allowed by video element"));
      }
      function fg() {
        var e = document.pictureInPictureElement;
        return e
          ? (e.webkitSetPresentationMode("inline"),
            (document.pictureInPictureElement = null),
            Promise.resolve())
          : Promise.reject(Error("No picture in picture element found"));
      }
      function pg() {
        return (
          !!this.hasAttribute("disablePictureInPicture") ||
          !this.webkitSupportsPresentationMode("picture-in-picture")
        );
      }
      function gg(e) {
        e
          ? this.setAttribute("disablePictureInPicture", "")
          : this.removeAttribute("disablePictureInPicture");
      }
      function mg() {}
      function vg() {
        !N.crypto || "randomUUID" in N.crypto || (N.crypto.randomUUID = yg);
      }
      function yg() {
        var e = URL.createObjectURL(new Blob()),
          t = e.toString();
        return URL.revokeObjectURL(e), t.substr(t.lastIndexOf("/") + 1);
      }
      function bg() {}
      function Eg() {
        (navigator.storage && navigator.storage.estimate) ||
          !navigator.webkitTemporaryStorage ||
          !navigator.webkitTemporaryStorage.queryUsageAndQuota ||
          ("storage" in navigator || (navigator.storage = {}),
          (navigator.storage.estimate = Tg));
      }
      function Tg() {
        return new Promise(function (n, e) {
          navigator.webkitTemporaryStorage.queryUsageAndQuota(function (e, t) {
            n({ usage: e, quota: t });
          }, e);
        });
      }
      function Ag() {}
      function wg() {
        var e = Symbol.prototype;
        "description" in e ||
          Object.defineProperty(e, "description", { get: Sg });
      }
      function Sg() {
        var e = /\((.*)\)/.exec(this.toString());
        return e ? e[1] : void 0;
      }
      function xg() {}
      function Ig() {
        var t;
        N.HTMLMediaElement &&
          ((t = HTMLMediaElement.prototype.play),
          (HTMLMediaElement.prototype.play = function () {
            var e = t.apply(this);
            return e && e.catch(function () {}), e;
          }));
      }
      function kg() {}
      function Cg() {
        var e;
        N.HTMLVideoElement &&
          !(e = HTMLVideoElement.prototype).getVideoPlaybackQuality &&
          ("webkitDroppedFrameCount" in e || Ht()) &&
          (e.getVideoPlaybackQuality = Mg);
      }
      function Mg() {
        return {
          droppedVideoFrames: this.webkitDroppedFrameCount,
          totalVideoFrames: this.webkitDecodedFrameCount,
          corruptedVideoFrames: 0,
          creationTime: NaN,
          totalFrameDelay: 0,
        };
      }
      function Lg() {}
      function Ng() {
        if (!N.VTTCue && N.TextTrackCue) {
          var i = null,
            e = TextTrackCue.length;
          if (3 == e) i = Rg;
          else if (6 == e) i = _g;
          else {
            try {
              var t = !!Rg(1, 2, "");
            } catch (e) {
              t = !1;
            }
            t && (i = Rg);
          }
          i &&
            (N.VTTCue = function (e, t, n) {
              return i(e, t, n);
            });
        }
      }
      function Rg(e, t, n) {
        return new N.TextTrackCue(e, t, n);
      }
      function _g(e, t, n) {
        return new N.TextTrackCue(e + "-" + t + "-" + n, e, t, n);
      }
      function Pg() {}
      pp($p),
        pp(((hp.PiPWebkit = lg).install = cg)),
        pp(((hp.RandomUUID = mg).install = vg)),
        pp(((hp.StorageEstimate = bg).install = Eg)),
        pp(((hp.Symbol = Ag).install = wg)),
        pp(((hp.VideoPlayPromise = xg).install = Ig)),
        pp(((hp.VideoPlaybackQuality = kg).install = Cg)),
        pp(((hp.VTTCue = Lg).install = Ng)),
        (Pg.prototype.parseInit = function () {}),
        (Pg.prototype.setSequenceMode = function () {}),
        (Pg.prototype.parseMedia = function (e, t) {
          for (
            var n,
              i = null,
              r = [],
              a = en(e).split(/\r?\n/),
              o = (a = Ee(a)).next();
            !o.done;
            o = a.next()
          )
            (o = o.value) &&
              !/^\s+$/.test(o) &&
              (o = Dg.exec(o)) &&
              ((n = Og.exec(o[1])),
              (o = new L(
                (n =
                  60 * parseInt(n[1], 10) + parseFloat(n[2].replace(",", "."))),
                t.segmentEnd || n + 2,
                o[2]
              )),
              i && ((i.endTime = n), r.push(i)),
              (i = o));
          return i && r.push(i), r;
        }),
        t("shaka.text.LrcTextParser", Pg);
      var Dg = /^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,
        Og = /^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;
      function Ug() {}
      function jg(e, t, n, i, r, a, o) {
        var s;
        "rtl" == Fg(t, n, r, "direction", (a = a || o)) &&
          (e.direction = "rtl"),
          "tb" == (o = Fg(t, n, r, "writingMode", a)) || "tblr" == o
            ? (e.writingMode = "vertical-lr")
            : "tbrl" == o
            ? (e.writingMode = "vertical-rl")
            : "rltb" == o || "rl" == o
            ? (e.direction = "rtl")
            : o && (e.direction = Et),
          (o = Fg(t, n, r, "textAlign", !0))
            ? ((e.positionAlign = sm[o]),
              (e.lineAlign = om[o]),
              (e.textAlign = vt[o.toUpperCase()]))
            : (e.textAlign = mt),
          (o = Fg(t, n, r, "displayAlign", !0)) &&
            (e.displayAlign = bt[o.toUpperCase()]),
          (o = Fg(t, n, r, "color", a)) && (e.color = o),
          (o = Fg(t, n, r, "backgroundColor", a)) && (e.backgroundColor = o),
          (o = Fg(t, n, r, "border", a)) && (e.border = o),
          (o = Fg(t, n, r, "fontFamily", a)) && (e.fontFamily = o),
          (o = Fg(t, n, r, "fontWeight", a)) &&
            "bold" == o &&
            (e.fontWeight = 700),
          (o = Fg(t, n, r, "wrapOption", a)),
          (e.wrapLine = !o || "noWrap" != o),
          (o = Fg(t, n, r, "lineHeight", a)) &&
            o.match(Qg) &&
            (e.lineHeight = o),
          (o = Fg(t, n, r, "fontSize", a)) &&
            (o.match(Qg) || o.match(Jg)) &&
            (e.fontSize = o),
          (o = Fg(t, n, r, "fontStyle", a)) &&
            (e.fontStyle = Mt[o.toUpperCase()]),
          i &&
            ((o = i.getAttribute("imageType") || i.getAttribute("imagetype")),
            (s = i.getAttribute("encoding")),
            (i = i.textContent.trim()),
            "PNG" == o &&
              "Base64" == s &&
              i &&
              (e.backgroundImage = "data:image/png;base64," + i)),
          (i = Fg(t, n, r, "textOutline", a)) &&
            ((i = i.split(" "))[0].match(Qg)
              ? (e.textStrokeColor = e.color)
              : ((e.textStrokeColor = i[0]), i.shift()),
            i[0] && i[0].match(Qg)
              ? (e.textStrokeWidth = i[0])
              : (e.textStrokeColor = "")),
          (i = Fg(t, n, r, "letterSpacing", a)) &&
            i.match(Qg) &&
            (e.letterSpacing = i),
          (i = Fg(t, n, r, "linePadding", a)) &&
            i.match(Qg) &&
            (e.linePadding = i),
          (a = Fg(t, n, r, "opacity", a)) && (e.opacity = parseFloat(a)),
          (n = Gg(n, r, "textDecoration")) && Bg(e, n),
          (t = Kg(t, r, "textDecoration")) && Bg(e, t);
      }
      function Bg(e, t) {
        for (var n = Ee(t.split(" ")), i = n.next(); !i.done; i = n.next())
          switch (i.value) {
            case "underline":
              e.textDecoration.includes("underline") ||
                e.textDecoration.push("underline");
              break;
            case "noUnderline":
              e.textDecoration.includes("underline") &&
                dt(e.textDecoration, "underline");
              break;
            case "lineThrough":
              e.textDecoration.includes("lineThrough") ||
                e.textDecoration.push("lineThrough");
              break;
            case "noLineThrough":
              e.textDecoration.includes("lineThrough") &&
                dt(e.textDecoration, "lineThrough");
              break;
            case "overline":
              e.textDecoration.includes("overline") ||
                e.textDecoration.push("overline");
              break;
            case "noOverline":
              e.textDecoration.includes("overline") &&
                dt(e.textDecoration, "overline");
          }
      }
      function Fg(e, t, n, i, r) {
        return (
          (r = void 0 === r || r),
          (e = Kg(e, n, i)) ? e : r ? Gg(t, n, i) : null
        );
      }
      function Gg(e, t, n) {
        if (!e) return null;
        var i = yr(e, lm, n);
        return i || zg(e, t, n);
      }
      function Kg(e, t, n) {
        var i = yr(e, lm, n);
        return i || zg(e, t, n);
      }
      function zg(e, t, n) {
        e = Vg(e, "style", t, "");
        for (var i = null, r = 0; r < e.length; r++) {
          var a = vr(e[r], "urn:ebu:tt:style", n);
          (a = (a = a || yr(e[r], lm, n)) || Kg(e[r], t, n)) && (i = a);
        }
        return i;
      }
      function Vg(e, t, n, i, r) {
        var a = [];
        if (!e || n.length < 1) return a;
        var o = e;
        for (
          e = null;
          o &&
          !(e = r ? vr(o, r, t) : o.getAttribute(t)) &&
          (o = o.parentNode) instanceof Element;

        );
        if ((t = e))
          for (r = (t = Ee(t.split(" "))).next(); !r.done; r = t.next())
            for (r = r.value, o = (e = Ee(n)).next(); !o.done; o = e.next())
              if (i + (o = o.value).getAttribute("xml:id") == r) {
                a.push(o);
                break;
              }
        return a;
      }
      function Hg(e, t, n, i) {
        return (
          (e = Xg(e, t)),
          null == n ? (n = e.start) : null != e.start && (n += e.start),
          null == i ? (i = e.end) : null != e.start && (i += e.start),
          { start: n, end: i }
        );
      }
      function Xg(e, t) {
        var n = Wg(e.getAttribute("begin"), t),
          i = Wg(e.getAttribute("end"), t),
          e = Wg(e.getAttribute("dur"), t);
        return { start: n, end: (i = null == i && null != e ? n + e : i) };
      }
      function Wg(e, t) {
        var n = null;
        if (em.test(e)) {
          var n = em.exec(e),
            i = Number(n[1]),
            r = Number(n[2]),
            a = Number(n[3]),
            o = Number(n[4]);
          n =
            (a += (o += (Number(n[5]) || 0) / t.h) / t.frameRate) +
            60 * r +
            3600 * i;
        } else if (tm.test(e)) n = qg(tm, e);
        else if (nm.test(e)) n = qg(nm, e);
        else if (im.test(e)) (n = im.exec(e)), (n = Number(n[1]) / t.frameRate);
        else if (rm.test(e)) (n = rm.exec(e)), (n = Number(n[1]) / t.g);
        else if (am.test(e)) n = qg(am, e);
        else if (e)
          throw new ke(2, 2, 2001, "Could not parse cue time range in TTML");
        return n;
      }
      function qg(e, t) {
        e = e.exec(t);
        return null == e || "" == e[0]
          ? null
          : (Number(e[4]) || 0) / 1e3 +
              (Number(e[3]) || 0) +
              60 * (Number(e[2]) || 0) +
              3600 * (Number(e[1]) || 0);
      }
      function Yg(e, t, n, i) {
        (this.frameRate = Number(e) || 30),
          (this.h = Number(t) || 1),
          (this.g = Number(i)),
          0 == this.g && (this.g = e ? this.frameRate * this.h : 1),
          n &&
            (e = /^(\d+) (\d+)$/g.exec(n)) &&
            (this.frameRate *= Number(e[1]) / Number(e[2]));
      }
      (Rn["application/x-subtitle-lrc"] = function () {
        return new Pg();
      }),
        (Ug.prototype.parseInit = function () {}),
        (Ug.prototype.setSequenceMode = function () {}),
        (Ug.prototype.parseMedia = function (e, t) {
          var e = en(e),
            n = [];
          if ("" == e) return n;
          var i = Mr(e, "tt");
          if (!i) throw new ke(2, 2, 2005, "Failed to parse TTML.");
          if (!(e = i.getElementsByTagName("body")[0])) return [];
          var r,
            a = yr(i, um, "frameRate"),
            o = yr(i, um, "subFrameRate"),
            s = yr(i, um, "frameRateMultiplier"),
            u = yr(i, um, "tickRate"),
            l = yr(i, um, "cellResolution"),
            c = i.getAttribute("xml:space") || "default",
            d = yr(i, lm, "extent");
          if ("default" != c && "preserve" != c)
            throw new ke(2, 2, 2005, "Invalid xml:space value: " + c);
          for (
            var c = "default" == c,
              a = new Yg(a, o, s, u),
              l = (l = l && /^(\d+) (\d+)$/.exec(l))
                ? { columns: parseInt(l[1], 10), rows: parseInt(l[2], 10) }
                : null,
              o = (o = i.getElementsByTagName("metadata")[0])
                ? ((r = o),
                  Array.from(r.childNodes).filter(function (e) {
                    return e instanceof Element;
                  }))
                : [],
              s = Array.from(i.getElementsByTagName("style")),
              u = [],
              h = Ee((i = Array.from(i.getElementsByTagName("region")))),
              f = h.next();
            !f.done;
            f = h.next()
          ) {
            var p,
              g,
              m,
              v = f.value,
              f = new Lt(),
              y = v.getAttribute("xml:id");
            y
              ? ((f.id = y),
                (m = null),
                (y = (m = d ? $g.exec(d) || Zg.exec(d) : m)
                  ? Number(m[1])
                  : null),
                (m = m ? Number(m[2]) : null),
                (p = Gg(v, s, "extent")) &&
                  null != (p = (g = $g.exec(p)) || Zg.exec(p)) &&
                  ((f.width = Number(p[1])),
                  (f.height = Number(p[2])),
                  g ||
                    (null != y && (f.width = (100 * f.width) / y),
                    null != m && (f.height = (100 * f.height) / m)),
                  (f.widthUnits = g || null != y ? Nt : 0),
                  (f.heightUnits = g || null != m ? Nt : 0)),
                (v = Gg(v, s, "origin")) &&
                  null != (p = (g = $g.exec(v)) || Zg.exec(v)) &&
                  ((f.viewportAnchorX = Number(p[1])),
                  (f.viewportAnchorY = Number(p[2])),
                  g ||
                    (null != m &&
                      (f.viewportAnchorY = (100 * f.viewportAnchorY) / m),
                    null != y &&
                      (f.viewportAnchorX = (100 * f.viewportAnchorX) / y)),
                  (f.viewportAnchorUnits = g || null != y ? Nt : 0)))
              : (f = null),
              f && u.push(f);
          }
          if (gr(e, "p").length)
            throw new ke(2, 2, 2001, "<p> can only be inside <div> in TTML");
          for (h = (d = Ee(gr(e, "div"))).next(); !h.done; h = d.next())
            if (gr(h.value, "span").length)
              throw new ke(2, 2, 2001, "<span> can only be inside <p> in TTML");
          return (
            (e = (function e(t, n, i, r, a, o, s, u, l, c, d) {
              var h = t.parentNode;
              if (t.nodeType == Node.COMMENT_NODE) return null;
              if (t.nodeType == Node.TEXT_NODE) {
                if (!d) return null;
                var f = document.createElement("span");
                f.textContent = t.textContent;
              } else f = t;
              for (
                var p = null, g = Ee(cm), m = g.next();
                !m.done && !(p = Vg(f, "backgroundImage", r, "#", m.value)[0]);
                m = g.next()
              );
              g = d;
              ("p" != t.nodeName && !p) || (d = !0);
              u =
                "default" ==
                (f.getAttribute("xml:space") || (u ? "default" : "preserve"));
              m = Array.from(f.childNodes).every(function (e) {
                return e.nodeType == Node.TEXT_NODE;
              });
              t = [];
              if (!m)
                for (
                  var v = Ee(f.childNodes), y = v.next();
                  !y.done;
                  y = v.next()
                )
                  (y = e(y.value, n, i, r, a, o, s, u, l, f, d)) && t.push(y);
              r = null != c;
              v = /\S/.test(f.textContent);
              var b =
                f.hasAttribute("begin") ||
                f.hasAttribute("end") ||
                f.hasAttribute("dur");
              if (!(b || v || "br" == f.tagName || 0 != t.length || (r && !u)))
                return null;
              y = Xg(f, i);
              v = y.start;
              for (
                y = y.end;
                h && h.nodeType == Node.ELEMENT_NODE && "tt" != h.tagName;

              )
                (y = Hg(h, i, v, y)),
                  (v = y.start),
                  (y = y.end),
                  (h = h.parentNode);
              null == v && (v = 0);
              v += n;
              y = null == y ? 1 / 0 : y + n;
              if (!b && 0 < t.length)
                for (
                  v = 1 / 0, y = 0, n = Ee(t), i = n.next();
                  !i.done;
                  i = n.next()
                )
                  (i = i.value),
                    (v = Math.min(v, i.startTime)),
                    (y = Math.max(y, i.endTime));
              if ("br" == f.tagName)
                return (a = new L(v, y, "")), (a.lineBreak = !0), a;
              n = "";
              m &&
                ((n = f.textContent),
                u && ((n = n.trim()), (n = n.replace(/\s+/g, " "))));
              n = new L(v, y, n);
              n.nestedCues = t;
              d || (n.isContainer = !0);
              l && (n.cellResolution = l);
              l = Vg(f, "region", o, "")[0];
              {
                var E;
                f.hasAttribute("region") &&
                  l &&
                  l.getAttribute("xml:id") &&
                  ((E = l.getAttribute("xml:id")),
                  (n.region = s.filter(function (e) {
                    return e.id == E;
                  })[0]));
              }
              s = l;
              c &&
                r &&
                !f.getAttribute("region") &&
                !f.getAttribute("style") &&
                (s = Vg(c, "region", o, "")[0]);
              jg(n, f, s, p, a, g, 0 == t.length);
              return n;
            })(e, t.periodStart, a, o, s, i, u, c, l, null, !1)) &&
              (e.backgroundColor || (e.backgroundColor = "transparent"),
              n.push(e)),
            n
          );
        }),
        t("shaka.text.TtmlTextParser", Ug);
      var $g =
          /^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,
        Jg = /^(\d{1,2}(?:\.\d+)?|100)%$/,
        Qg = /^(\d+px|\d+em|\d*\.?\d+c)$/,
        Zg = /^(\d+)px (\d+)px$/,
        em = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,
        tm = /^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,
        nm = /^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,
        im = /^(\d*(?:\.\d*)?)f$/,
        rm = /^(\d*(?:\.\d*)?)t$/,
        am = RegExp(
          "^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"
        ),
        om = {
          left: wt,
          center: "center",
          right: "end",
          start: wt,
          end: "end",
        },
        sm = { left: "line-left", center: "center", right: "line-right" },
        um = [
          "http://www.w3.org/ns/ttml#parameter",
          "http://www.w3.org/2006/10/ttaf1#parameter",
        ],
        lm = [
          "http://www.w3.org/ns/ttml#styling",
          "http://www.w3.org/2006/10/ttaf1#styling",
        ],
        cm = [
          "http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",
          "http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt",
        ];
      function dm() {
        this.g = new Ug();
      }
      function hm() {
        this.g = !1;
      }
      function fm(e) {
        for (
          var t = Ee(Object.entries(xt)), n = t.next();
          !n.done;
          n = t.next()
        ) {
          var n = (i = Ee(n.value)).next().value,
            i = i.next().value,
            r = new L(0, 0, "");
          (r.color = i), e.set(n, r);
        }
        for (n = (t = Ee(Object.entries(It))).next(); !n.done; n = t.next())
          (n = (i = Ee(n.value)).next().value),
            (i = i.next().value),
            ((r = new L(0, 0, "")).backgroundColor = i),
            e.set(n, r);
      }
      function pm(e, t, n) {
        0 === n.size && fm(n),
          (e = (function (e) {
            for (var t = [], n = -1, i = "", r = 0; r < e.length; r++)
              if ("/" === e[r]) {
                var a = e.indexOf(">", r);
                if (a <= r) return e;
                a = e.substring(r + 1, a);
                var o = t.pop();
                if (!a || !o) return e;
                if (o === a) i += "/" + a + ">";
                else {
                  if (!o.startsWith("c.") || "c" !== a) return e;
                  i += "/" + o + ">";
                }
                r += a.length + 1;
              } else
                "<" === e[r]
                  ? (n = r + 1)
                  : ">" === e[r] &&
                    0 < n &&
                    (t.push(e.substr(n, r - n)), (n = -1)),
                  (i += e[r]);
            return i;
          })(e));
        for (var i = [], r = -1, a = 0; a < e.length; a++)
          "<" === e[a]
            ? (r = a + 1)
            : ">" === e[a] &&
              0 < r &&
              ((r = e.substr(r, a - r)).match(ym) && i.push(r), (r = -1));
        for (a = (i = Ee(i)).next(); !a.done; a = i.next())
          (a = a.value),
            (e = e.replace("<" + a + ">", '<div time="' + a + '">')),
            (e += "</div>");
        if ((a = Mr("<span>" + e + "</span>", "span")))
          if (
            ((i = []),
            1 == (a = a.childNodes).length &&
              ((r = a[0]).nodeType == Node.TEXT_NODE ||
                r.nodeType == Node.CDATA_SECTION_NODE))
          )
            t.payload = e;
          else {
            for (a = (e = Ee(a)).next(); !a.done; a = e.next())
              !(function e(t, n, i, r) {
                var a = n.clone();
                if (t.nodeType === Node.ELEMENT_NODE && t.nodeName)
                  for (
                    var o = Ee(t.nodeName.split(/[ .]+/)), s = o.next();
                    !s.done;
                    s = o.next()
                  ) {
                    var u;
                    switch (
                      ((s = s.value),
                      !r.has(s) ||
                        ((u = r.get(s)) &&
                          ((a.backgroundColor = gm(
                            u.backgroundColor,
                            a.backgroundColor
                          )),
                          (a.color = gm(u.color, a.color)),
                          (a.fontFamily = gm(u.fontFamily, a.fontFamily)),
                          (a.fontSize = gm(u.fontSize, a.fontSize)),
                          (a.fontWeight = u.fontWeight),
                          (a.fontStyle = u.fontStyle),
                          (a.opacity = u.opacity),
                          (a.wrapLine = u.wrapLine))),
                      s)
                    ) {
                      case "b":
                        a.fontWeight = 700;
                        break;
                      case "i":
                        a.fontStyle = "italic";
                        break;
                      case "u":
                        a.textDecoration.push("underline");
                        break;
                      case "div":
                        (s = t.getAttribute("time")) &&
                          (s = vm(new ch(s))) &&
                          (a.startTime = s);
                    }
                  }
                if (Er(t))
                  for (
                    o = !0, r = Ee(t.textContent.split("\n")), t = r.next();
                    !t.done;
                    t = r.next()
                  )
                    (t = t.value),
                      o || ((o = n.clone()), (o.lineBreak = !0), i.push(o)),
                      0 < t.length &&
                        ((o = a.clone()), (o.payload = t), i.push(o)),
                      (o = !1);
                else
                  for (
                    n = Ee(t.childNodes), t = n.next();
                    !t.done;
                    t = n.next()
                  )
                    e(t.value, a, i, r);
              })(a.value, t, i, n);
            t.nestedCues = i;
          }
        else t.payload = e;
      }
      function gm(e, t) {
        return e && 0 < e.length ? e : t;
      }
      function mm(e, t, n) {
        var i;
        (i = /^align:(start|middle|center|end|left|right)$/.exec(t))
          ? ((t = i[1]),
            (e.textAlign = "middle" == t ? mt : vt[t.toUpperCase()]))
          : (i = /^vertical:(lr|rl)$/.exec(t))
          ? (e.writingMode = "lr" == i[1] ? "vertical-lr" : "vertical-rl")
          : (i = /^size:([\d.]+)%$/.exec(t))
          ? (e.size = Number(i[1]))
          : (i =
              /^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(
                t
              ))
          ? ((e.position = Number(i[1])),
            i[2] &&
              ((t = i[2]),
              (e.positionAlign =
                "line-left" == t || "start" == t
                  ? "line-left"
                  : "line-right" == t || "end" == t
                  ? "line-right"
                  : "center")))
          : (i = /^region:(.*)$/.exec(t))
          ? (t = (function (e, t) {
              e = e.filter(function (e) {
                return e.id == t;
              });
              return e.length ? e[0] : null;
            })(n, i[1])) && (e.region = t)
          : (n = /^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))
          ? ((e.lineInterpretation = 1),
            (e.line = Number(n[1])),
            n[2] && (e.lineAlign = St[n[2].toUpperCase()]))
          : (n = /^line:(-?\d+)(?:,(start|end|center))?$/.exec(t)) &&
            ((e.lineInterpretation = At),
            (e.line = Number(n[1])),
            n[2] && (e.lineAlign = St[n[2].toUpperCase()]));
      }
      function vm(e) {
        if (null == (e = hh(e, ym))) return null;
        var t = Number(e[2]),
          n = Number(e[3]);
        return 59 < t || 59 < n
          ? null
          : Number(e[4]) / 1e3 + n + 60 * t + 3600 * (Number(e[1]) || 0);
      }
      (Rn["application/ttml+xml"] = function () {
        return new Ug();
      }),
        (dm.prototype.parseInit = function (e) {
          var t = !1;
          if (
            (new nr()
              .box("moov", ir)
              .box("trak", ir)
              .box("mdia", ir)
              .box("minf", ir)
              .box("stbl", ir)
              .X("stsd", rr)
              .box("stpp", function (e) {
                (t = !0), e.parser.stop();
              })
              .parse(e),
            !t)
          )
            throw new ke(2, 2, 2007);
        }),
        (dm.prototype.setSequenceMode = function () {}),
        (dm.prototype.parseMedia = function (e, t) {
          var n = this,
            i = !1,
            r = [];
          if (
            (new nr()
              .box(
                "mdat",
                ar(function (e) {
                  (i = !0), (r = r.concat(n.g.parseMedia(e, t)));
                })
              )
              .parse(e, !1),
            i)
          )
            return r;
          throw new ke(2, 2, 2007);
        }),
        t("shaka.text.Mp4TtmlParser", dm),
        (Rn['application/mp4; codecs="stpp"'] = function () {
          return new dm();
        }),
        (Rn['application/mp4; codecs="stpp.ttml"'] = function () {
          return new dm();
        }),
        (Rn['application/mp4; codecs="stpp.ttml.im1t"'] = function () {
          return new dm();
        }),
        (Rn['application/mp4; codecs="stpp.TTML.im1t"'] = function () {
          return new dm();
        }),
        (hm.prototype.parseInit = function () {}),
        (hm.prototype.setSequenceMode = function (e) {
          this.g = e;
        }),
        (hm.prototype.parseMedia = function (e, t) {
          var n = en(e),
            i = (n = n.replace(/\r\n|\r(?=[^\n]|$)/gm, "\n")).split(/\n{2,}/m);
          if (!/^WEBVTT($|[ \t\n])/m.test(i[0])) throw new ke(2, 2, 2e3);
          if (((n = t.vttOffset), i[0].includes("X-TIMESTAMP-MAP") && this.g)) {
            var r = i[0].match(
                /LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m
              ),
              a = i[0].match(/MPEGTS:(\d+)/m);
            if (r && a) {
              if (null == (n = vm(new ch(r[1])))) throw new ke(2, 2, 2e3);
              for (
                a = Number(a[1]), r = t.segmentStart - t.periodStart;
                95443.7176888889 <= r;

              )
                (r -= 95443.7176888889), (a += 8589934592);
              n = t.periodStart + a / 9e4 - n;
            }
          }
          for (
            var a = [], o = (r = Ee(i[0].split("\n"))).next();
            !o.done;
            o = r.next()
          )
            if (((o = o.value), /^Region:/.test(o))) {
              var o = new ch(o),
                s = new Lt();
              fh(o), dh(o);
              for (var u = fh(o); u; ) {
                var l = s,
                  c = u;
                (u = /^id=(.*)$/.exec(c))
                  ? (l.id = u[1])
                  : (u = /^width=(\d{1,2}|100)%$/.exec(c))
                  ? (l.width = Number(u[1]))
                  : (u = /^lines=(\d+)$/.exec(c))
                  ? ((l.height = Number(u[1])), (l.heightUnits = 2))
                  : (u = /^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(c))
                  ? ((l.regionAnchorX = Number(u[1])),
                    (l.regionAnchorY = Number(u[2])))
                  : (u = /^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(
                      c
                    ))
                  ? ((l.viewportAnchorX = Number(u[1])),
                    (l.viewportAnchorY = Number(u[2])))
                  : /^scroll=up$/.exec(c) && (l.scroll = "up"),
                  dh(o),
                  (u = fh(o));
              }
              a.push(s);
            }
          for (
            fm((r = new Map())), o = [], s = (i = Ee(i.slice(1))).next();
            !s.done;
            s = i.next()
          ) {
            if (
              (1 != (s = s.value.split("\n")).length || s[0]) &&
              !/^NOTE($|[ \t])/.test(s[0]) &&
              "STYLE" == s[0] &&
              s[1].includes("::cue")
            ) {
              (l = "global"),
                (u = s[1].match(/\((.*)\)/)) && (l = u.pop()),
                (u = s.slice(2, -1)),
                s[1].includes("}") &&
                  (c = /\{(.*?)\}/.exec(s[1])) &&
                  (u = c[1].split(";"));
              for (var c = new L(0, 0, ""), d = !1, h = 0; h < u.length; h++) {
                var f = /^\s*([^:]+):\s*(.*)/.exec(u[h]);
                if (f) {
                  var p = f[2].trim().replace(";", "");
                  switch (f[1].trim()) {
                    case "background-color":
                      (d = !0), (c.backgroundColor = p);
                      break;
                    case "color":
                      (d = !0), (c.color = p);
                      break;
                    case "font-family":
                      (d = !0), (c.fontFamily = p);
                      break;
                    case "font-size":
                      (d = !0), (c.fontSize = p);
                      break;
                    case "font-weight":
                      700 <= parseInt(p, 10) &&
                        ((d = !0), (c.fontWeight = 700));
                      break;
                    case "font-style":
                      switch (p) {
                        case "normal":
                          (d = !0), (c.fontStyle = Ct);
                          break;
                        case "italic":
                          (d = !0), (c.fontStyle = "italic");
                          break;
                        case "oblique":
                          (d = !0), (c.fontStyle = "oblique");
                      }
                      break;
                    case "opacity":
                      (d = !0), (c.opacity = parseFloat(p));
                      break;
                    case "text-shadow":
                      (d = !0), (c.textShadow = p);
                      break;
                    case "white-space":
                      (d = !0), (c.wrapLine = "noWrap" != p);
                  }
                }
              }
              d && r.set(l, c);
            }
            if (
              ((h = n),
              (1 == s.length && !s[0]) ||
                /^NOTE($|[ \t])/.test(s[0]) ||
                "STYLE" == s[0])
            )
              s = null;
            else {
              if (
                ((l = null),
                s[0].includes("--\x3e") || ((l = s[0]), s.splice(0, 1)),
                (c = vm((u = new ch(s[0])))),
                (f = hh(u, /[ \t]+--\x3e[ \t]+/g)),
                (d = vm(u)),
                null == c || null == f || null == d)
              )
                throw new ke(
                  2,
                  2,
                  2001,
                  "Could not parse cue time range in WebVTT"
                );
              for (
                c += h,
                  d += h,
                  h = (function (e) {
                    var t = {
                        "&amp;": "&",
                        "&lt;": "<",
                        "&gt;": ">",
                        "&quot;": '"',
                        "&#39;": "'",
                      },
                      n = /&(?:amp|lt|gt|quot|#(0+)?39);/g,
                      i = RegExp(n.source);
                    return e && i.test(e)
                      ? e.replace(n, function (e) {
                          return t[e] || "'";
                        })
                      : e || "";
                  })(s.slice(1).join("\n").trim()),
                  r.has("global")
                    ? (((s = r.get("global").clone()).startTime = c),
                      (s.endTime = d),
                      (s.payload = ""))
                    : (s = new L(c, d, "")),
                  pm(h, s, r),
                  dh(u),
                  c = fh(u);
                c;

              )
                mm(s, c, a), dh(u), (c = fh(u));
              null != l && (s.id = l);
            }
            s && o.push(s);
          }
          return o;
        }),
        t("shaka.text.VttTextParser", hm);
      var ym = /(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;
      function bm() {
        this.g = null;
      }
      function Em() {}
      function Tm(e) {
        if (null == (e = hh(e, /(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))
          return null;
        var t = Number(e[2]),
          n = Number(e[3]);
        return 59 < t || 59 < n
          ? null
          : Number(e[4]) / 1e3 + n + 60 * t + 3600 * (Number(e[1]) || 0);
      }
      function Am() {
        this.g = new hm();
      }
      function wm(e) {
        var t = "WEBVTT\n\n";
        if ("" == e) return t;
        for (
          var n = (e = Ee(
            (e = (e = e.replace(/\r+/g, "")).trim()).split("\n\n")
          )).next();
          !n.done;
          n = e.next()
        )
          (n = n.value.split(/\n/))[0].match(/\d+/) && n.shift(),
            (n[0] = n[0].replace(/,/g, ".")),
            (t += n.join("\n") + "\n\n");
        return t;
      }
      function Sm() {}
      function xm(e) {
        return 0 <= (e = parseInt(e.replace("&H", ""), 16))
          ? "rgba(" +
              (255 & e) +
              "," +
              ((e >> 8) & 255) +
              "," +
              ((e >> 16) & 255) +
              "," +
              (((e >> 24) & 255) ^ 255) / 255 +
              ")"
          : null;
      }
      function Im(e) {
        return (
          3600 *
            ((e = Rm.exec(e))[1] ? parseInt(e[1].replace(":", ""), 10) : 0) +
          60 * parseInt(e[2], 10) +
          parseFloat(e[3])
        );
      }
      (Rn["text/vtt"] = function () {
        return new hm();
      }),
        (Rn['text/vtt; codecs="vtt"'] = function () {
          return new hm();
        }),
        (Rn['text/vtt; codecs="wvtt"'] = function () {
          return new hm();
        }),
        (bm.prototype.parseInit = function (e) {
          var t = this,
            n = !1;
          if (
            (new nr()
              .box("moov", ir)
              .box("trak", ir)
              .box("mdia", ir)
              .X("mdhd", function (e) {
                (e = lo(e.reader, e.version)), (t.g = e.timescale);
              })
              .box("minf", ir)
              .box("stbl", ir)
              .X("stsd", rr)
              .box("wvtt", function () {
                n = !0;
              })
              .parse(e),
            !this.g)
          )
            throw new ke(2, 2, 2008);
          if (!n) throw new ke(2, 2, 2008);
        }),
        (bm.prototype.setSequenceMode = function () {}),
        (bm.prototype.parseMedia = function (e, t) {
          if (!this.g) throw new ke(2, 2, 2008);
          var n,
            i = 0,
            r = [],
            a = [],
            o = !1,
            s = !1,
            u = !1,
            l = null;
          if (
            (new nr()
              .box("moof", ir)
              .box("traf", ir)
              .X("tfdt", function (e) {
                (o = !0), (i = uo(e.reader, e.version).pf);
              })
              .X("tfhd", function (e) {
                l = so(e.reader, e.flags).Af;
              })
              .X("trun", function (e) {
                (s = !0), (r = co(e.reader, e.version, e.flags).Sf);
              })
              .box(
                "mdat",
                ar(function (e) {
                  (u = !0), (n = e);
                })
              )
              .parse(e, !1),
            !u && !o && !s)
          )
            throw new ke(2, 2, 2008);
          for (
            var c = i, d = new D(n, 0), h = Ee(r), f = h.next();
            !f.done;
            f = h.next()
          ) {
            var p = (f = f.value).Fe || l,
              g = f.Ld ? i + f.Ld : c,
              c = g + (p || 0),
              m = 0;
            do {
              var v = d.P();
              m += v;
              var y = null;
              "vttc" == sr(d.P()) ? 8 < v && (y = d.Cb(v - 8)) : d.skip(v - 8),
                p &&
                  y &&
                  ((v = (function (e, t, n) {
                    var i, r, a;
                    return (
                      new nr()
                        .box(
                          "payl",
                          ar(function (e) {
                            i = en(e);
                          })
                        )
                        .box(
                          "iden",
                          ar(function (e) {
                            r = en(e);
                          })
                        )
                        .box(
                          "sttg",
                          ar(function (e) {
                            a = en(e);
                          })
                        )
                        .parse(e),
                      i
                        ? (function (e, t, n, i, r) {
                            if (
                              ((i = new L(i, r, "")),
                              pm(e, i, new Map()),
                              t && (i.id = t),
                              n)
                            )
                              for (e = new ch(n), t = fh(e); t; )
                                mm(i, t, []), dh(e), (t = fh(e));
                            return i;
                          })(i, r, a, t, n)
                        : null
                    );
                  })(
                    y,
                    t.periodStart + g / this.g,
                    t.periodStart + c / this.g
                  )),
                  a.push(v));
            } while (f.sampleSize && m < f.sampleSize);
          }
          return a.filter(Fe);
        }),
        t("shaka.text.Mp4VttParser", bm),
        (Rn['application/mp4; codecs="wvtt"'] = function () {
          return new bm();
        }),
        (Em.prototype.parseInit = function () {}),
        (Em.prototype.setSequenceMode = function () {}),
        (Em.prototype.parseMedia = function (e) {
          var t = en(e).replace(/\r+/g, "");
          if (((e = []), "" == (t = t.trim()))) return e;
          for (
            var n = (t = Ee(t.split("\n\n"))).next();
            !n.done;
            n = t.next()
          ) {
            var i = Tm((a = new ch((n = n.value.split("\n"))[0]))),
              r = hh(a, /,/g),
              a = Tm(a);
            if (null == i || null == r || null == a)
              throw new ke(
                2,
                2,
                2001,
                "Could not parse cue time range in SubViewer"
              );
            e.push(new L(i, a, n.slice(1).join("\n").trim()));
          }
          return e;
        }),
        t("shaka.text.SbvTextParser", Em),
        (Rn["text/x-subviewer"] = function () {
          return new Em();
        }),
        (Am.prototype.parseInit = function () {}),
        (Am.prototype.setSequenceMode = function () {}),
        (Am.prototype.parseMedia = function (e, t) {
          return (e = R(rn(wm(en(e))))), this.g.parseMedia(e, t);
        }),
        t("shaka.text.SrtTextParser", Am),
        (Am.srt2webvtt = wm),
        (Rn["text/srt"] = function () {
          return new Am();
        }),
        (Sm.prototype.parseInit = function () {}),
        (Sm.prototype.setSequenceMode = function () {}),
        (Sm.prototype.parseMedia = function (e) {
          for (
            var t = "",
              n = "",
              i = (e = Ee((e = en(e).split(/\r?\n\s*\r?\n/)))).next();
            !i.done;
            i = e.next()
          ) {
            var r = Mm.exec(i.value);
            r &&
              ((i = r[1]),
              (r = r[2]),
              "V4 Styles" == i || "V4+ Styles" == i
                ? (t = r)
                : "Events" == i && (n = r));
          }
          e = [];
          for (
            var i = null, a = (t = Ee(t.split(/\r?\n/))).next();
            !a.done;
            a = t.next()
          )
            if (((r = a.value), !/^\s*;/.test(r) && (a = Lm.exec(r))))
              if (((r = a[1].trim()), (a = a[2].trim()), "Format" == r))
                i = a.split(Nm);
              else if ("Style" == r) {
                for (
                  var r = a.split(Nm), a = {}, o = 0;
                  o < i.length && o < r.length;
                  o++
                )
                  a[i[o]] = r[o];
                e.push(a);
              }
          for (
            i = [], t = null, r = {}, a = (n = Ee(n.split(/\r?\n/))).next();
            !a.done;
            r = { be: r.be }, a = n.next()
          )
            if (((a = a.value), !/^\s*;/.test(a) && (o = Lm.exec(a))))
              if (((a = o[1].trim()), (o = o[2].trim()), "Format" == a))
                t = o.split(Nm);
              else if ("Dialogue" == a) {
                (o = o.split(Nm)), (a = {});
                for (var s = 0; s < t.length && s < o.length; s++)
                  a[t[s]] = o[s];
                o = new L(
                  (s = Im(a.Start)),
                  Im(a.End),
                  o
                    .slice(t.length - 1)
                    .join(",")
                    .replace(/\\N/g, "\n")
                    .replace(/\{[^}]+\}/g, "")
                );
                if (
                  ((r.be = a.Style),
                  (a = e.find(
                    (function (t) {
                      return function (e) {
                        return e.Name == t.be;
                      };
                    })(r)
                  )))
                ) {
                  u = void 0;
                  l = void 0;
                  c = void 0;
                  var u = o;
                  var l = a;
                  var c = l.Fontname;
                  c && (u.fontFamily = c),
                    (c = l.Fontsize) && (u.fontSize = c + "px");
                  (c = l.PrimaryColour) && (c = xm(c)) && (u.color = c);
                  (c = l.BackColour) && (c = xm(c)) && (u.backgroundColor = c);
                  l.Bold && (u.fontWeight = 700),
                    l.Italic && (u.fontStyle = "italic"),
                    l.Underline && u.textDecoration.push("underline"),
                    (c = l.Spacing) && (u.letterSpacing = c + "px");
                  if ((c = l.Alignment))
                    switch (parseInt(c, 10)) {
                      case 1:
                        (u.displayAlign = yt), (u.textAlign = "start");
                        break;
                      case 2:
                        (u.displayAlign = yt), (u.textAlign = mt);
                        break;
                      case 3:
                        (u.displayAlign = yt), (u.textAlign = "end");
                        break;
                      case 5:
                        (u.displayAlign = "before"), (u.textAlign = "start");
                        break;
                      case 6:
                        (u.displayAlign = "before"), (u.textAlign = mt);
                        break;
                      case 7:
                        (u.displayAlign = "before"), (u.textAlign = "end");
                        break;
                      case 9:
                        (u.displayAlign = "center"), (u.textAlign = "start");
                        break;
                      case 10:
                        (u.displayAlign = "center"), (u.textAlign = mt);
                        break;
                      case 11:
                        (u.displayAlign = "center"), (u.textAlign = "end");
                    }
                  (c = l.AlphaLevel) && (u.opacity = parseFloat(c));
                }
                i.push(o);
              }
          return i;
        }),
        t("shaka.text.SsaTextParser", Sm);
      var km,
        Cm,
        Mm = /^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,
        Lm = /^\s*([^:]+):\s*(.*)/,
        Nm = /\s*,\s*/,
        Rm = /^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;
      function _m() {}
      function Pm(e, t, n) {
        function i(e) {
          Ut(r).setUint32(a, e.byteLength, !0),
            (a += 4),
            r.set(R(e), a),
            (a += e.byteLength);
        }
        if (!n || !n.byteLength) throw new ke(2, 6, 6015);
        var t = "string" == typeof t ? an(t, !0) : t,
          r =
            ((e = an((e = nn(e)), !0)),
            new Uint8Array(12 + e.byteLength + t.byteLength + n.byteLength)),
          a = 0;
        return i(e), i(t), i(n), r;
      }
      function Dm() {}
      function Om() {
        km
          ? console.debug("EmeEncryptionSchemePolyfill: Already installed.")
          : navigator.requestMediaKeySystemAccess &&
            MediaKeySystemAccess.prototype.getConfiguration
          ? ((km = navigator.requestMediaKeySystemAccess),
            console.debug(
              "EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."
            ),
            (navigator.requestMediaKeySystemAccess = Um))
          : console.debug("EmeEncryptionSchemePolyfill: EME not found");
      }
      function Um(t, n) {
        var i,
          r = this;
        return Ie(function (e) {
          return 1 == e.g
            ? (console.assert(
                r == navigator,
                'bad "this" for requestMediaKeySystemAccess'
              ),
              Te(e, km.call(r, t, n), 2))
            : Wm((i = e.h))
            ? (console.debug(
                "EmeEncryptionSchemePolyfill: Native encryptionScheme support found."
              ),
              (navigator.requestMediaKeySystemAccess = km),
              e.return(i))
            : (console.debug(
                "EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."
              ),
              (navigator.requestMediaKeySystemAccess = jm),
              e.return(jm.call(r, t, n)));
        });
      }
      function jm(t, n) {
        var i,
          r,
          a,
          o,
          s,
          u,
          l,
          c,
          d = this;
        return Ie(function (e) {
          if (1 != e.g) return (c = e.h), e.return(new Hm(c, i));
          for (
            console.assert(
              d == navigator,
              'bad "this" for requestMediaKeySystemAccess'
            ),
              i = Xm(t),
              r = [],
              a = Ee(n),
              o = a.next();
            !o.done;
            o = a.next()
          )
            (l = o.value),
              (s = Bm(l.videoCapabilities, i)),
              (u = Bm(l.audioCapabilities, i)),
              (l.videoCapabilities &&
                l.videoCapabilities.length &&
                !s.length) ||
                (l.audioCapabilities &&
                  l.audioCapabilities.length &&
                  !u.length) ||
                (((l = Object.assign({}, l)).videoCapabilities = s),
                (l.audioCapabilities = u),
                r.push(l));
          if (r.length) return Te(e, km.call(d, t, r), 2);
          throw (
            (((c = Error(
              "Unsupported keySystem or supportedConfigurations."
            )).name = "NotSupportedError"),
            (c.code = DOMException.NOT_SUPPORTED_ERR),
            c)
          );
        });
      }
      function Bm(e, t) {
        return (
          e &&
          e.filter(function (e) {
            return !e.encryptionScheme || e.encryptionScheme == t;
          })
        );
      }
      function Fm() {}
      function Gm() {
        Cm
          ? console.debug("McEncryptionSchemePolyfill: Already installed.")
          : navigator.mediaCapabilities
          ? ((Cm = navigator.mediaCapabilities.decodingInfo),
            console.debug(
              "McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."
            ),
            (navigator.mediaCapabilities.decodingInfo = Km))
          : console.debug(
              "McEncryptionSchemePolyfill: MediaCapabilities not found"
            );
      }
      function Km(t) {
        var n,
          i,
          r = this;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              return (
                console.assert(
                  r == navigator.mediaCapabilities,
                  'bad "this" for decodingInfo'
                ),
                Te(e, Cm.call(r, t), 2)
              );
            case 2:
              if (((n = e.h), !t.keySystemConfiguration)) return e.return(n);
              if ((i = n.keySystemAccess) && Wm(i))
                return (
                  console.debug(
                    "McEncryptionSchemePolyfill: Native encryptionScheme support found."
                  ),
                  (navigator.mediaCapabilities.decodingInfo = Cm),
                  e.return(n)
                );
              if (
                (console.debug(
                  "McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."
                ),
                (navigator.mediaCapabilities.decodingInfo = zm),
                i)
              ) {
                e.D(3);
                break;
              }
              return (i = n), Te(e, Vm(t), 4);
            case 4:
              return (i.keySystemAccess = e.h), e.return(n);
            case 3:
              return e.return(zm.call(r, t));
          }
        });
      }
      function zm(t) {
        var n,
          i,
          r,
          a,
          o,
          s,
          u = this;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              return (
                console.assert(
                  u == navigator.mediaCapabilities,
                  'bad "this" for decodingInfo'
                ),
                (n = null),
                t.keySystemConfiguration &&
                ((r = t.keySystemConfiguration),
                (a = r.keySystem),
                (i = r.audio && r.audio.encryptionScheme),
                (r = r.video && r.video.encryptionScheme),
                (n = Xm(a)),
                (a = {
                  powerEfficient: !1,
                  smooth: !1,
                  supported: !1,
                  keySystemAccess: null,
                  configuration: t,
                }),
                (i && i != n) || (r && r != n))
                  ? e.return(a)
                  : Te(e, Cm.call(u, t), 2)
              );
            case 2:
              if ((o = e.h).keySystemAccess) {
                (o.keySystemAccess = new Hm(o.keySystemAccess, n)), e.D(3);
                break;
              }
              if (t.keySystemConfiguration) return (s = o), Te(e, Vm(t), 5);
              e.D(3);
              break;
            case 5:
              s.keySystemAccess = e.h;
            case 3:
              return e.return(o);
          }
        });
      }
      function Vm(r) {
        var a;
        return Ie(function (e) {
          var t, n, i;
          return 1 == e.g
            ? ((n = []),
              (i = []),
              (t = r.keySystemConfiguration).audio &&
                n.push({
                  robustness: t.audio.robustness || "",
                  contentType: r.audio.contentType,
                }),
              t.video &&
                i.push({
                  robustness: t.video.robustness || "",
                  contentType: r.video.contentType,
                }),
              (t = {
                initDataTypes: t.initDataType ? [t.initDataType] : [],
                distinctiveIdentifier: t.distinctiveIdentifier,
                persistentState: t.persistentState,
                sessionTypes: t.sessionTypes,
              }),
              n.length && (t.audioCapabilities = n),
              i.length && (t.videoCapabilities = i),
              (a = t),
              Te(
                e,
                navigator.requestMediaKeySystemAccess(
                  r.keySystemConfiguration.keySystem,
                  [a]
                ),
                2
              ))
            : ((a = e.h), e.return(a));
        });
      }
      function Hm(e, t) {
        (this.h = e), (this.g = t), (this.keySystem = e.keySystem);
      }
      function Xm(e) {
        return e.startsWith("com.widevine") ||
          e.startsWith("com.microsoft") ||
          e.startsWith("com.chromecast") ||
          e.startsWith("com.adobe") ||
          e.startsWith("org.w3")
          ? "cenc"
          : e.startsWith("com.apple")
          ? "cbcs-1-9"
          : (console.warn(
              "EmeEncryptionSchemePolyfill: Unknown key system:",
              e,
              "Please contribute!"
            ),
            null);
      }
      function Wm(e) {
        var t =
          (e = e.getConfiguration()).audioCapabilities &&
          e.audioCapabilities[0];
        return !(
          !(e = (e.videoCapabilities && e.videoCapabilities[0]) || t) ||
          void 0 === e.encryptionScheme
        );
      }
      function qm() {}
      function Ym() {
        Om(), Gm();
      }
      (Rn["text/x-ssa"] = function () {
        return new Sm();
      }),
        t("shaka.util.FairPlayUtils", _m),
        (_m.commonFairPlayResponse = function (e, t) {
          if (2 === e) {
            try {
              var n = en(t.data);
            } catch (e) {
              return;
            }
            e = !1;
            "<ckc>" === (n = n.trim()).substr(0, 5) &&
              "</ckc>" === n.substr(-6) &&
              ((n = n.slice(5, -6)), (e = !0));
            try {
              var i = JSON.parse(n);
              i.ckc && ((n = i.ckc), (e = !0)),
                i.CkcMessage && ((n = i.CkcMessage), (e = !0)),
                i.License && ((n = i.License), (e = !0));
            } catch (e) {}
            e && (t.data = Ot(cn(n)));
          }
        }),
        (_m.conaxFairPlayRequest = function (e, t) {
          2 === e && (t.headers["Content-Type"] = "application/octet-stream");
        }),
        (_m.ezdrmFairPlayRequest = function (e, t) {
          2 === e && (t.headers["Content-Type"] = "application/octet-stream");
        }),
        (_m.verimatrixFairPlayRequest = function (e, t) {
          2 === e &&
            ((e = ln((e = R(t.body)))),
            (t.headers["Content-Type"] = "application/x-www-form-urlencoded"),
            (t.body = rn("spc=" + e)));
        }),
        (_m.conaxInitDataTransform = function (e, t, n) {
          if ("skd" !== t) return e;
          (t = n.serverCertificate),
            (n = nn(e).split("skd://").pop().split("?").shift()),
            (n = N.atob(n));
          for (
            var i = new ArrayBuffer(2 * n.length),
              i = new Uint16Array(i),
              r = 0,
              a = n.length;
            r < a;
            r++
          )
            i[r] = n.charCodeAt(r);
          return Pm(e, i, t);
        }),
        (_m.ezdrmInitDataTransform = function (e, t, n) {
          return "skd" !== t
            ? e
            : ((t = n.serverCertificate),
              Pm(e, (n = nn(e).split(";").pop()), t));
        }),
        (_m.verimatrixInitDataTransform = function (e, t, n) {
          return "skd" !== t
            ? e
            : ((t = n.serverCertificate),
              Pm(e, (n = nn(e).split("skd://").pop()), t));
        }),
        (_m.initDataTransform = Pm),
        (_m.defaultGetContentId = function (e) {
          return new fe((e = nn(e))).Za;
        }),
        (_m.isFairPlaySupported = function () {
          var t;
          return Ie(function (e) {
            return 1 == e.g
              ? ((t = {
                  initDataTypes: ["cenc", "sinf", "skd"],
                  videoCapabilities: [
                    { contentType: 'video/mp4; codecs="avc1.42E01E"' },
                  ],
                }),
                we(e, 2),
                Te(
                  e,
                  navigator.requestMediaKeySystemAccess("com.apple.fps", [t]),
                  4
                ))
              : 2 != e.g
              ? e.return(!0)
              : (xe(e), e.return(!1));
          });
        }),
        t("EmeEncryptionSchemePolyfill", Dm),
        (Dm.install = Om),
        t("McEncryptionSchemePolyfill", Fm),
        (Fm.install = Gm),
        (Hm.prototype.getConfiguration = function () {
          var e = this.h.getConfiguration();
          if (e.videoCapabilities)
            for (
              var t = Ee(e.videoCapabilities), n = t.next();
              !n.done;
              n = t.next()
            )
              n.value.encryptionScheme = this.g;
          if (e.audioCapabilities)
            for (
              n = (t = Ee(e.audioCapabilities)).next();
              !n.done;
              n = t.next()
            )
              n.value.encryptionScheme = this.g;
          return e;
        }),
        (Hm.prototype.createMediaKeys = function () {
          return this.h.createMediaKeys();
        }),
        t("EncryptionSchemePolyfills", qm),
        (qm.install = Ym),
        void 0 !== o && o.exports && (o.exports = qm);
      for (
        var $m = {
            ach: { u: "Lwo", A: "Acholi" },
            ady: { u: "", A: "Adyghe" },
            af: { u: "Afrikaans", A: "Afrikaans" },
            "af-NA": { u: "Afrikaans (Namibia)", A: "Afrikaans (Namibia)" },
            "af-ZA": {
              u: "Afrikaans (South Africa)",
              A: "Afrikaans (South Africa)",
            },
            ak: { u: "Ti", A: "Akan" },
            ar: { u: "", A: "Arabic" },
            "ar-AR": { u: "", A: "Arabic" },
            "ar-MA": { u: "", A: "Arabic (Morocco)" },
            "ar-SA": { u: " ()", A: "Arabic (Saudi Arabia)" },
            "ay-BO": { u: "Aymar aru", A: "Aymara" },
            az: { u: "Azrbaycan dili", A: "Azerbaijani" },
            "az-AZ": { u: "Azrbaycan dili", A: "Azerbaijani" },
            "be-BY": { u: "", A: "Belarusian" },
            bg: { u: "", A: "Bulgarian" },
            "bg-BG": { u: "", A: "Bulgarian" },
            bn: { u: "", A: "Bengali" },
            "bn-IN": { u: " ()", A: "Bengali (India)" },
            "bn-BD": { u: "()", A: "Bengali (Bangladesh)" },
            "bs-BA": { u: "Bosanski", A: "Bosnian" },
            ca: { u: "Catal", A: "Catalan" },
            "ca-ES": { u: "Catal", A: "Catalan" },
            cak: { u: "Maya Kaqchikel", A: "Kaqchikel" },
            "ck-US": { u: " (tsalagi)", A: "Cherokee" },
            cs: { u: "etina", A: "Czech" },
            "cs-CZ": { u: "etina", A: "Czech" },
            cy: { u: "Cymraeg", A: "Welsh" },
            "cy-GB": { u: "Cymraeg", A: "Welsh" },
            da: { u: "Dansk", A: "Danish" },
            "da-DK": { u: "Dansk", A: "Danish" },
            de: { u: "Deutsch", A: "German" },
            "de-AT": { u: "Deutsch (sterreich)", A: "German (Austria)" },
            "de-DE": { u: "Deutsch (Deutschland)", A: "German (Germany)" },
            "de-CH": { u: "Deutsch (Schweiz)", A: "German (Switzerland)" },
            dsb: { u: "Dolnoserbina", A: "Lower Sorbian" },
            el: { u: "", A: "Greek" },
            "el-GR": { u: "", A: "Greek (Greece)" },
            en: { u: "English", A: "English" },
            "en-GB": { u: "English (UK)", A: "English (UK)" },
            "en-AU": { u: "English (Australia)", A: "English (Australia)" },
            "en-CA": { u: "English (Canada)", A: "English (Canada)" },
            "en-IE": { u: "English (Ireland)", A: "English (Ireland)" },
            "en-IN": { u: "English (India)", A: "English (India)" },
            "en-PI": { u: "English (Pirate)", A: "English (Pirate)" },
            "en-UD": { u: "English (Upside Down)", A: "English (Upside Down)" },
            "en-US": { u: "English (US)", A: "English (US)" },
            "en-ZA": {
              u: "English (South Africa)",
              A: "English (South Africa)",
            },
            "en@pirate": { u: "English (Pirate)", A: "English (Pirate)" },
            eo: { u: "Esperanto", A: "Esperanto" },
            "eo-EO": { u: "Esperanto", A: "Esperanto" },
            es: { u: "Espaol", A: "Spanish" },
            "es-AR": { u: "Espaol (Argentine)", A: "Spanish (Argentina)" },
            "es-419": {
              u: "Espaol (Latinoamrica)",
              A: "Spanish (Latin America)",
            },
            "es-CL": { u: "Espaol (Chile)", A: "Spanish (Chile)" },
            "es-CO": { u: "Espaol (Colombia)", A: "Spanish (Colombia)" },
            "es-EC": { u: "Espaol (Ecuador)", A: "Spanish (Ecuador)" },
            "es-ES": { u: "Espaol (Espaa)", A: "Spanish (Spain)" },
            "es-LA": {
              u: "Espaol (Latinoamrica)",
              A: "Spanish (Latin America)",
            },
            "es-NI": { u: "Espaol (Nicaragua)", A: "Spanish (Nicaragua)" },
            "es-MX": { u: "Espaol (Mxico)", A: "Spanish (Mexico)" },
            "es-US": {
              u: "Espaol (Estados Unidos)",
              A: "Spanish (United States)",
            },
            "es-VE": { u: "Espaol (Venezuela)", A: "Spanish (Venezuela)" },
            et: { u: "eesti keel", A: "Estonian" },
            "et-EE": { u: "Eesti (Estonia)", A: "Estonian (Estonia)" },
            eu: { u: "Euskara", A: "Basque" },
            "eu-ES": { u: "Euskara", A: "Basque" },
            fa: { u: "", A: "Persian" },
            "fa-IR": { u: "", A: "Persian" },
            "fb-LT": { u: "Leet Speak", A: "Leet" },
            ff: { u: "Fulah", A: "Fulah" },
            fi: { u: "Suomi", A: "Finnish" },
            "fi-FI": { u: "Suomi", A: "Finnish" },
            "fo-FO": { u: "Froyskt", A: "Faroese" },
            fr: { u: "Franais", A: "French" },
            "fr-CA": { u: "Franais (Canada)", A: "French (Canada)" },
            "fr-FR": { u: "Franais (France)", A: "French (France)" },
            "fr-BE": { u: "Franais (Belgique)", A: "French (Belgium)" },
            "fr-CH": { u: "Franais (Suisse)", A: "French (Switzerland)" },
            "fy-NL": { u: "Frysk", A: "Frisian (West)" },
            ga: { u: "Gaeilge", A: "Irish" },
            "ga-IE": { u: "Gaeilge (Gaelic)", A: "Irish (Gaelic)" },
            gl: { u: "Galego", A: "Galician" },
            "gl-ES": { u: "Galego", A: "Galician" },
            "gn-PY": { u: "Avae'", A: "Guarani" },
            "gu-IN": { u: "", A: "Gujarati" },
            "gx-GR": { u: " ", A: "Classical Greek" },
            he: { u: "", A: "Hebrew" },
            "he-IL": { u: "", A: "Hebrew" },
            hi: { u: "", A: "Hindi" },
            "hi-IN": { u: "", A: "Hindi" },
            hr: { u: "Hrvatski", A: "Croatian" },
            "hr-HR": { u: "Hrvatski", A: "Croatian" },
            hsb: { u: "Hornjoserbina", A: "Upper Sorbian" },
            ht: { u: "Kreyl", A: "Haitian Creole" },
            hu: { u: "Magyar", A: "Hungarian" },
            "hu-HU": { u: "Magyar", A: "Hungarian" },
            "hy-AM": { u: "", A: "Armenian" },
            id: { u: "Bahasa Indonesia", A: "Indonesian" },
            "id-ID": { u: "Bahasa Indonesia", A: "Indonesian" },
            is: { u: "slenska", A: "Icelandic" },
            "is-IS": { u: "slenska (Iceland)", A: "Icelandic (Iceland)" },
            it: { u: "Italiano", A: "Italian" },
            "it-IT": { u: "Italiano", A: "Italian" },
            ja: { u: "", A: "Japanese" },
            "ja-JP": { u: "", A: "Japanese" },
            "jv-ID": { u: "Basa Jawa", A: "Javanese" },
            "ka-GE": { u: "", A: "Georgian" },
            "kk-KZ": { u: "", A: "Kazakh" },
            km: { u: "", A: "Khmer" },
            "km-KH": { u: "", A: "Khmer" },
            kab: { u: "Taqbaylit", A: "Kabyle" },
            kn: { u: "", A: "Kannada" },
            "kn-IN": { u: " (India)", A: "Kannada (India)" },
            ko: { u: "", A: "Korean" },
            "ko-KR": { u: " ()", A: "Korean (Korea)" },
            ku: { u: "Kurd", A: "Kurdish" },
            "ku-TR": { u: "Kurd", A: "Kurdish" },
            la: { u: "Latin", A: "Latin" },
            "la-VA": { u: "Latin", A: "Latin" },
            lb: { u: "Ltzebuergesch", A: "Luxembourgish" },
            "li-NL": { u: "Lmbrgs", A: "Limburgish" },
            lt: { u: "Lietuvi", A: "Lithuanian" },
            "lt-LT": { u: "Lietuvi", A: "Lithuanian" },
            lv: { u: "Latvieu", A: "Latvian" },
            "lv-LV": { u: "Latvieu", A: "Latvian" },
            mai: { u: ", ", A: "Maithili" },
            "mg-MG": { u: "Malagasy", A: "Malagasy" },
            mk: { u: "", A: "Macedonian" },
            "mk-MK": {
              u: " ()",
              A: "Macedonian (Macedonian)",
            },
            ml: { u: "", A: "Malayalam" },
            "ml-IN": { u: "", A: "Malayalam" },
            "mn-MN": { u: "", A: "Mongolian" },
            mr: { u: "", A: "Marathi" },
            "mr-IN": { u: "", A: "Marathi" },
            ms: { u: "Bahasa Melayu", A: "Malay" },
            "ms-MY": { u: "Bahasa Melayu", A: "Malay" },
            mt: { u: "Malti", A: "Maltese" },
            "mt-MT": { u: "Malti", A: "Maltese" },
            my: { u: "", A: "Burmese" },
            nb: { u: "Norsk (bokml)", A: "Norwegian (bokmal)" },
            "nb-NO": { u: "Norsk (bokml)", A: "Norwegian (bokmal)" },
            ne: { u: "", A: "Nepali" },
            "ne-NP": { u: "", A: "Nepali" },
            nl: { u: "Nederlands", A: "Dutch" },
            "nl-BE": { u: "Nederlands (Belgi)", A: "Dutch (Belgium)" },
            "nl-NL": { u: "Nederlands (Nederland)", A: "Dutch (Netherlands)" },
            "nn-NO": { u: "Norsk (nynorsk)", A: "Norwegian (nynorsk)" },
            no: { u: "Norsk", A: "Norwegian" },
            oc: { u: "Occitan", A: "Occitan" },
            "or-IN": { u: "", A: "Oriya" },
            pa: { u: "", A: "Punjabi" },
            "pa-IN": { u: " ( )", A: "Punjabi (India)" },
            pl: { u: "Polski", A: "Polish" },
            "pl-PL": { u: "Polski", A: "Polish" },
            "ps-AF": { u: "", A: "Pashto" },
            pt: { u: "Portugus", A: "Portuguese" },
            "pt-BR": { u: "Portugus (Brasil)", A: "Portuguese (Brazil)" },
            "pt-PT": { u: "Portugus (Portugal)", A: "Portuguese (Portugal)" },
            "qu-PE": { u: "Qhichwa", A: "Quechua" },
            "rm-CH": { u: "Rumantsch", A: "Romansh" },
            ro: { u: "Romn", A: "Romanian" },
            "ro-RO": { u: "Romn", A: "Romanian" },
            ru: { u: "", A: "Russian" },
            "ru-RU": { u: "", A: "Russian" },
            "sa-IN": { u: "", A: "Sanskrit" },
            "se-NO": { u: "Davvismegiella", A: "Northern Smi" },
            "si-LK": { u: "", A: "Sinhala (Sri Lanka)" },
            sk: { u: "Slovenina", A: "Slovak" },
            "sk-SK": { u: "Slovenina (Slovakia)", A: "Slovak (Slovakia)" },
            sl: { u: "Slovenina", A: "Slovenian" },
            "sl-SI": { u: "Slovenina", A: "Slovenian" },
            "so-SO": { u: "Soomaaliga", A: "Somali" },
            sq: { u: "Shqip", A: "Albanian" },
            "sq-AL": { u: "Shqip", A: "Albanian" },
            sr: { u: "", A: "Serbian" },
            "sr-RS": { u: " (Serbia)", A: "Serbian (Serbia)" },
            su: { u: "Basa Sunda", A: "Sundanese" },
            sv: { u: "Svenska", A: "Swedish" },
            "sv-SE": { u: "Svenska", A: "Swedish" },
            sw: { u: "Kiswahili", A: "Swahili" },
            "sw-KE": { u: "Kiswahili", A: "Swahili (Kenya)" },
            ta: { u: "", A: "Tamil" },
            "ta-IN": { u: "", A: "Tamil" },
            te: { u: "", A: "Telugu" },
            "te-IN": { u: "", A: "Telugu" },
            tg: { u: " ", A: "Tajik" },
            "tg-TJ": { u: "", A: "Tajik" },
            th: { u: "", A: "Thai" },
            "th-TH": { u: " ()", A: "Thai (Thailand)" },
            tl: { u: "Filipino", A: "Filipino" },
            "tl-PH": { u: "Filipino", A: "Filipino" },
            tlh: { u: "tlhIngan-Hol", A: "Klingon" },
            tr: { u: "Trke", A: "Turkish" },
            "tr-TR": { u: "Trke", A: "Turkish" },
            "tt-RU": { u: "", A: "Tatar" },
            uk: { u: "", A: "Ukrainian" },
            "uk-UA": { u: "", A: "Ukrainian" },
            ur: { u: "", A: "Urdu" },
            "ur-PK": { u: "", A: "Urdu" },
            uz: { u: "O'zbek", A: "Uzbek" },
            "uz-UZ": { u: "O'zbek", A: "Uzbek" },
            vi: { u: "Ting Vit", A: "Vietnamese" },
            "vi-VN": { u: "Ting Vit", A: "Vietnamese" },
            "xh-ZA": { u: "isiXhosa", A: "Xhosa" },
            yi: { u: "", A: "Yiddish" },
            "yi-DE": { u: " (German)", A: "Yiddish (German)" },
            zh: { u: "", A: "Chinese" },
            "zh-HANS": { u: "", A: "Chinese Simplified" },
            "zh-HANT": { u: "", A: "Chinese Traditional" },
            "zh-CN": { u: "", A: "Chinese Simplified (China)" },
            "zh-HK": {
              u: "",
              A: "Chinese Traditional (Hong Kong)",
            },
            "zh-SG": {
              u: "",
              A: "Chinese Simplified (Singapore)",
            },
            "zh-TW": { u: "", A: "Chinese Traditional (Taiwan)" },
            "zu-ZA": { u: "isiZulu", A: "Zulu" },
          },
          Jm = Ee(Object.keys($m)),
          Qm = Jm.next();
        !Qm.done;
        Qm = Jm.next()
      ) {
        var Zm = Qm.value;
        $m[Zm.toLowerCase()] = $m[Zm];
      }
      function m(e, t) {
        var n = this;
        (this.parent = e),
          (this.controls = t),
          (this.eventManager = new f()),
          (this.localization = this.controls.ya),
          (this.player = this.controls.cc()),
          (this.video = this.controls.Ab()),
          (this.adManager = this.player.qd()),
          (this.ad = t.getAd()),
          this.eventManager.o(this.adManager, "ad-started", function (e) {
            n.ad = e.ad;
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            n.ad = null;
          });
      }
      function ev(e) {
        return tv(e, "shaka-back-to-overflow-button");
      }
      function tv(e, t) {
        e = e.getElementsByClassName(t);
        return e.length ? e[0] : null;
      }
      function nv(e) {
        (e = e && tv(e, "shaka-chosen-item")) && e.parentElement.focus();
      }
      function iv() {
        var e = E("i");
        return (
          e.classList.add("material-icons-round"),
          e.classList.add("shaka-chosen-item"),
          (e.textContent = "done"),
          (e.ariaHidden = "true"),
          e
        );
      }
      function v(e, t) {
        e &&
          (t
            ? e.classList.remove("shaka-hidden")
            : e.classList.add("shaka-hidden"));
      }
      function rv(e, t) {
        var n = Math.floor(e / 3600),
          i = Math.floor((e / 60) % 60),
          e = i + ":" + (e = (e = Math.floor(e % 60)) < 10 ? "0" + e : e);
        return (e = t ? n + ":" + (e = i < 10 ? "0" + e : e) : e);
      }
      function av(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.i = E("div")),
          this.i.classList.add("shaka-ad-counter"),
          this.parent.appendChild(this.i),
          (this.h = E("span")),
          this.h.classList.add("shaka-ad-counter-span"),
          this.i.appendChild(this.h),
          (this.g = new M(function () {
            var e = Math.round(n.ad.getRemainingTime()),
              t = n.ad.getDuration();
            -1 != e &&
              -1 != t &&
              (0 < e
                ? ((e = rv(t - e, !1) + " / " + rv(t, !1)),
                  1 < n.ad.getSequenceLength()
                    ? (n.h.textContent = e)
                    : ((t = n.localization.resolve("AD_TIME")),
                      (n.h.textContent = t.replace("[AD_TIME]", e))))
                : (n.g.stop(), (n.h.textContent = "")));
          })),
          this.eventManager.o(
            this.localization,
            "locale-updated",
            function () {}
          ),
          this.eventManager.o(
            this.localization,
            "locale-changed",
            function () {}
          ),
          this.eventManager.o(this.adManager, "ad-started", function () {
            n.g.xa(), n.g.ha(0.5);
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            n.g.stop(), (n.h.textContent = "");
          }),
          this.ad && (this.g.xa(), this.g.ha(0.5));
      }
      function ov(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.g = E("div")),
          this.g.classList.add("shaka-ad-position"),
          v(this.g, !1),
          this.parent.appendChild(this.g),
          (this.h = E("span")),
          this.h.classList.add("shaka-ad-position-span"),
          this.g.appendChild(this.h),
          this.eventManager.o(this.localization, "locale-updated", function () {
            n.ad && sv(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            n.ad && sv(n);
          }),
          this.eventManager.o(this.adManager, "ad-started", function () {
            sv(n);
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            (n.h.textContent = ""), v(n.g, !1);
          }),
          this.ad && sv(this);
      }
      function sv(e) {
        var t,
          n = e.ad.getSequenceLength();
        1 < n &&
          ((t = e.ad.getPositionInSequence()),
          (e.h.textContent = e.localization
            .resolve("AD_PROGRESS")
            .replace("[AD_ON]", String(t))
            .replace("[NUM_ADS]", String(n))),
          v(e.g, !0));
      }
      function uv(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.button = iu()),
          this.parent.appendChild(this.button),
          this.eventManager.o(this.localization, "locale-updated", function () {
            n.g();
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            n.g();
          }),
          this.eventManager.o(this.video, "play", function () {
            n.g(), n.h();
          }),
          this.eventManager.o(this.video, "pause", function () {
            n.g(), n.h();
          }),
          this.eventManager.o(this.video, "seeking", function () {
            n.g(), n.h();
          }),
          this.eventManager.o(this.adManager, "ad-paused", function () {
            n.g(), n.h();
          }),
          this.eventManager.o(this.adManager, "ad-resumed", function () {
            n.g(), n.h();
          }),
          this.eventManager.o(this.adManager, "ad-started", function () {
            n.g(), n.h();
          }),
          this.eventManager.o(this.button, "click", function () {
            (n.ad && n.ad.isLinear() ? Sv : wv)(n.controls);
          }),
          this.ad && (this.g(), this.h());
      }
      function lv(e, t) {
        uv.call(this, e, t),
          this.button.classList.add("shaka-play-button"),
          this.button.classList.add("shaka-no-propagation"),
          this.h(),
          this.g();
      }
      function cv(e, t) {
        m.call(this, e, t);
        for (
          var n = this,
            i =
              ((this.j = this.controls.i),
              (this.h = this.controls.g),
              (this.i = []),
              (this.g = E("div")),
              this.g.classList.add("shaka-no-propagation"),
              this.g.classList.add("shaka-context-menu"),
              this.g.classList.add("shaka-hidden"),
              this.h.appendChild(this.g),
              this.eventManager.o(this.h, "contextmenu", function (e) {
                var t;
                n.g.classList.contains("shaka-hidden")
                  ? (e.preventDefault(),
                    (t = n.h.getBoundingClientRect()),
                    (n.g.style.left = e.clientX - t.left + "px"),
                    (n.g.style.top = e.clientY - t.top + "px"),
                    v(n.g, !0))
                  : v(n.g, !1);
              }),
              this.eventManager.o(N, "click", function () {
                v(n.g, !1);
              }),
              this),
            r = Ee(i.j.contextMenuElements),
            a = r.next();
          !a.done;
          a = r.next()
        ) {
          a = a.value;
          var o = hv.get(a);
          o
            ? i.i.push(o.create(i.g, i.controls))
            : k("Unrecognized context menu element:", a);
        }
      }
      function dv(e, t) {
        hv.set(e, t);
      }
      (m.prototype.release = function () {
        this.eventManager.release(),
          (this.ad =
            this.adManager =
            this.video =
            this.player =
            this.localization =
            this.eventManager =
            this.controls =
            this.parent =
              null);
      }),
        t("shaka.ui.Element", m),
        e(av, m),
        (av.prototype.release = function () {
          this.g.stop(), (this.g = null), m.prototype.release.call(this);
        }),
        t("shaka.ui.AdCounter", av),
        e(ov, m),
        t("shaka.ui.AdPosition", ov),
        e(uv, m),
        (uv.prototype.isPaused = function () {
          var e =
            this.ad && this.ad.isLinear()
              ? this.ad.isPaused()
              : (e = this.controls).s.paused && !e.Y;
          return e;
        }),
        (uv.prototype.g = function () {}),
        (uv.prototype.h = function () {}),
        t("shaka.ui.PlayButton", uv),
        e(lv, uv),
        (lv.prototype.h = function () {
          this.isPaused()
            ? this.button.setAttribute("icon", "play")
            : this.button.setAttribute("icon", "pause");
        }),
        (lv.prototype.g = function () {
          var e = this.isPaused() ? "PLAY" : "PAUSE";
          this.button.ariaLabel = this.localization.resolve(e);
        }),
        t("shaka.ui.BigPlayButton", lv),
        e(cv, m),
        (cv.prototype.release = function () {
          this.h = null;
          for (var e = Ee(this.i), t = e.next(); !t.done; t = e.next())
            t.value.release();
          (this.i = []), m.prototype.release.call(this);
        }),
        t("shaka.ui.ContextMenu", cv),
        (cv.registerElement = dv);
      var hv = new Map();
      function fv(e, t, n, i) {
        m.call(this, e, t);
        var r = this;
        (this.container = E("div")),
          this.container.classList.add("shaka-range-container"),
          this.container.classList.add.apply(this.container.classList, I(n)),
          (this.g = !1),
          (this.bar = document.createElement("input")),
          (this.l = new M(function () {
            r.onChangeEnd(), (r.g = !1);
          })),
          this.bar.classList.add("shaka-range-element"),
          this.bar.classList.add.apply(this.bar.classList, I(i)),
          (this.bar.type = "range"),
          (this.bar.step = "any"),
          (this.bar.min = "0"),
          (this.bar.max = "1"),
          (this.bar.value = "0"),
          this.container.appendChild(this.bar),
          this.parent.appendChild(this.container),
          this.eventManager.o(this.bar, "mousedown", function () {
            r.controls.Nb() && ((r.g = !0), r.onChangeStart());
          }),
          this.eventManager.o(this.bar, "touchstart", function (e) {
            r.controls.Nb() && ((r.g = !0), pv(r, e), r.onChangeStart());
          }),
          this.eventManager.o(this.bar, "input", function () {
            r.onChange();
          }),
          this.eventManager.o(this.bar, "touchmove", function (e) {
            r.g && (pv(r, e), r.onChange());
          }),
          this.eventManager.o(this.bar, "touchend", function (e) {
            r.g && ((r.g = !1), pv(r, e), r.onChangeEnd());
          }),
          this.eventManager.o(this.bar, "mouseup", function () {
            r.g && ((r.g = !1), r.onChangeEnd());
          });
      }
      function pv(e, t) {
        t.preventDefault();
        var t = t.changedTouches[0],
          n = e.bar.getBoundingClientRect(),
          i = parseFloat(e.bar.min),
          r = parseFloat(e.bar.max);
        (t = i + ((r - i) / n.width) * (t.clientX - n.left)) < i
          ? (t = i)
          : r < t && (t = r),
          (e.bar.value = t);
      }
      function gv(e, t) {
        fv.call(
          this,
          e,
          t,
          ["shaka-seek-bar-container"],
          [
            "shaka-seek-bar",
            "shaka-no-propagation",
            "shaka-show-controls-on-mouse-over",
          ]
        );
        var n = this;
        (this.j = E("div")),
          this.j.classList.add("shaka-ad-markers"),
          this.container.insertBefore(this.j, this.container.childNodes[0]),
          (this.m = this.controls.i),
          (this.h = new M(function () {
            n.video.currentTime = n.getValue();
          })),
          (this.s = new M(function () {
            mv(n);
          })),
          (this.B = !1),
          (this.i = []),
          this.eventManager.o(this.localization, "locale-updated", function () {
            return bv(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            return bv(n);
          }),
          this.eventManager.o(this.adManager, "ad-started", function () {
            yv(n) || v(n.container, !1);
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            yv(n) && v(n.container, !0);
          }),
          this.eventManager.o(
            this.adManager,
            "ad-cue-points-changed",
            function (e) {
              (n.i = e.cuepoints), vv(n);
            }
          ),
          this.eventManager.o(this.player, "unloading", function () {
            (n.i = []), vv(n);
          }),
          this.setValue(this.video.currentTime),
          this.update(),
          bv(this),
          this.ad && v(this.container, !1);
      }
      function mv(e) {
        if (e.i.length) {
          for (
            var t,
              n,
              i = e.player.Ia(),
              r = i.end - i.start,
              a = ["to right"],
              o = [],
              s = e.m.seekBarColors.adBreaks,
              u = !1,
              l = Ee(e.i),
              c = l.next();
            !c.done;
            c = l.next()
          )
            -1 != (c = c.value).start || c.end || (u = !0),
              c.start >= i.start &&
                c.start < i.end &&
                !(c.end && c.end > i.end) &&
                ((n = (t = (c.start - i.start) / r || 0) + 0.01),
                c.end && (n = (c.end - i.start) / r || 0),
                o.push({ start: t, end: n }));
          for (c = (i = Ee(o)).next(); !c.done; c = i.next())
            (r = c.value),
              a.push("transparent " + 100 * r.start + "%"),
              a.push(s + " " + 100 * r.start + "%"),
              a.push(s + " " + 100 * r.end + "%"),
              a.push("transparent " + 100 * r.end + "%");
          u && (a.push("transparent 99%"), a.push(s + " 99%")),
            (e.j.style.background = "linear-gradient(" + a.join(",") + ")");
        } else e.j.style.background = "transparent";
      }
      function vv(e) {
        mv(e);
        var t = (t = e.player.Ia()).end - t.start;
        e.player.T() && 5 < t && e.s.ha(1);
      }
      function yv(e) {
        var t = (t = e.player.Ia()).end - t.start;
        return !(e.player.T() && t < 5) && (null == e.ad || !e.ad.isLinear());
      }
      function bv(e) {
        e.bar.ariaLabel = e.localization.resolve("SEEK");
      }
      function Ev() {}
      function r(e, t, n, i) {
        h.call(this);
        var o,
          r = this;
        (this.R = !0),
          (this.i = i),
          (this.C = new Sc(
            n,
            e,
            this.i.castReceiverAppId,
            this.i.castAndroidReceiverCompatible
          )),
          (this.Ya = !0),
          (this.s = this.C.Ab()),
          (this.B = n),
          (this.F = this.C.cc()),
          (this.ua = e),
          (this.j = t),
          (this.Wa = this.F.qd()),
          (this.l = this.m = null),
          (this.Y = !1),
          (this.G = []),
          (this.vb = []),
          (this.gb = !1),
          (this.$ = new M(function () {
            (r.j.style.cursor = "none"), (r.gb = !1), Iv(r);
          })),
          (this.ba = new M(function () {
            r.g.removeAttribute("shown"), r.I.S(2);
          })),
          (this.I = new M(function () {
            for (var e = Ee(r.G), t = e.next(); !t.done; t = e.next())
              v(t.value, !1);
          })),
          (this.La = new M(function () {
            r.Nb() && Nv(r);
          })),
          (this.J = null),
          (this.H = []),
          (this.ya =
            ((i = new it("en")).ea(
              "ar",
              new Map([
                ["AD_DURATION", " "],
                ["AD_PROGRESS", " [AD_ON]  [NUM_ADS]"],
                ["AD_TIME", ": [AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", " "],
                ["CAST", "..."],
                ["ENTER_LOOP_MODE", "  "],
                ["ENTER_PICTURE_IN_PICTURE", '   "  "'],
                ["EXIT_FULL_SCREEN", "   "],
                ["EXIT_LOOP_MODE", "   "],
                ["EXIT_PICTURE_IN_PICTURE", '   "  "'],
                ["FAST_FORWARD", " "],
                ["FULL_SCREEN", " "],
                ["LANGUAGE", ""],
                ["LIVE", ""],
                ["LOOP", ""],
                ["MORE_SETTINGS", "  "],
                ["MULTIPLE_LANGUAGES", " "],
                ["MUTE", " "],
                ["NOT_APPLICABLE", " "],
                ["OFF", ""],
                ["ON", ""],
                ["PAUSE", " "],
                ["PICTURE_IN_PICTURE", "  "],
                ["PLAY", ""],
                ["PLAYBACK_RATE", " "],
                ["RESOLUTION", " "],
                ["REWIND", ""],
                ["SEEK", " "],
                ["SKIP_AD", " "],
                ["SKIP_TO_LIVE", "   "],
                ["UNDETERMINED_LANGUAGE", " "],
                ["UNMUTE", " "],
                ["UNRECOGNIZED_LANGUAGE", " "],
                ["VOLUME", " "],
              ])
            ),
            i.ea(
              "de",
              new Map([
                ["AD_DURATION", "Dauer der Werbeanzeige"],
                ["AD_PROGRESS", "Werbung [AD_ON] von [NUM_ADS]"],
                ["AD_TIME", "Werbeanzeige: [AD_TIME]"],
                ["AUTO_QUALITY", "Automatisch"],
                ["BACK", "Zurck"],
                ["CAPTIONS", "Untertitel"],
                ["CAST", "Streamen..."],
                ["ENTER_LOOP_MODE", "In Endlosschleife spielen"],
                ["ENTER_PICTURE_IN_PICTURE", "Bild-im-Bild-Modus aktivieren"],
                ["EXIT_FULL_SCREEN", "Vollbildmodus beenden"],
                ["EXIT_LOOP_MODE", "Endlosschleife stoppen"],
                ["EXIT_PICTURE_IN_PICTURE", "Bild-im-Bild-Modus beenden"],
                ["FAST_FORWARD", "Vorspulen"],
                ["FULL_SCREEN", "Vollbildmodus"],
                ["LANGUAGE", "Sprache"],
                ["LIVE", "Live"],
                ["LOOP", "Schleife"],
                ["MORE_SETTINGS", "Weitere Einstellungen"],
                ["MULTIPLE_LANGUAGES", "Mehrere Sprachen"],
                ["MUTE", "Stummschalten"],
                ["NOT_APPLICABLE", "Nicht zutreffend"],
                ["OFF", "Aus"],
                ["ON", "Ein"],
                ["PAUSE", "Pause"],
                ["PICTURE_IN_PICTURE", "Bild im Bild"],
                ["PLAY", "Wiedergabe"],
                ["PLAYBACK_RATE", "Geschwindigkeit"],
                ["RESOLUTION", "Auflsung"],
                ["REWIND", "Zurckspulen"],
                ["SEEK", "Suche"],
                ["SKIP_AD", "berspringen"],
                ["SKIP_TO_LIVE", "Zum Live-Videostream wechseln"],
                ["UNDETERMINED_LANGUAGE", "Unbestimmt"],
                ["UNMUTE", "Stummschaltung aufheben"],
                ["UNRECOGNIZED_LANGUAGE", "Unbekannt"],
                ["VOLUME", "Lautstrke"],
              ])
            ),
            i.ea(
              "en",
              new Map([
                ["AD_DURATION", "Ad duration"],
                ["AD_PROGRESS", "Ad [AD_ON] of [NUM_ADS]"],
                ["AD_TIME", "Ad: [AD_TIME]"],
                ["AIRPLAY", "AirPlay"],
                ["AUTO_QUALITY", "Auto"],
                ["BACK", "Back"],
                ["CAPTIONS", "Captions"],
                ["CAST", "Cast..."],
                ["ENTER_LOOP_MODE", "Loop the current video"],
                ["ENTER_PICTURE_IN_PICTURE", "Enter Picture-in-Picture"],
                ["EXIT_FULL_SCREEN", "Exit full screen"],
                ["EXIT_LOOP_MODE", "Stop looping the current video"],
                ["EXIT_PICTURE_IN_PICTURE", "Exit Picture-in-Picture"],
                ["FAST_FORWARD", "Fast-forward"],
                ["FULL_SCREEN", "Full screen"],
                ["LANGUAGE", "Language"],
                ["LIVE", "Live"],
                ["LOOP", "Loop"],
                ["MORE_SETTINGS", "More settings"],
                ["MULTIPLE_LANGUAGES", "Multiple languages"],
                ["MUTE", "Mute"],
                ["NOT_APPLICABLE", "Not applicable"],
                ["OFF", "Off"],
                ["ON", "On"],
                ["PAUSE", "Pause"],
                ["PICTURE_IN_PICTURE", "Picture-in-Picture"],
                ["PLAY", "Play"],
                ["PLAYBACK_RATE", "Playback speed"],
                ["QUALITY", "Quality"],
                ["REPLAY", "Replay"],
                ["RESOLUTION", "Resolution"],
                ["REWIND", "Rewind"],
                ["SEEK", "Seek"],
                ["SKIP_AD", "Skip Ad"],
                ["SKIP_TO_LIVE", "Skip ahead to live"],
                ["STATISTICS", "Statistics"],
                ["SUBTITLE_FORCED", "Forced"],
                ["UNDETERMINED_LANGUAGE", "Undetermined"],
                ["UNMUTE", "Unmute"],
                ["UNRECOGNIZED_LANGUAGE", "Unrecognized"],
                ["VOLUME", "Volume"],
              ])
            ),
            i.ea(
              "en-GB",
              new Map([
                ["AD_DURATION", "Ad duration"],
                ["AD_PROGRESS", "Ad [AD_ON] of [NUM_ADS]"],
                ["AD_TIME", "Ad: [AD_TIME]"],
                ["AUTO_QUALITY", "Auto"],
                ["BACK", "Back"],
                ["CAPTIONS", "Captions"],
                ["CAST", "Cast..."],
                ["ENTER_LOOP_MODE", "Loop the current video"],
                ["ENTER_PICTURE_IN_PICTURE", "Enter picture-in-picture"],
                ["EXIT_FULL_SCREEN", "Exit full screen"],
                ["EXIT_LOOP_MODE", "Stop looping the current video"],
                ["EXIT_PICTURE_IN_PICTURE", "Exit picture-in-picture"],
                ["FAST_FORWARD", "Fast-forward"],
                ["FULL_SCREEN", "Full screen"],
                ["LANGUAGE", "Language"],
                ["LIVE", "Live"],
                ["LOOP", "Loop"],
                ["MORE_SETTINGS", "More settings"],
                ["MULTIPLE_LANGUAGES", "Multiple languages"],
                ["MUTE", "Mute"],
                ["NOT_APPLICABLE", "Not applicable"],
                ["OFF", "Off"],
                ["ON", "On"],
                ["PAUSE", "Pause"],
                ["PICTURE_IN_PICTURE", "Picture-in-picture"],
                ["PLAY", "Play"],
                ["PLAYBACK_RATE", "Playback speed"],
                ["RESOLUTION", "Resolution"],
                ["REWIND", "Rewind"],
                ["SEEK", "Seek"],
                ["SKIP_AD", "Skip ad"],
                ["SKIP_TO_LIVE", "Skip ahead to live"],
                ["UNDETERMINED_LANGUAGE", "Undetermined"],
                ["UNMUTE", "Unmute"],
                ["UNRECOGNIZED_LANGUAGE", "Unrecognised"],
                ["VOLUME", "volume"],
              ])
            ),
            i.ea(
              "es",
              new Map([
                ["AD_DURATION", "Duracin del anuncio"],
                ["AD_PROGRESS", "Anuncio [AD_ON] de [NUM_ADS]"],
                ["AD_TIME", "Anuncio: [AD_TIME]"],
                ["AUTO_QUALITY", "Automtico"],
                ["BACK", "Atrs"],
                ["CAPTIONS", "Subttulos"],
                ["CAST", "Enviar..."],
                ["ENTER_LOOP_MODE", "Reproducir en bucle el vdeo actual"],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  "Activar el modo imagen en imagen",
                ],
                ["EXIT_FULL_SCREEN", "Salir del modo de pantalla completa"],
                [
                  "EXIT_LOOP_MODE",
                  "Dejar de reproducir en bucle el vdeo actual",
                ],
                ["EXIT_PICTURE_IN_PICTURE", "Salir del modo imagen en imagen"],
                ["FAST_FORWARD", "Avanzar rpidamente"],
                ["FULL_SCREEN", "Pantalla completa"],
                ["LANGUAGE", "Idioma"],
                ["LIVE", "En directo"],
                ["LOOP", "Reproducir en bucle"],
                ["MORE_SETTINGS", "Ms ajustes"],
                ["MULTIPLE_LANGUAGES", "Varios idiomas"],
                ["MUTE", "Silenciar"],
                ["NOT_APPLICABLE", "No aplicable"],
                ["OFF", "Desactivado"],
                ["ON", "Activado"],
                ["PAUSE", "Pausar"],
                ["PICTURE_IN_PICTURE", "Imagen en imagen"],
                ["PLAY", "Reproducir"],
                ["PLAYBACK_RATE", "Velocidad de reproduccin"],
                ["RESOLUTION", "Resolucin"],
                ["REWIND", "Rebobinar"],
                ["SEEK", "Buscar"],
                ["SKIP_AD", "Saltar anuncio"],
                ["SKIP_TO_LIVE", "Ir al vdeo en directo"],
                ["SUBTITLE_FORCED", "Forzado"],
                ["UNDETERMINED_LANGUAGE", "Sin especificar"],
                ["UNMUTE", "Activar sonido"],
                ["UNRECOGNIZED_LANGUAGE", "No reconocida"],
                ["VOLUME", "Volumen"],
              ])
            ),
            i.ea(
              "es-419",
              new Map([
                ["AD_DURATION", "Duracin del anuncio"],
                ["AD_PROGRESS", "Anuncio [AD_ON] de [NUM_ADS]"],
                ["AD_TIME", "Anuncio: [AD_TIME]"],
                ["AUTO_QUALITY", "Automtico"],
                ["BACK", "Atrs"],
                ["CAPTIONS", "Subttulos"],
                ["CAST", "Transmitir..."],
                ["ENTER_LOOP_MODE", "Repetir indefinidamente el video actual"],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  "Ingresar al modo de pantalla en pantalla",
                ],
                ["EXIT_FULL_SCREEN", "Salir de pantalla completa"],
                [
                  "EXIT_LOOP_MODE",
                  "Detener la repeticin indefinida del video actual",
                ],
                [
                  "EXIT_PICTURE_IN_PICTURE",
                  "Salir del modo de pantalla en pantalla",
                ],
                ["FAST_FORWARD", "Avanzar"],
                ["FULL_SCREEN", "Pantalla completa"],
                ["LANGUAGE", "Idioma"],
                ["LIVE", "En directo"],
                ["LOOP", "Repetir indefinidamente"],
                ["MORE_SETTINGS", "Ms opciones de configuracin"],
                ["MULTIPLE_LANGUAGES", "Varios idiomas"],
                ["MUTE", "Silenciar"],
                ["NOT_APPLICABLE", "No aplicable"],
                ["OFF", "Desactivado"],
                ["ON", "Activado"],
                ["PAUSE", "Detener"],
                ["PICTURE_IN_PICTURE", "Pantalla en pantalla"],
                ["PLAY", "Reproducir"],
                ["PLAYBACK_RATE", "Velocidad de reproduccin"],
                ["RESOLUTION", "Resolucin"],
                ["REWIND", "Retroceder"],
                ["SEEK", "Buscar"],
                ["SKIP_AD", "Omitir anuncio"],
                ["SKIP_TO_LIVE", "Adelantar hasta la transmisin en vivo"],
                ["SUBTITLE_FORCED", "Forzado"],
                ["UNDETERMINED_LANGUAGE", "Sin especificar"],
                ["UNMUTE", "Dejar de silenciar"],
                ["UNRECOGNIZED_LANGUAGE", "No reconocida"],
                ["VOLUME", "Volumen"],
              ])
            ),
            i.ea(
              "fr",
              new Map([
                ["AD_DURATION", "Dure de l'annonce"],
                ["AD_PROGRESS", "Annonce [AD_ON] sur [NUM_ADS]"],
                ["AD_TIME", "Annonce : [AD_TIME]"],
                ["AUTO_QUALITY", "Automatique"],
                ["BACK", "Retour"],
                ["CAPTIONS", "Sous-titres"],
                ["CAST", "Caster"],
                ["ENTER_LOOP_MODE", "Lire en boucle la vido en cours"],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  "Utiliser le mode Picture-in-Picture",
                ],
                ["EXIT_FULL_SCREEN", "Quitter le mode plein cran"],
                [
                  "EXIT_LOOP_MODE",
                  "Arrter la lecture en boucle de la vido en cours",
                ],
                [
                  "EXIT_PICTURE_IN_PICTURE",
                  "Quitter le mode PIP (Picture-in-picture)",
                ],
                ["FAST_FORWARD", "Avance rapide"],
                ["FULL_SCREEN", "Plein cran"],
                ["LANGUAGE", "Langue"],
                ["LIVE", "En direct"],
                ["LOOP", "Rpter"],
                ["MORE_SETTINGS", "Plus de paramtres"],
                ["MULTIPLE_LANGUAGES", "Plusieurs langues"],
                ["MUTE", "Couper le son"],
                ["NOT_APPLICABLE", "Non applicable"],
                ["OFF", "Dsactive"],
                ["ON", "Active"],
                ["PAUSE", "Pause"],
                ["PICTURE_IN_PICTURE", "Picture-in-Picture"],
                ["PLAY", "Visionner"],
                ["PLAYBACK_RATE", "Vitesse de lecture"],
                ["RESOLUTION", "Rsolution"],
                ["REWIND", "Retour arrire"],
                ["SEEK", "Chercher"],
                ["SKIP_AD", "Passer l'annonce"],
                [
                  "SKIP_TO_LIVE",
                  "Accder  la partie la plus rcente du direct",
                ],
                ["UNDETERMINED_LANGUAGE", "Langue indtermine"],
                ["UNMUTE", "Ractiver le son"],
                ["UNRECOGNIZED_LANGUAGE", "Non reconnu"],
                ["VOLUME", "Volume"],
              ])
            ),
            i.ea(
              "it",
              new Map([
                ["AD_DURATION", "Durata dell'annuncio"],
                ["AD_PROGRESS", "Annuncio [AD_ON] di [NUM_ADS]"],
                ["AD_TIME", "Annuncio: [AD_TIME]"],
                ["AUTO_QUALITY", "Automatica"],
                ["BACK", "Indietro"],
                ["CAPTIONS", "Sottotitoli"],
                ["CAST", "Trasmetti..."],
                ["ENTER_LOOP_MODE", "Riproduci in loop il video corrente"],
                ["ENTER_PICTURE_IN_PICTURE", "Attiva Picture in picture"],
                ["EXIT_FULL_SCREEN", "Esci da schermo intero"],
                [
                  "EXIT_LOOP_MODE",
                  "Interrompi riproduzione in loop del video corrente",
                ],
                ["EXIT_PICTURE_IN_PICTURE", "Esci da Picture in picture"],
                ["FAST_FORWARD", "Avanti veloce"],
                ["FULL_SCREEN", "Schermo intero"],
                ["LANGUAGE", "Lingua"],
                ["LIVE", "Dal vivo"],
                ["LOOP", "Riproduci in loop"],
                ["MORE_SETTINGS", "Altre impostazioni"],
                ["MULTIPLE_LANGUAGES", "Pi lingue"],
                ["MUTE", "Disattiva audio"],
                ["NOT_APPLICABLE", "Non applicabile"],
                ["OFF", "Disattivo"],
                ["ON", "Attivo"],
                ["PAUSE", "Metti in pausa"],
                ["PICTURE_IN_PICTURE", "Picture in picture"],
                ["PLAY", "Riproduci"],
                ["PLAYBACK_RATE", "Velocit di riproduzione"],
                ["RESOLUTION", "Risoluzione"],
                ["REWIND", "Riavvolgi"],
                ["SEEK", "Cerca"],
                ["SKIP_AD", "Salta annuncio"],
                ["SKIP_TO_LIVE", "Passa alla trasmissione dal vivo"],
                ["UNDETERMINED_LANGUAGE", "Indeterminata"],
                ["UNMUTE", "Riattiva audio"],
                ["UNRECOGNIZED_LANGUAGE", "Non riconosciuto"],
                ["VOLUME", "Volume"],
              ])
            ),
            i.ea(
              "ja",
              new Map([
                ["AD_DURATION", ""],
                ["AD_PROGRESS", "[AD_ON]  [NUM_ADS] "],
                ["AD_TIME", ": [AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", ""],
                ["CAST", "..."],
                ["ENTER_LOOP_MODE", ""],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  "  ",
                ],
                ["EXIT_FULL_SCREEN", ""],
                ["EXIT_LOOP_MODE", ""],
                ["EXIT_PICTURE_IN_PICTURE", "  "],
                ["FAST_FORWARD", ""],
                ["FULL_SCREEN", ""],
                ["LANGUAGE", ""],
                ["LIVE", ""],
                ["LOOP", ""],
                ["MORE_SETTINGS", ""],
                ["MULTIPLE_LANGUAGES", ""],
                ["MUTE", ""],
                ["NOT_APPLICABLE", ""],
                ["OFF", ""],
                ["ON", ""],
                ["PAUSE", ""],
                ["PICTURE_IN_PICTURE", "  "],
                ["PLAY", ""],
                ["PLAYBACK_RATE", ""],
                ["RESOLUTION", ""],
                ["REWIND", ""],
                ["SEEK", ""],
                ["SKIP_AD", ""],
                ["SKIP_TO_LIVE", ""],
                ["UNDETERMINED_LANGUAGE", ""],
                ["UNMUTE", ""],
                ["UNRECOGNIZED_LANGUAGE", ""],
                ["VOLUME", ""],
              ])
            ),
            i.ea(
              "ko",
              new Map([
                ["AD_DURATION", " "],
                ["AD_PROGRESS", " [AD_ON]/[NUM_ADS]"],
                ["AD_TIME", ": [AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", ""],
                ["CAST", "..."],
                ["ENTER_LOOP_MODE", "   "],
                ["ENTER_PICTURE_IN_PICTURE", "PIP  "],
                ["EXIT_FULL_SCREEN", " "],
                ["EXIT_LOOP_MODE", "    "],
                ["EXIT_PICTURE_IN_PICTURE", "PIP  "],
                ["FAST_FORWARD", " "],
                ["FULL_SCREEN", ""],
                ["LANGUAGE", ""],
                ["LIVE", ""],
                ["LOOP", " "],
                ["MORE_SETTINGS", " "],
                ["MULTIPLE_LANGUAGES", " "],
                ["MUTE", ""],
                ["NOT_APPLICABLE", "  "],
                ["OFF", " "],
                ["ON", ""],
                ["PAUSE", ""],
                ["PICTURE_IN_PICTURE", "PIP "],
                ["PLAY", ""],
                ["PLAYBACK_RATE", " "],
                ["RESOLUTION", ""],
                ["REWIND", ""],
                ["SEEK", ""],
                ["SKIP_AD", " "],
                ["SKIP_TO_LIVE", "  "],
                ["UNDETERMINED_LANGUAGE", ""],
                ["UNMUTE", " "],
                ["UNRECOGNIZED_LANGUAGE", "  "],
                ["VOLUME", ""],
              ])
            ),
            i.ea(
              "nl",
              new Map([
                ["AD_DURATION", "Advertentieduur"],
                ["AD_PROGRESS", "Advertentie [AD_ON] van [NUM_ADS]"],
                ["AD_TIME", "Advertentie: [AD_TIME]"],
                ["AUTO_QUALITY", "Automatisch"],
                ["BACK", "Terug"],
                ["CAPTIONS", "Ondertiteling"],
                ["CAST", "Casten..."],
                ["ENTER_LOOP_MODE", "De huidige video lussen"],
                ["ENTER_PICTURE_IN_PICTURE", "Scherm-in-scherm openen"],
                ["EXIT_FULL_SCREEN", "Volledig scherm sluiten"],
                ["EXIT_LOOP_MODE", "De huidige video niet meer lussen"],
                ["EXIT_PICTURE_IN_PICTURE", "Scherm-in-scherm afsluiten"],
                ["FAST_FORWARD", "Vooruitspoelen"],
                ["FULL_SCREEN", "Volledig scherm"],
                ["LANGUAGE", "Taal"],
                ["LIVE", "Live"],
                ["LOOP", "Lussen"],
                ["MORE_SETTINGS", "Meer instellingen"],
                ["MULTIPLE_LANGUAGES", "Meerdere talen"],
                ["MUTE", "Dempen"],
                ["NOT_APPLICABLE", "Niet van toepassing"],
                ["OFF", "Uit"],
                ["ON", "Aan"],
                ["PAUSE", "Onderbreken"],
                ["PICTURE_IN_PICTURE", "Scherm-in-scherm"],
                ["PLAY", "Afspelen"],
                ["PLAYBACK_RATE", "Afspeelsnelheid"],
                ["RESOLUTION", "Resolutie"],
                ["REWIND", "Terugspoelen"],
                ["SEEK", "Zoeken"],
                ["SKIP_AD", "Advertentie overslaan"],
                ["SKIP_TO_LIVE", "Doorgaan naar live"],
                ["UNDETERMINED_LANGUAGE", "Onbepaald"],
                ["UNMUTE", "Dempen opheffen"],
                ["UNRECOGNIZED_LANGUAGE", "Onbekend"],
                ["VOLUME", "Volume"],
              ])
            ),
            i.ea(
              "pl",
              new Map([
                ["AD_DURATION", "Czas trwania reklamy"],
                ["AD_PROGRESS", "Reklama [AD_ON] z [NUM_ADS]"],
                ["AD_TIME", "Reklama: [AD_TIME]"],
                ["AUTO_QUALITY", "Automatycznie"],
                ["BACK", "Wstecz"],
                ["CAPTIONS", "Napisy"],
                ["CAST", "Przesyaj..."],
                ["ENTER_LOOP_MODE", "Odtwarzaj biecy film w ptli"],
                ["ENTER_PICTURE_IN_PICTURE", "Wcz tryb obrazu w obrazie"],
                ["EXIT_FULL_SCREEN", "Zamknij peny ekran"],
                [
                  "EXIT_LOOP_MODE",
                  "Wycz odtwarzanie biecego filmu w ptli",
                ],
                ["EXIT_PICTURE_IN_PICTURE", "Wycz tryb obrazu w obrazie"],
                ["FAST_FORWARD", "Przewi do przodu"],
                ["FULL_SCREEN", "Peny ekran"],
                ["LANGUAGE", "Jzyk"],
                ["LIVE", "Na ywo"],
                ["LOOP", "Odtwarzaj w ptli"],
                ["MORE_SETTINGS", "Wicej ustawie"],
                ["MULTIPLE_LANGUAGES", "Wiele jzykw"],
                ["MUTE", "Wycisz"],
                ["NOT_APPLICABLE", "Nie dotyczy"],
                ["OFF", "Wyczone"],
                ["ON", "Wczone"],
                ["PAUSE", "Wstrzymaj"],
                ["PICTURE_IN_PICTURE", "Obraz w obrazie"],
                ["PLAY", "Odtwrz"],
                ["PLAYBACK_RATE", "Szybko odtwarzania"],
                ["RESOLUTION", "Rozdzielczo"],
                ["REWIND", "Przewi do tyu"],
                ["SEEK", "Szukaj"],
                ["SKIP_AD", "Pomi reklam"],
                ["SKIP_TO_LIVE", "Przejd do transmisji na ywo"],
                ["UNDETERMINED_LANGUAGE", "Nie okrelono"],
                ["UNMUTE", "Wycz wyciszenie"],
                ["UNRECOGNIZED_LANGUAGE", "Nierozpoznany"],
                ["VOLUME", "Gono"],
              ])
            ),
            i.ea(
              "pt-BR",
              new Map([
                ["AD_DURATION", "Durao do anncio"],
                ["AD_PROGRESS", "Anncio [AD_ON] de [NUM_ADS]"],
                ["AD_TIME", "Anncio: [AD_TIME]"],
                ["AUTO_QUALITY", "Automtica"],
                ["BACK", "Voltar"],
                ["CAPTIONS", "Legendas"],
                ["CAST", "Transmitir..."],
                ["ENTER_LOOP_MODE", "Repetir o vdeo atual"],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  "Entrar no modo picture-in-picture",
                ],
                ["EXIT_FULL_SCREEN", "Sair do modo tela cheia"],
                ["EXIT_LOOP_MODE", "Parar repetio do vdeo atual"],
                ["EXIT_PICTURE_IN_PICTURE", "Sair de picture-in-picture"],
                ["FAST_FORWARD", "Avanar"],
                ["FULL_SCREEN", "Tela cheia"],
                ["LANGUAGE", "Idioma"],
                ["LIVE", "Ao vivo"],
                ["LOOP", "Repetir"],
                ["MORE_SETTINGS", "Mais definies"],
                ["MULTIPLE_LANGUAGES", "Vrios idiomas"],
                ["MUTE", "Desativar som"],
                ["NOT_APPLICABLE", "No relevante"],
                ["OFF", "Desativado"],
                ["ON", "Ativado"],
                ["PAUSE", "Pausar"],
                ["PICTURE_IN_PICTURE", "Picture-in-picture"],
                ["PLAY", "Reproduzir"],
                ["PLAYBACK_RATE", "Velocidade da reproduo"],
                ["RESOLUTION", "Resoluo"],
                ["REWIND", "Retroceder"],
                ["SEEK", "Procurar"],
                ["SKIP_AD", "Pular anncio"],
                ["SKIP_TO_LIVE", "Pular para transmisso ao vivo"],
                ["UNDETERMINED_LANGUAGE", "Indeterminado"],
                ["UNMUTE", "Ativar som"],
                ["UNRECOGNIZED_LANGUAGE", "No reconhecido"],
                ["VOLUME", "Volume"],
              ])
            ),
            i.ea(
              "ru",
              new Map([
                ["AD_DURATION", " "],
                ["AD_PROGRESS", " [AD_ON]  [NUM_ADS]"],
                ["AD_TIME", ": [AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", ""],
                ["CAST", "..."],
                ["ENTER_LOOP_MODE", "  "],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  '   "  "',
                ],
                ["EXIT_FULL_SCREEN", " "],
                ["EXIT_LOOP_MODE", "   "],
                [
                  "EXIT_PICTURE_IN_PICTURE",
                  '   "  "',
                ],
                ["FAST_FORWARD", " "],
                ["FULL_SCREEN", " "],
                ["LANGUAGE", ""],
                ["LIVE", " "],
                ["LOOP", ""],
                ["MORE_SETTINGS", " "],
                ["MULTIPLE_LANGUAGES", " "],
                ["MUTE", " "],
                ["NOT_APPLICABLE", ""],
                ["OFF", "."],
                ["ON", "."],
                ["PAUSE", ""],
                ["PICTURE_IN_PICTURE", "  "],
                ["PLAY", ""],
                ["PLAYBACK_RATE", " "],
                ["RESOLUTION", ""],
                ["REWIND", " "],
                ["SEEK", ""],
                ["SKIP_AD", ""],
                ["SKIP_TO_LIVE", "     "],
                ["UNDETERMINED_LANGUAGE", " "],
                ["UNMUTE", " "],
                ["UNRECOGNIZED_LANGUAGE", " "],
                ["VOLUME", ""],
              ])
            ),
            i.ea(
              "th",
              new Map([
                ["AD_DURATION", ""],
                ["AD_PROGRESS", " [AD_ON]  [NUM_ADS] "],
                ["AD_TIME", ": [AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", ""],
                ["CAST", "..."],
                ["ENTER_LOOP_MODE", ""],
                ["ENTER_PICTURE_IN_PICTURE", ""],
                ["EXIT_FULL_SCREEN", ""],
                ["EXIT_LOOP_MODE", ""],
                ["EXIT_PICTURE_IN_PICTURE", ""],
                ["FAST_FORWARD", ""],
                ["FULL_SCREEN", ""],
                ["LANGUAGE", ""],
                ["LIVE", ""],
                ["LOOP", ""],
                ["MORE_SETTINGS", ""],
                ["MULTIPLE_LANGUAGES", ""],
                ["MUTE", ""],
                ["NOT_APPLICABLE", ""],
                ["OFF", ""],
                ["ON", ""],
                ["PAUSE", ""],
                ["PICTURE_IN_PICTURE", ""],
                ["PLAY", ""],
                ["PLAYBACK_RATE", ""],
                ["RESOLUTION", ""],
                ["REWIND", ""],
                ["SEEK", ""],
                ["SKIP_AD", ""],
                ["SKIP_TO_LIVE", ""],
                ["UNDETERMINED_LANGUAGE", ""],
                ["UNMUTE", ""],
                ["UNRECOGNIZED_LANGUAGE", ""],
                ["VOLUME", ""],
              ])
            ),
            i.ea(
              "tr",
              new Map([
                ["AD_DURATION", "Reklam sresi"],
                ["AD_PROGRESS", "[AD_ON]/[NUM_ADS] reklam"],
                ["AD_TIME", "Reklam: [AD_TIME]"],
                ["AUTO_QUALITY", "Otomatik"],
                ["BACK", "Geri"],
                ["CAPTIONS", "Altyazlar"],
                ["CAST", "Yaynla..."],
                ["ENTER_LOOP_MODE", "Mevcut videoyu dngye al"],
                [
                  "ENTER_PICTURE_IN_PICTURE",
                  "Pencere iinde Pencere moduna gir",
                ],
                ["EXIT_FULL_SCREEN", "Tam ekrandan k"],
                ["EXIT_LOOP_MODE", "Mevcut videonun dngsn durdur"],
                ["EXIT_PICTURE_IN_PICTURE", "Pencere inde Pencereden k"],
                ["FAST_FORWARD", "leri sar"],
                ["FULL_SCREEN", "Tam ekran"],
                ["LANGUAGE", "Dil"],
                ["LIVE", "Canl"],
                ["LOOP", "Dng"],
                ["MORE_SETTINGS", "Daha fazla ayar"],
                ["MULTIPLE_LANGUAGES", "Birden ok dil"],
                ["MUTE", "Sesi kapat"],
                ["NOT_APPLICABLE", "Geerli deil"],
                ["OFF", "Kapal"],
                ["ON", "Ak"],
                ["PAUSE", "Duraklat"],
                ["PICTURE_IN_PICTURE", "Pencere inde Pencere"],
                ["PLAY", "Oynat"],
                ["PLAYBACK_RATE", "alma hz"],
                ["RESOLUTION", "znrlk"],
                ["REWIND", "Geri sar"],
                ["SEEK", "Ara"],
                ["SKIP_AD", "Reklam Atla"],
                ["SKIP_TO_LIVE", "Canl yayna atla"],
                ["UNDETERMINED_LANGUAGE", "Belirsiz"],
                ["UNMUTE", "Sesi a"],
                ["UNRECOGNIZED_LANGUAGE", "Tannmayan"],
                ["VOLUME", "Ses"],
              ])
            ),
            i.ea(
              "zh",
              new Map([
                ["AD_DURATION", ""],
                ["AD_PROGRESS", " [AD_ON]/[NUM_ADS]"],
                ["AD_TIME", "[AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", ""],
                ["CAST", ""],
                ["ENTER_LOOP_MODE", ""],
                ["ENTER_PICTURE_IN_PICTURE", ""],
                ["EXIT_FULL_SCREEN", ""],
                ["EXIT_LOOP_MODE", ""],
                ["EXIT_PICTURE_IN_PICTURE", ""],
                ["FAST_FORWARD", ""],
                ["FULL_SCREEN", ""],
                ["LANGUAGE", ""],
                ["LIVE", ""],
                ["LOOP", ""],
                ["MORE_SETTINGS", ""],
                ["MULTIPLE_LANGUAGES", ""],
                ["MUTE", ""],
                ["NOT_APPLICABLE", ""],
                ["OFF", ""],
                ["ON", ""],
                ["PAUSE", ""],
                ["PICTURE_IN_PICTURE", ""],
                ["PLAY", ""],
                ["PLAYBACK_RATE", ""],
                ["RESOLUTION", ""],
                ["REWIND", ""],
                ["SEEK", ""],
                ["SKIP_AD", ""],
                ["SKIP_TO_LIVE", ""],
                ["UNDETERMINED_LANGUAGE", ""],
                ["UNMUTE", ""],
                ["UNRECOGNIZED_LANGUAGE", ""],
                ["VOLUME", ""],
              ])
            ),
            i.ea(
              "zh-TW",
              new Map([
                ["AD_DURATION", ""],
                ["AD_PROGRESS", " [AD_ON]/[NUM_ADS]"],
                ["AD_TIME", "[AD_TIME]"],
                ["AUTO_QUALITY", ""],
                ["BACK", ""],
                ["CAPTIONS", ""],
                ["CAST", "..."],
                ["ENTER_LOOP_MODE", ""],
                ["ENTER_PICTURE_IN_PICTURE", ""],
                ["EXIT_FULL_SCREEN", ""],
                ["EXIT_LOOP_MODE", ""],
                ["EXIT_PICTURE_IN_PICTURE", ""],
                ["FAST_FORWARD", ""],
                ["FULL_SCREEN", ""],
                ["LANGUAGE", ""],
                ["LIVE", ""],
                ["LOOP", ""],
                ["MORE_SETTINGS", ""],
                ["MULTIPLE_LANGUAGES", ""],
                ["MUTE", ""],
                ["NOT_APPLICABLE", ""],
                ["OFF", ""],
                ["ON", ""],
                ["PAUSE", ""],
                ["PICTURE_IN_PICTURE", ""],
                ["PLAY", ""],
                ["PLAYBACK_RATE", ""],
                ["RESOLUTION", ""],
                ["REWIND", ""],
                ["SEEK", ""],
                ["SKIP_AD", ""],
                ["SKIP_TO_LIVE", ""],
                ["UNDETERMINED_LANGUAGE", ""],
                ["UNMUTE", ""],
                ["UNRECOGNIZED_LANGUAGE", ""],
                ["VOLUME", ""],
              ])
            ),
            i.vf(navigator.languages || []),
            i)),
          (this.h = new f()),
          this.configure(this.i),
          (o = this).h.o(o.F, "buffering", function () {
            o.R && v(o.aa, o.F.Oc());
          }),
          o.R && v(o.aa, o.F.Oc()),
          o.h.o(N, "keydown", function (e) {
            if (
              ((e = e),
              (r = o).ka.add(e.key),
              (a = r.kd()),
              "Tab" == e.key &&
                (r.g.classList.add("shaka-keyboard-navigation"),
                Iv(r),
                r.h.o(N, "mousedown", function () {
                  r.h.pc(N, "mousedown");
                })),
              "Escape" == e.key && r.I.xa(),
              a && r.ka.has("Tab"))
            ) {
              var t = (a = r).G.filter(function (e) {
                return !e.classList.contains("shaka-hidden");
              });
              if (t.length) {
                var n = t[0];
                if (n.childNodes.length) {
                  for (
                    t = n.firstElementChild;
                    t && t.classList.contains("shaka-hidden");

                  )
                    t = t.nextElementSibling;
                  for (
                    n = n.lastElementChild;
                    n && n.classList.contains("shaka-hidden");

                  )
                    n = n.previousElementSibling;
                  var i = document.activeElement;
                  a.ka.has("Shift")
                    ? i == t && (e.preventDefault(), n.focus())
                    : i == n && (e.preventDefault(), t.focus());
                }
              }
            }
            var r, a;
          }),
          o.h.o(N, "click", function () {
            return o.fc();
          }),
          o.h.o(o, "submenuopen", function () {
            o.fc();
          }),
          o.h.o(o.s, "play", function () {
            Iv(o);
          }),
          o.h.o(o.s, "pause", function () {
            Iv(o);
          }),
          o.h.o(o.j, "mousemove", function (e) {
            xv(o, e);
          }),
          o.h.o(
            o.j,
            "touchmove",
            function (e) {
              xv(o, e);
            },
            { passive: !0 }
          ),
          o.h.o(
            o.j,
            "touchend",
            function (e) {
              xv(o, e);
            },
            { passive: !0 }
          ),
          o.h.o(o.j, "mouseleave", function () {
            o.J || o.$.xa();
          }),
          o.h.o(o.C, "caststatuschanged", function () {
            Mv(o);
          }),
          o.h.o(o.j, "keydown", function (e) {
            var t = document.activeElement,
              n =
                !(!t || !t.classList) &&
                t.classList.contains("shaka-volume-bar"),
              i = t && t.classList && t.classList.contains("shaka-seek-bar");
            if (
              (o.g.contains(t) && xv(o, e), o.i.enableKeyboardPlaybackControls)
            )
              switch (((t = o.i.keyboardSeekDistance), e.key)) {
                case "ArrowLeft":
                  o.l &&
                    !n &&
                    0 < t &&
                    (e.preventDefault(), Lv(o, o.l.getValue() - t));
                  break;
                case "ArrowRight":
                  o.l &&
                    !n &&
                    0 < t &&
                    (e.preventDefault(), Lv(o, o.l.getValue() + t));
                  break;
                case "Home":
                  o.l && Lv(o, o.F.Ia().start);
                  break;
                case "End":
                  o.l && Lv(o, o.F.Ia().end);
                  break;
                case " ":
                  i && Cv(o);
              }
          }),
          o.h.o(o.j, "keyup", function (e) {
            o.ka.delete(e.key);
          }),
          o.h.o(o.Wa, "ad-started", function (e) {
            (o.m = e.ad), o.ag();
          }),
          o.h.o(o.Wa, "ad-stopped", function () {
            (o.m = null), o.If();
          }),
          screen.orientation &&
            o.h.o(screen.orientation, "change", function () {
              return Ie(function (e) {
                return Te(
                  e,
                  ((t = o),
                  Ie(function (e) {
                    return t.s &&
                      0 != t.s.readyState &&
                      !t.C.oa() &&
                      t.i.enableFullscreenOnRotation &&
                      t.vd()
                      ? screen.orientation.type.includes("landscape") &&
                        !document.fullscreenElement
                        ? Te(
                            e,
                            t.j.requestFullscreen({ navigationUI: "hide" }),
                            0
                          )
                        : screen.orientation.type.includes("portrait") &&
                          document.fullscreenElement
                        ? Te(e, document.exitFullscreen(), 0)
                        : e.D(0)
                      : e.return();
                  })),
                  0
                );
                var t;
              });
            }),
          (this.ka = new Set()),
          Mv(this),
          this.La.ha(0.125),
          this.h.o(this.ya, "locale-changed", function (e) {
            r.Wa.setLocale(e.locales[0]);
          });
      }
      function Tv(e) {
        for (var t = Ee(e.H), n = t.next(); !n.done; n = t.next())
          n.value.release();
        e.H = [];
      }
      function Av(e, t) {
        Rv.set(e, t);
      }
      function wv(e) {
        e.R &&
          e.s.duration &&
          (e.F.tf(), e.s.paused && !e.Y ? e.s.play() : e.s.pause());
      }
      function Sv(e) {
        e.m && e.m.isPaused() ? e.m.play() : e.m && e.m.pause();
      }
      function xv(e, t) {
        "mousemove" == t.type &&
          (e.g.classList.remove("shaka-keyboard-navigation"), Iv(e)),
          "touchstart" == t.type ||
          "touchmove" == t.type ||
          "touchend" == t.type ||
          "keyup" == t.type
            ? (e.J = Date.now())
            : e.J + 1e3 < Date.now() && (e.J = null),
          (e.J && "mousemove" == t.type) ||
            ((e.j.style.cursor = ""),
            (e.gb = !0),
            e.I.stop(),
            e.Nb() || (Nv(e), Iv(e)),
            e.$.stop(),
            ("touchend" != t.type && "keyup" != t.type && e.J) || e.$.S(3));
      }
      function Iv(e) {
        var t = !!e.m && e.m.isPaused(),
          n = e.s.paused && !e.Y,
          i = e.g.classList.contains("shaka-keyboard-navigation");
        t ||
        ((!e.m || !e.m.isLinear()) && n) ||
        e.gb ||
        i ||
        ((t = e),
        N.matchMedia("hover: hover").matches &&
          t.vb.some(function (e) {
            return e.matches(":hover");
          }))
          ? (Nv(e), e.g.setAttribute("shown", "true"), e.ba.stop())
          : e.ba.S(e.i.fadeDelay);
      }
      function kv(e) {
        e.R && (e.kd() ? e.I.xa() : e.i.singleClickForPlayAndPause && Cv(e));
      }
      function Cv(e) {
        (e.m && e.m.isLinear() ? Sv : wv)(e);
      }
      function Mv(e) {
        var t = e.C.oa();
        e.dispatchEvent(
          new _("caststatuschanged", new Map().set("newStatus", t))
        ),
          t
            ? e.g.setAttribute("casting", "true")
            : e.g.removeAttribute("casting");
      }
      function Lv(e, t) {
        e.l.changeTo(t), e.Nb() && Nv(e);
      }
      function Nv(e) {
        if (e.l)
          if ((e.l.setValue(e.s.currentTime), e.l.update(), e.l.isShowing()))
            for (var t = Ee(e.G), n = t.next(); !n.done; n = t.next())
              n.value.classList.remove("shaka-low-position");
          else
            for (n = (t = Ee(e.G)).next(); !n.done; n = t.next())
              n.value.classList.add("shaka-low-position");
        e.dispatchEvent(new _("timeandseekrangeupdated"));
      }
      e(fv, m),
        ((n = fv.prototype).release = function () {
          this.l && (this.l.stop(), (this.l = null)),
            m.prototype.release.call(this);
        }),
        (n.setRange = function (e, t) {
          (this.bar.min = e), (this.bar.max = t);
        }),
        (n.onChangeStart = function () {}),
        (n.onChange = function () {}),
        (n.onChangeEnd = function () {}),
        (n.changeTo = function (e) {
          this.g || ((this.g = !0), this.onChangeStart());
          var t = parseFloat(this.bar.min),
            n = parseFloat(this.bar.max);
          (this.bar.value = n < e ? n : e < t ? t : e),
            this.onChange(),
            this.l.S(0.5);
        }),
        (n.getValue = function () {
          return parseFloat(this.bar.value);
        }),
        (n.setValue = function (e) {
          this.g || (this.bar.value = e);
        }),
        t("shaka.ui.RangeElement", fv),
        e(gv, fv),
        ((n = gv.prototype).release = function () {
          this.h &&
            (this.h.stop(), (this.h = null), this.s.stop(), (this.s = null)),
            fv.prototype.release.call(this);
        }),
        (n.onChangeStart = function () {
          (this.B = !this.video.paused),
            this.controls.Pe(!0),
            this.video.pause();
        }),
        (n.onChange = function () {
          this.video.duration && (this.update(), this.h.S(0.125));
        }),
        (n.onChangeEnd = function () {
          this.h.xa(), this.controls.Pe(!1), this.B && this.video.play();
        }),
        (n.isShowing = function () {
          return !this.container.classList.contains("shaka-hidden");
        }),
        (n.update = function () {
          var e = this.m.seekBarColors,
            t = this.getValue(),
            n = this.video.buffered.length,
            i = n ? this.video.buffered.start(0) : 0,
            r = n ? this.video.buffered.end(n - 1) : 0,
            a = this.player.Ia(),
            o = a.end - a.start;
          this.setRange(a.start, a.end),
            yv(this)
              ? (v(this.container, !0),
                0 == n
                  ? (this.container.style.background = e.base)
                  : ((n = (Math.max(i, a.start) - a.start) / o || 0),
                    (r = (Math.min(r, a.end) - a.start) / o || 0),
                    (t =
                      (Math.min(Math.max(t, a.start), a.end) - a.start) / o ||
                      0),
                    (this.container.style.background =
                      "linear-gradient(" +
                      [
                        "to right",
                        (this.m.showUnbufferedStart ? e.base : e.played) +
                          " " +
                          100 * n +
                          "%",
                        e.played + " " + 100 * n + "%",
                        e.played + " " + 100 * t + "%",
                        e.buffered + " " + 100 * t + "%",
                        e.buffered + " " + 100 * r + "%",
                        e.base + " " + 100 * r + "%",
                      ].join() +
                      ")")))
              : v(this.container, !1);
        }),
        t("shaka.ui.SeekBar", gv),
        (Ev.prototype.create = function (e, t) {
          return new gv(e, t);
        }),
        (gv.Factory = Ev),
        e(r, h),
        ((n = r.prototype).destroy = function () {
          var t = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (document.pictureInPictureElement == t.B)
                  return Te(e, document.exitPictureInPicture(), 2);
                e.D(2);
                break;
              case 2:
                if (
                  (t.h && (t.h.release(), (t.h = null)),
                  t.$ && (t.$.stop(), (t.$ = null)),
                  t.ba && (t.ba.stop(), (t.ba = null)),
                  t.I && (t.I.stop(), (t.I = null)),
                  t.La && (t.La.stop(), (t.La = null)),
                  Tv(t),
                  t.g && (t.j.removeChild(t.g), (t.g = null)),
                  t.C)
                )
                  return Te(e, t.C.destroy(), 5);
                e.D(4);
                break;
              case 5:
                t.C = null;
              case 4:
                if (t.ua) return Te(e, t.ua.destroy(), 7);
                e.D(6);
                break;
              case 7:
                t.ua = null;
              case 6:
                (t.F = null),
                  (t.B = null),
                  (t.s = null),
                  (t.ya = null),
                  t.ka.clear(),
                  h.prototype.release.call(t),
                  Ae(e);
            }
          });
        }),
        (n.ng = function (e) {
          (this.Ya = e), Mv(this);
        }),
        (n.hh = function () {
          Iv(this);
        }),
        (n.configure = function (e) {
          (this.i = e),
            this.C.wf(e.castReceiverAppId, e.castAndroidReceiverCompatible),
            this.l && (this.l = null),
            this.eb && (this.eb = null),
            this.Xa && (this.Xa = null),
            this.g
              ? (ru(this.g), Tv(this))
              : (((n = this).g = E("div")),
                n.g.classList.add("shaka-controls-container"),
                n.j.appendChild(n.g),
                n.j.setAttribute("shaka-controls", "true"),
                n.h.o(
                  n.g,
                  "touchstart",
                  function (e) {
                    n.s.duration &&
                      (n.Nb()
                        ? (n.J = Date.now())
                        : (xv(n, e), e.preventDefault()));
                  },
                  { passive: !1 }
                ),
                n.h.o(n.g, "click", function () {
                  kv(n);
                }),
                n.h.o(n.g, "dblclick", function () {
                  n.i.doubleClickForFullscreen && n.vd() && n.Ve();
                }),
                ((t = this).O = E("div")),
                t.O.classList.add("shaka-client-side-ad-container"),
                v(t.O, !1),
                t.h.o(t.O, "click", function () {
                  kv(t);
                }),
                t.j.appendChild(t.O)),
            this.j.classList.add("shaka-video-container"),
            this.B.classList.add("shaka-video"),
            (a = this),
            (r = E("div")).classList.add("shaka-scrim-container"),
            a.g.appendChild(r),
            this.i.addBigPlayButton &&
              ((a = this),
              (r = E("div")).classList.add("shaka-play-button-container"),
              a.g.appendChild(r),
              (a.eb = new lv(r, a)),
              a.H.push(a.eb)),
            this.i.customContextMenu &&
              ((this.Xa = new cv(this.U, this)), this.H.push(this.Xa)),
            this.aa ||
              (((r = this).aa = E("div")),
              r.aa.classList.add("shaka-spinner-container"),
              r.j.appendChild(r.aa),
              (a = E("div")).classList.add("shaka-spinner"),
              r.aa.appendChild(a),
              (r = document.createElementNS(
                "http://www.w3.org/2000/svg",
                "svg"
              )).classList.add("shaka-spinner-svg"),
              r.setAttribute("viewBox", "0 0 30 30"),
              a.appendChild(r),
              (a = document.createElementNS(
                "http://www.w3.org/2000/svg",
                "circle"
              )).classList.add("shaka-spinner-path"),
              a.setAttribute("cx", "15"),
              a.setAttribute("cy", "15"),
              a.setAttribute("r", "14.5"),
              a.setAttribute("fill", "none"),
              a.setAttribute("stroke-width", "1"),
              a.setAttribute("stroke-miterlimit", "10"),
              r.appendChild(a)),
            (this.fb = E("div")),
            this.fb.classList.add("shaka-server-side-ad-container"),
            this.g.appendChild(this.fb);
          var t,
            n,
            i = this,
            r =
              ((i.M = E("div")),
              i.M.classList.add("shaka-bottom-controls"),
              i.M.classList.add("shaka-no-propagation"),
              i.g.appendChild(i.M),
              i.h.o(i.M, "click", function (e) {
                e.target.closest(".shaka-overflow-button") || i.fc();
              }),
              i),
            a =
              ((r.K = E("div")),
              r.K.classList.add("shaka-ad-controls"),
              null != r.m && r.m.isLinear());
          v(r.K, a),
            r.M.appendChild(r.K),
            (a = new ov(r.K, r)),
            r.H.push(a),
            (a = new av(r.K, r)),
            r.H.push(a),
            (i.U = E("div")),
            i.U.classList.add("shaka-controls-button-panel"),
            i.U.classList.add("shaka-show-controls-on-mouse-over"),
            i.i.enableTooltips && i.U.classList.add("shaka-tooltips-on"),
            i.M.appendChild(i.U);
          for (
            var o = Ee(i.i.controlPanelElements), s = o.next();
            !s.done;
            s = o.next()
          )
            (s = s.value),
              Rv.get(s)
                ? ((s = Rv.get(s).create(i.U, i)), i.H.push(s))
                : k("Unrecognized control panel element requested:", s);
          (this.G = Array.from(
            this.j.getElementsByClassName("shaka-settings-menu")
          )),
            this.G.push.apply(
              this.G,
              I(
                Array.from(this.j.getElementsByClassName("shaka-overflow-menu"))
              )
            );
          var u = this;
          if (u.i.addSeekBar) (u.l = _v.create(u.M, u)), u.H.push(u.l);
          else
            for (var l = (u = Ee(u.G)).next(); !l.done; l = u.next())
              l.value.classList.add("shaka-low-position");
          (this.vb = Array.from(
            this.j.getElementsByClassName("shaka-show-controls-on-mouse-over")
          )),
            Iv(this);
          for (
            var c = (e = Ee(
              this.j.getElementsByClassName("shaka-no-propagation")
            )).next();
            !c.done;
            c = e.next()
          ) {
            function d(e) {
              return e.stopPropagation();
            }
            c = c.value;
            this.h.o(c, "click", d), this.h.o(c, "dblclick", d);
          }
        }),
        (n.Le = function (e) {
          (this.R = e)
            ? (this.j.setAttribute("shaka-controls", "true"),
              (this.B.tabIndex = -1),
              (this.B.controls = !1))
            : this.j.removeAttribute("shaka-controls"),
            Iv(this);
        }),
        (n.Wf = function (e) {
          (this.B.controls = e),
            (this.B.tabIndex = e ? 0 : -1),
            e && this.Le(!1);
        }),
        (n.getAd = function () {
          return this.m;
        }),
        (n.Ag = function () {
          return this.C;
        }),
        (n.Mg = function () {
          return this.ya;
        }),
        (n.ah = function () {
          return this.j;
        }),
        (n.Ab = function () {
          return this.s;
        }),
        (n.Lg = function () {
          return this.B;
        }),
        (n.cc = function () {
          return this.F;
        }),
        (n.Kg = function () {
          return this.ua;
        }),
        (n.Fg = function () {
          return this.g;
        }),
        (n.Ug = function () {
          return this.fb;
        }),
        (n.Cg = function () {
          return this.O;
        }),
        (n.Dg = function () {
          return this.i;
        }),
        (n.gh = function () {
          return this.Y;
        }),
        (n.Pe = function (e) {
          this.Y = e;
        }),
        (n.eh = function () {
          return this.Ya;
        }),
        (n.Ff = function () {
          return this.l ? this.l.getValue() : this.s.currentTime;
        }),
        (n.Xf = function (e) {
          this.J = e;
        }),
        (n.kd = function () {
          return this.G.some(function (e) {
            return !e.classList.contains("shaka-hidden");
          });
        }),
        (n.fc = function () {
          this.I.xa();
        }),
        (n.vd = function () {
          return !(
            !document.fullscreenEnabled && !this.B.webkitSupportsFullscreen
          );
        }),
        (n.oe = function () {
          if (document.fullscreenEnabled) return !!document.fullscreenElement;
          var e = this.B;
          return !!e.webkitSupportsFullscreen && e.webkitDisplayingFullscreen;
        }),
        (n.Ve = function () {
          var t,
            n = this;
          return Ie(function (e) {
            switch (e.g) {
              case 1:
                if (!document.fullscreenEnabled) {
                  (t = n.B).webkitSupportsFullscreen &&
                    (t.webkitDisplayingFullscreen
                      ? t.webkitExitFullscreen()
                      : t.webkitEnterFullscreen()),
                    e.D(0);
                  break;
                }
                if (document.fullscreenElement)
                  return (
                    screen.orientation && screen.orientation.unlock(),
                    Te(e, document.exitFullscreen(), 0)
                  );
                if ((we(e, 5), document.pictureInPictureElement))
                  return Te(e, document.exitPictureInPicture(), 7);
                e.D(7);
                break;
              case 7:
                return Te(
                  e,
                  n.j.requestFullscreen({ navigationUI: "hide" }),
                  9
                );
              case 9:
                if (n.i.forceLandscapeOnFullscreen && screen.orientation)
                  return (
                    we(e, 11), Te(e, screen.orientation.lock("landscape"), 13)
                  );
                e.D(10);
                break;
              case 13:
                Se(e, 10, 5);
                break;
              case 11:
                xe(e, 5);
              case 10:
                Se(e, 0);
                break;
              case 5:
                (t = xe(e)),
                  n.dispatchEvent(new _("error", new Map().set("detail", t))),
                  e.D(0);
            }
          });
        }),
        (n.ag = function () {
          v(this.K, !0),
            v(this.O, !0),
            this.g.setAttribute("ad-active", "true");
        }),
        (n.If = function () {
          v(this.K, !1), v(this.O, !1), this.g.removeAttribute("ad-active");
        }),
        (n.Nb = function () {
          return (
            !!this.R &&
            (null != this.g.getAttribute("shown") ||
              null != this.g.getAttribute("casting"))
          );
        }),
        t("shaka.ui.Controls", r),
        (r.prototype.isOpaque = r.prototype.Nb),
        (r.prototype.hideAdUI = r.prototype.If),
        (r.prototype.showAdUI = r.prototype.ag),
        (r.prototype.toggleFullScreen = r.prototype.Ve),
        (r.prototype.isFullScreenEnabled = r.prototype.oe),
        (r.prototype.isFullScreenSupported = r.prototype.vd),
        (r.prototype.hideSettingsMenus = r.prototype.fc),
        (r.prototype.anySettingsMenusAreOpen = r.prototype.kd),
        (r.prototype.setLastTouchEventTime = r.prototype.Xf),
        (r.prototype.getDisplayTime = r.prototype.Ff),
        (r.prototype.isCastAllowed = r.prototype.eh),
        (r.prototype.setSeeking = r.prototype.Pe),
        (r.prototype.isSeeking = r.prototype.gh),
        (r.prototype.getConfig = r.prototype.Dg),
        (r.prototype.getClientSideAdContainer = r.prototype.Cg),
        (r.prototype.getServerSideAdContainer = r.prototype.Ug),
        (r.prototype.getControlsContainer = r.prototype.Fg),
        (r.prototype.getLocalPlayer = r.prototype.Kg),
        (r.prototype.getPlayer = r.prototype.cc),
        (r.prototype.getLocalVideo = r.prototype.Lg),
        (r.prototype.getVideo = r.prototype.Ab),
        (r.prototype.getVideoContainer = r.prototype.ah),
        (r.prototype.getLocalization = r.prototype.Mg),
        (r.prototype.getCastProxy = r.prototype.Ag),
        (r.prototype.setEnabledNativeControls = r.prototype.Wf),
        (r.prototype.setEnabledShakaControls = r.prototype.Le),
        (r.prototype.loadComplete = r.prototype.hh),
        (r.prototype.allowCast = r.prototype.ng),
        (r.registerSeekBar = function (e) {
          _v = e;
        }),
        (r.registerElement = Av);
      var Rv = new Map(),
        _v = new Ev();
      function Pv(e, t) {
        m.call(this, e, t);
        for (
          var n = this,
            i =
              ((this.l = this.controls.i),
              (this.j = this.controls.g),
              (this.i = []),
              (this.g = iu()),
              this.g.classList.add("shaka-overflow-menu-button"),
              this.g.classList.add("shaka-no-propagation"),
              this.g.classList.add("material-icons-round"),
              this.g.classList.add("shaka-tooltip"),
              (this.g.textContent = "more_vert"),
              this.parent.appendChild(this.g),
              (this.h = E("div")),
              this.h.classList.add("shaka-overflow-menu"),
              this.h.classList.add("shaka-no-propagation"),
              this.h.classList.add("shaka-show-controls-on-mouse-over"),
              this.h.classList.add("shaka-hidden"),
              this.j.appendChild(this.h),
              this),
            r = Ee(i.l.overflowMenuButtons),
            a = r.next();
          !a.done;
          a = r.next()
        )
          (a = a.value),
            jv.get(a)
              ? ((a = jv.get(a)), i.i.push(a.create(i.h, i.controls)))
              : k("Unrecognized overflow menu element requested:", a);
        this.eventManager.o(this.localization, "locale-updated", function () {
          Ov(n);
        }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Ov(n);
          }),
          this.eventManager.o(this.adManager, "ad-started", function () {
            n.ad && n.ad.isLinear() && v(n.g, !1);
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            v(n.g, !0);
          }),
          this.eventManager.o(this.controls, "submenuopen", function () {
            v(n.h, !1);
          }),
          this.eventManager.o(this.h, "touchstart", function (e) {
            n.controls.Xf(Date.now()), e.stopPropagation();
          }),
          this.eventManager.o(this.g, "click", function () {
            var e,
              t = n;
            t.controls.kd()
              ? t.controls.fc()
              : (v(t.h, !0),
                Iv(t.controls),
                (e = function (e) {
                  return 0 == e.classList.contains("shaka-hidden");
                }),
                ce(t.h.childNodes, e) && de(t.h.childNodes, e)[0].focus());
          }),
          Ov(this),
          this.ad && this.ad.isLinear() && v(this.g, !1);
      }
      function Dv(e, t) {
        jv.set(e, t);
      }
      function Ov(e) {
        e.g.ariaLabel = e.localization.resolve("MORE_SETTINGS");
      }
      function Uv() {}
      e(Pv, m),
        (Pv.prototype.release = function () {
          this.j = null;
          for (var e = Ee(this.i), t = e.next(); !t.done; t = e.next())
            t.value.release();
          (this.i = []), m.prototype.release.call(this);
        }),
        t("shaka.ui.OverflowMenu", Pv),
        (Pv.registerElement = Dv),
        (Uv.prototype.create = function (e, t) {
          return new Pv(e, t);
        }),
        Av("overflow_menu", new Uv());
      var jv = new Map();
      function Bv(e, t) {
        m.call(this, e, t);
        var n = this,
          e =
            ((this.g = iu()),
            this.g.classList.add("shaka-airplay-button"),
            this.g.classList.add("shaka-tooltip"),
            (this.g.ariaPressed = "false"),
            (this.h = E("i")),
            this.h.classList.add("material-icons-round"),
            (this.h.textContent = "airplay"),
            this.g.appendChild(this.h),
            N.WebKitPlaybackTargetAvailabilityEvent ||
              this.g.classList.add("shaka-hidden"),
            E("label"));
        e.classList.add("shaka-overflow-button-label"),
          e.classList.add("shaka-overflow-menu-only"),
          (this.j = E("span")),
          e.appendChild(this.j),
          (this.i = E("span")),
          this.i.classList.add("shaka-current-selection-span"),
          e.appendChild(this.i),
          this.g.appendChild(e),
          this.parent.appendChild(this.g),
          Gv(this),
          Fv(this),
          this.eventManager.o(this.localization, "locale-updated", function () {
            Gv(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Gv(n);
          }),
          this.eventManager.o(this.g, "click", function () {
            n.controls.Ab().webkitShowPlaybackTargetPicker();
          }),
          (e = this.controls.Ab()),
          this.eventManager.o(
            e,
            "webkitplaybacktargetavailabilitychanged",
            function (e) {
              var t = n.player.Gf() == Dl;
              v(n.g, "available" == e.availability && t);
            }
          ),
          this.eventManager.o(
            e,
            "webkitcurrentplaybacktargetiswirelesschanged",
            function () {
              Fv(n);
            }
          );
      }
      function Fv(e) {
        var t = e.controls.Ab();
        e.g.ariaPressed =
          t && t.webkitCurrentPlaybackTargetIsWireless ? "true" : "false";
      }
      function Gv(e) {
        (e.g.ariaLabel = e.localization.resolve("AIRPLAY")),
          (e.j.textContent = e.localization.resolve("AIRPLAY"));
      }
      function Kv() {}
      function zv(e, t, n) {
        (this.i = e),
          (this.h = Vv(this)),
          (t.dataset.shakaPlayerContainer = ""),
          (t.ui = this).pe() && t.classList.add("shaka-mobile"),
          (this.g = new r(e, t, n, this.h)),
          this.configure({}),
          n.controls || e.Se(t),
          (t.ui = this),
          (n.ui = this);
      }
      function Vv(e) {
        var t = {
          controlPanelElements:
            "play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(
              " "
            ),
          overflowMenuButtons:
            "captions quality language picture_in_picture cast playback_rate".split(
              " "
            ),
          statisticsList:
            "width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(
              " "
            ),
          contextMenuElements: ["loop", "picture_in_picture", "statistics"],
          playbackRates: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2],
          fastForwardRates: [2, 4, 8, 1],
          rewindRates: [-1, -2, -4, -8],
          addSeekBar: !0,
          addBigPlayButton: !1,
          customContextMenu: !1,
          castReceiverAppId: "",
          castAndroidReceiverCompatible: !1,
          clearBufferOnQualityChange: !0,
          showUnbufferedStart: !1,
          seekBarColors: {
            base: "rgba(255, 255, 255, 0.3)",
            buffered: "rgba(255, 255, 255, 0.54)",
            played: "rgb(255, 255, 255)",
            adBreaks: "rgb(255, 204, 0)",
          },
          volumeBarColors: {
            base: "rgba(255, 255, 255, 0.54)",
            level: "rgb(255, 255, 255)",
          },
          trackLabelFormat: qv,
          fadeDelay: 0,
          doubleClickForFullscreen: !0,
          singleClickForPlayAndPause: !0,
          enableKeyboardPlaybackControls: !0,
          enableFullscreenOnRotation: !0,
          forceLandscapeOnFullscreen: !0,
          enableTooltips: !1,
          keyboardSeekDistance: 5,
        };
        return (
          N.WebKitPlaybackTargetAvailabilityEvent &&
            t.overflowMenuButtons.push("airplay"),
          e.pe() &&
            ((t.addBigPlayButton = !0),
            (t.controlPanelElements = t.controlPanelElements.filter(function (
              e
            ) {
              return "play_pause" != e && "volume" != e;
            }))),
          t
        );
      }
      function Hv() {
        var t, n, i, r, a, o, s, u, l, c, d, h, f, p, g, m, v, y, b;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              if ((fp(), !ju()))
                return Xv("shaka-ui-load-failed", Yv), e.return();
              if (
                ((d = document.querySelectorAll(
                  "[data-shaka-player-container]"
                )),
                (t = document.querySelectorAll("[data-shaka-player]")),
                (n = document.querySelectorAll("[data-shaka-player-canvas]")),
                !t.length && !d.length)
              ) {
                e.D(2);
                break;
              }
              if (t.length && !d.length) {
                for (i = Ee(t), r = i.next(); !r.done; r = i.next())
                  if (!(a = r.value).ui) {
                    for (
                      o = document.createElement("div"),
                        a.parentElement.replaceChild(o, a),
                        o.appendChild(a),
                        s = null,
                        u = Ee(n),
                        l = u.next();
                      !l.done;
                      l = u.next()
                    )
                      if ((c = l.value).parentElement == o) {
                        s = c;
                        break;
                      }
                    s ||
                      ((s = document.createElement("canvas")).classList.add(
                        "shaka-canvas-container"
                      ),
                      o.appendChild(s)),
                      Wv(o, a, s);
                  }
                e.D(2);
                break;
              }
              (d = Ee(d)), (h = d.next());
            case 4:
              if (h.done) {
                e.D(2);
                break;
              }
              if ((f = h.value).ui) {
                e.D(5);
                break;
              }
              for (p = null, g = Ee(t), r = g.next(); !r.done; r = g.next())
                if ((m = r.value).parentElement == f) {
                  p = m;
                  break;
                }
              for (
                p ||
                  ((p = document.createElement("video")).setAttribute(
                    "playsinline",
                    ""
                  ),
                  f.appendChild(p)),
                  v = null,
                  y = Ee(n),
                  l = y.next();
                !l.done;
                l = y.next()
              )
                if ((b = l.value).parentElement == f) {
                  v = b;
                  break;
                }
              return (
                v ||
                  ((v = document.createElement("canvas")).classList.add(
                    "shaka-canvas-container"
                  ),
                  f.appendChild(v)),
                we(e, 7),
                Te(e, Wv(f, p, v), 9)
              );
            case 9:
              Se(e, 5);
              break;
            case 7:
              return xe(e), Xv("shaka-ui-load-failed", $v), e.return();
            case 5:
              (h = d.next()), e.D(4);
              break;
            case 2:
              Xv("shaka-ui-loaded"), Ae(e);
          }
        });
      }
      function Xv(e, t) {
        (t = null != t ? { reasonCode: t } : null),
          (t = new CustomEvent(e, { detail: t }));
        document.dispatchEvent(t);
      }
      function Wv(t, n, i) {
        var r, a, o, s;
        return Ie(function (e) {
          switch (e.g) {
            case 1:
              (a = new u(n)),
                (r = new zv(a, t, n)),
                a.nf(i),
                (a = ""),
                (o = !1),
                t.dataset && t.dataset.shakaPlayerCastReceiverId
                  ? ((a = t.dataset.shakaPlayerCastReceiverId),
                    (o =
                      "true" ===
                      t.dataset.shakaPlayerCastAndroidReceiverCompatible))
                  : n.dataset &&
                    n.dataset.shakaPlayerCastReceiverId &&
                    ((a = n.dataset.shakaPlayerCastReceiverId),
                    (o =
                      "true" ===
                      n.dataset.shakaPlayerCastAndroidReceiverCompatible)),
                a.length &&
                  r.configure({
                    castReceiverAppId: a,
                    castAndroidReceiverCompatible: o,
                  }),
                n.controls && r.g.Wf(!0),
                (a = n.getAttribute("src")) &&
                  ((o = document.createElement("source")).setAttribute(
                    "src",
                    a
                  ),
                  n.appendChild(o),
                  n.removeAttribute("src")),
                (a = Ee(n.querySelectorAll("source"))),
                (o = a.next());
            case 2:
              if (o.done) {
                e.D(0);
                break;
              }
              return (
                (s = o.value),
                we(e, 5),
                Te(e, r.g.cc().load(s.getAttribute("src")), 7)
              );
            case 7:
              e.D(0);
              break;
            case 5:
              xe(e);
            case 3:
              (o = a.next()), e.D(2);
          }
        });
      }
      e(Bv, m),
        t("shaka.ui.AirPlayButton", Bv),
        (Kv.prototype.create = function (e, t) {
          return new Bv(e, t);
        }),
        Dv("airplay", new Kv()),
        Av("airplay", new Kv()),
        ((n = zv.prototype).destroy = function () {
          var t = this;
          return Ie(function (e) {
            return 1 == e.g
              ? t.g
                ? Te(e, t.g.destroy(), 2)
                : e.D(2)
              : 4 != e.g
              ? ((t.g = null), t.i ? Te(e, t.i.destroy(), 4) : e.D(4))
              : ((t.i = null), void Ae(e));
          });
        }),
        (n.pe = function () {
          return (
            !!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent) ||
            (Xt() && 1 < navigator.maxTouchPoints)
          );
        }),
        (n.getConfiguration = function () {
          var e = Vv(this);
          return xu(e, this.h, Vv(this), {}, ""), e;
        }),
        (n.configure = function (e, t) {
          2 == arguments.length && "string" == typeof e && (e = Iu(e, t)),
            xu(this.h, e, Vv(this), {}, ""),
            this.h.castReceiverAppId &&
              !this.h.overflowMenuButtons.includes("cast") &&
              this.h.overflowMenuButtons.push("cast"),
            this.g.configure(this.h),
            this.g.dispatchEvent(new _("uiupdated"));
        }),
        (n.Eg = function () {
          return this.g;
        }),
        (n.Jh = function (e) {
          this.g.Le(e);
        }),
        t("shaka.ui.Overlay", zv),
        (zv.prototype.setEnabled = zv.prototype.Jh),
        (zv.prototype.getControls = zv.prototype.Eg),
        (zv.prototype.isMobile = zv.prototype.pe);
      var qv = 0,
        Yv =
          ((zv.TrackLabelFormat = {
            LANGUAGE: qv,
            ROLE: 1,
            LANGUAGE_ROLE: 2,
            LABEL: 3,
          }),
          0),
        $v = 1;
      function Jv(e, t, n, i, r, a, o) {
        function s(e) {
          return "variant" == e.type
            ? e.audioRoles
              ? e.audioRoles.join(", ")
              : void 0
            : e.roles.join(", ");
        }
        var u = e.find(function (e) {
            return 1 == e.active;
          }),
          l = ev(t);
        ru(t), t.appendChild(l);
        for (var l = new Map(), c = Ee(e), d = c.next(); !d.done; d = c.next())
          (d = d.value),
            l.has(d.language) || l.set(d.language, new Set()),
            l.get(d.language).add(s(d));
        for (
          l = new Set(),
            u = u ? u.language + ": " + s(u) : "",
            c = {},
            d = (e = Ee(e)).next();
          !d.done;
          c = { Ua: c.Ua }, d = e.next()
        ) {
          c.Ua = d.value;
          var d = c.Ua.language,
            h = c.Ua.forced,
            f = a.resolve(ot.hg),
            p = s(c.Ua),
            g = d + ": " + p;
          if (!l.has(g)) {
            l.add(g);
            var m = iu(),
              v =
                (m.addEventListener(
                  "click",
                  (function (e) {
                    return function () {
                      n(e.Ua);
                    };
                  })(c)
                ),
                E("span"));
            switch (
              (m.appendChild(v),
              (v.textContent = (function (e, t) {
                if (!e && !t) return "";
                switch (e) {
                  case "mul":
                    return t.resolve("MULTIPLE_LANGUAGES");
                  case "und":
                    return t.resolve("UNDETERMINED_LANGUAGE");
                  case "zxx":
                    return t.resolve("NOT_APPLICABLE");
                }
                var n = Ze(e);
                return e in $m
                  ? $m[e].u
                  : n in $m
                  ? $m[n].u + " (" + e + ")"
                  : t.resolve("UNRECOGNIZED_LANGUAGE") + " (" + e + ")";
              })(d, a)),
              o)
            ) {
              case qv:
                h && (v.textContent += " (" + f + ")");
                break;
              case 1:
                p
                  ? (v.textContent = p)
                  : (k(
                      "Track #" +
                        c.Ua.id +
                        " does not have a role, but the UI is configured to only show role."
                    ),
                    (v.textContent = "?")),
                  h && (v.textContent += " (" + f + ")");
                break;
              case 2:
                p && (v.textContent += ": " + p),
                  h && (v.textContent += " (" + f + ")");
                break;
              case 3:
                c.Ua.label
                  ? (v.textContent = c.Ua.label)
                  : (k(
                      "Track #" +
                        c.Ua.id +
                        " does not have a label, but the UI is configured to only show labels."
                    ),
                    (v.textContent = "?"));
            }
            i &&
              g == u &&
              (m.appendChild(iv()),
              v.classList.add("shaka-chosen-item"),
              (m.ariaSelected = "true"),
              (r.textContent = v.textContent)),
              t.appendChild(m);
          }
        }
      }
      function Qv(e, t, n) {
        m.call(this, e, t);
        var i,
          r,
          a = this,
          e = this,
          t = n;
        (e.button = iu()),
          e.button.classList.add("shaka-overflow-button"),
          (e.icon = E("i")),
          e.icon.classList.add("material-icons-round"),
          (e.icon.textContent = t),
          e.button.appendChild(e.icon),
          (t = E("label")).classList.add("shaka-overflow-button-label"),
          t.classList.add("shaka-overflow-menu-only"),
          (e.nameSpan = E("span")),
          t.appendChild(e.nameSpan),
          (e.currentSelection = E("span")),
          e.currentSelection.classList.add("shaka-current-selection-span"),
          t.appendChild(e.currentSelection),
          e.button.appendChild(t),
          e.parent.appendChild(e.button),
          ((i = this).menu = E("div")),
          i.menu.classList.add("shaka-no-propagation"),
          i.menu.classList.add("shaka-show-controls-on-mouse-over"),
          i.menu.classList.add("shaka-settings-menu"),
          i.menu.classList.add("shaka-hidden"),
          (i.backButton = iu()),
          i.backButton.classList.add("shaka-back-to-overflow-button"),
          i.menu.appendChild(i.backButton),
          i.eventManager.o(i.backButton, "click", function () {
            i.controls.fc();
          }),
          (n = E("i")).classList.add("material-icons-round"),
          (n.textContent = "close"),
          i.backButton.appendChild(n),
          (i.backSpan = E("span")),
          i.backButton.appendChild(i.backSpan),
          i.controls.g.appendChild(i.menu),
          (r = this).parent.classList.contains("shaka-overflow-menu") &&
            ((r.backButton.firstChild.textContent = "arrow_back"),
            r.eventManager.o(r.backButton, "click", function () {
              function e(e) {
                return 0 == e.classList.contains("shaka-hidden");
              }
              v(r.parent, !0),
                ce(r.parent.childNodes, e) &&
                  de(r.parent.childNodes, e)[0].focus(),
                Iv(r.controls);
            })),
          this.eventManager.o(this.button, "click", function () {
            a.menu.classList.contains("shaka-hidden")
              ? (a.controls.dispatchEvent(new _("submenuopen")),
                v(a.menu, !0),
                nv(a.menu))
              : v(a.menu, !1);
          });
      }
      function Zv(e, t) {
        Qv.call(this, e, t, "language");
        var n = this;
        this.button.classList.add("shaka-language-button"),
          this.button.classList.add("shaka-tooltip-status"),
          this.menu.classList.add("shaka-audio-languages"),
          this.eventManager.o(this.localization, "locale-updated", function () {
            ty(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            ty(n);
          }),
          this.eventManager.o(this.player, "trackschanged", function () {
            var e = 0 < n.player.Ja().length;
            v(n.button, e), ey(n);
          }),
          this.eventManager.o(this.player, "variantchanged", function () {
            ey(n);
          }),
          ty(this),
          ey(this);
      }
      function ey(t) {
        Jv(
          t.player.Ja(),
          t.menu,
          function (e) {
            t.player.Md(e.language, e.roles[0]);
          },
          !0,
          t.currentSelection,
          t.localization,
          t.controls.i.trackLabelFormat
        ),
          nv(t.menu),
          t.controls.dispatchEvent(new _("languageselectionupdated")),
          t.button.setAttribute("shaka-status", t.currentSelection.innerText);
      }
      function ty(e) {
        (e.backButton.ariaLabel = e.localization.resolve("BACK")),
          (e.button.ariaLabel = e.localization.resolve("LANGUAGE")),
          (e.nameSpan.textContent = e.localization.resolve("LANGUAGE")),
          (e.backSpan.textContent = e.localization.resolve("LANGUAGE"));
      }
      function ny() {}
      function iy(e, t) {
        m.call(this, e, t);
        var i = this,
          e =
            ((this.h = this.controls.C),
            (this.g = iu()),
            this.g.classList.add("shaka-cast-button"),
            this.g.classList.add("shaka-tooltip"),
            (this.g.ariaPressed = "false"),
            (this.i = E("i")),
            this.i.classList.add("material-icons-round"),
            (this.i.textContent = "cast"),
            this.g.appendChild(this.i),
            E("label"));
        e.classList.add("shaka-overflow-button-label"),
          e.classList.add("shaka-overflow-menu-only"),
          (this.l = E("span")),
          e.appendChild(this.l),
          (this.j = E("span")),
          this.j.classList.add("shaka-current-selection-span"),
          e.appendChild(this.j),
          this.g.appendChild(e),
          this.parent.appendChild(this.g),
          oy(this),
          ry(this),
          this.eventManager.o(this.localization, "locale-updated", function () {
            oy(i);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            oy(i);
          }),
          this.eventManager.o(this.g, "click", function () {
            var t, n;
            (t = i),
              Ie(function (e) {
                return 1 == e.g
                  ? t.h.oa()
                    ? (t.h.cg(), e.D(0))
                    : (we(e, 3), (t.g.disabled = !0), Te(e, t.h.cast(), 5))
                  : 3 != e.g
                  ? ((t.g.disabled = !1), Se(e, 0))
                  : ((n = xe(e)),
                    (t.g.disabled = !1),
                    8004 != n.code &&
                      t.controls.dispatchEvent(
                        new _("error", new Map().set("detail", n))
                      ),
                    void Ae(e));
              });
          }),
          this.eventManager.o(this.controls, "caststatuschanged", function () {
            ry(i);
          });
      }
      function ry(e) {
        var t = e.h.rf() && e.controls.Ya,
          n = e.h.oa();
        v(e.g, t),
          (e.i.textContent = n ? "cast_connected" : "cast"),
          t && (e.g.ariaPressed = n ? "true" : "false"),
          ay(e);
      }
      function ay(e) {
        e.j.textContent = e.h.oa() ? e.h.Jd() : e.localization.resolve("OFF");
      }
      function oy(e) {
        (e.g.ariaLabel = e.localization.resolve("CAST")),
          (e.l.textContent = e.localization.resolve("CAST")),
          ay(e);
      }
      function sy() {}
      function uy(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.g = iu()),
          this.g.classList.add("material-icons-round"),
          this.g.classList.add("shaka-fast-forward-button"),
          this.g.classList.add("shaka-tooltip-status"),
          this.g.setAttribute("shaka-status", "1x"),
          (this.g.textContent = "fast_forward"),
          this.parent.appendChild(this.g),
          ly(this),
          (this.h = this.controls.i.fastForwardRates),
          this.eventManager.o(this.localization, "locale-updated", function () {
            ly(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            ly(n);
          }),
          this.eventManager.o(this.g, "click", function () {
            var e;
            n.video.duration &&
              ((e =
                (e = n.h.indexOf(n.player.yb()) + 1) != n.h.length
                  ? n.h[e]
                  : n.h[0]),
              n.player.Xe(e),
              n.g.setAttribute("shaka-status", e + "x"));
          });
      }
      function ly(e) {
        e.g.ariaLabel = e.localization.resolve("FAST_FORWARD");
      }
      function cy() {}
      function dy(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.h = this.controls.B),
          (this.g = iu()),
          this.g.classList.add("shaka-fullscreen-button"),
          this.g.classList.add("material-icons-round"),
          this.g.classList.add("shaka-tooltip"),
          hy(this),
          (this.g.textContent = "fullscreen"),
          this.parent.appendChild(this.g),
          fy(this),
          this.eventManager.o(this.localization, "locale-updated", function () {
            fy(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            fy(n);
          }),
          this.eventManager.o(this.g, "click", function () {
            return Ie(function (e) {
              return Te(e, n.controls.Ve(), 0);
            });
          }),
          this.eventManager.o(document, "fullscreenchange", function () {
            (n.g.textContent = n.controls.oe()
              ? "fullscreen_exit"
              : "fullscreen"),
              fy(n);
          }),
          this.eventManager.o(this.h, "loadedmetadata", function () {
            hy(n);
          }),
          this.eventManager.o(this.h, "loadeddata", function () {
            hy(n);
          });
      }
      function hy(e) {
        e.controls.vd()
          ? e.g.classList.remove("shaka-hidden")
          : e.g.classList.add("shaka-hidden");
      }
      function fy(e) {
        e.g.ariaLabel = e.localization.resolve(
          e.controls.oe() ? "EXIT_FULL_SCREEN" : "FULL_SCREEN"
        );
      }
      function py() {}
      function gy(e, t) {
        m.call(this, e, t);
        var n = this,
          e =
            ((this.g = iu()),
            this.g.classList.add("shaka-loop-button"),
            this.g.classList.add("shaka-tooltip"),
            (this.i = E("i")),
            this.i.classList.add("material-icons-round"),
            (this.i.textContent = "repeat"),
            this.g.appendChild(this.i),
            E("label"));
        e.classList.add("shaka-overflow-button-label"),
          e.classList.add("shaka-overflow-menu-only"),
          (this.j = E("span")),
          (this.j.textContent = this.localization.resolve("LOOP")),
          e.appendChild(this.j),
          (this.l = E("span")),
          this.l.classList.add("shaka-current-selection-span"),
          e.appendChild(this.l),
          this.g.appendChild(e),
          my(this),
          this.parent.appendChild(this.g),
          this.eventManager.o(this.localization, "locale-updated", function () {
            my(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            my(n);
          }),
          this.eventManager.o(this.g, "click", function () {
            (n.video.loop = !n.video.loop), n.h.xa(), n.h.ha(1);
          }),
          (this.m = this.video.loop),
          (this.h = new M(function () {
            n.m != n.video.loop && (my(n), (n.m = n.video.loop));
          })),
          this.h.ha(1);
      }
      function my(e) {
        (e.j.textContent = e.localization.resolve("LOOP")),
          (e.l.textContent = e.localization.resolve(
            e.video.loop ? "ON" : "OFF"
          )),
          (e.i.textContent = e.video.loop ? "repeat_on" : "repeat"),
          (e.g.ariaLabel = e.localization.resolve(
            e.video.loop ? "EXIT_LOOP_MODE" : "ENTER_LOOP_MODE"
          ));
      }
      function vy() {}
      function yy(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.g = iu()),
          this.g.classList.add("shaka-mute-button"),
          this.g.classList.add("material-icons-round"),
          this.g.classList.add("shaka-tooltip"),
          this.parent.appendChild(this.g),
          by(this),
          Ey(this),
          this.eventManager.o(this.localization, "locale-updated", function () {
            by(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            by(n);
          }),
          this.eventManager.o(this.g, "click", function () {
            n.ad && n.ad.isLinear()
              ? n.ad.setMuted(!n.ad.isMuted())
              : (n.video.muted = !n.video.muted);
          }),
          this.eventManager.o(this.video, "volumechange", function () {
            by(n), Ey(n);
          }),
          this.eventManager.o(this.adManager, "ad-volume-changed", function () {
            by(n), Ey(n);
          }),
          this.eventManager.o(this.adManager, "ad-muted", function () {
            by(n), Ey(n);
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            (n.ad = null), by(n), Ey(n);
          });
      }
      function by(e) {
        var t = e.ad
          ? e.ad.isMuted()
            ? "UNMUTE"
            : "MUTE"
          : e.video.muted
          ? "UNMUTE"
          : "MUTE";
        e.g.ariaLabel = e.localization.resolve(t);
      }
      function Ey(e) {
        var t = e.ad
          ? e.ad.isMuted()
            ? "volume_off"
            : "volume_up"
          : e.video.muted
          ? "volume_off"
          : "volume_up";
        e.g.textContent = t;
      }
      function Ty() {}
      function Ay(e, t) {
        m.call(this, e, t);
        var i = this,
          e =
            ((this.l = this.controls.B),
            (this.g = iu()),
            this.g.classList.add("shaka-pip-button"),
            this.g.classList.add("shaka-tooltip"),
            (this.i = E("i")),
            this.i.classList.add("material-icons-round"),
            (this.i.textContent = "picture_in_picture_alt"),
            this.g.appendChild(this.i),
            E("label"));
        e.classList.add("shaka-overflow-button-label"),
          e.classList.add("shaka-overflow-menu-only"),
          (this.j = E("span")),
          (this.j.textContent =
            this.localization.resolve("PICTURE_IN_PICTURE")),
          e.appendChild(this.j),
          (this.h = E("span")),
          this.h.classList.add("shaka-current-selection-span"),
          e.appendChild(this.h),
          this.g.appendChild(e),
          wy(this),
          this.parent.appendChild(this.g),
          (document.pictureInPictureEnabled &&
            !this.video.disablePictureInPicture) ||
            v(this.g, !1),
          this.eventManager.o(this.localization, "locale-updated", function () {
            wy(i);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            wy(i);
          }),
          this.eventManager.o(this.g, "click", function () {
            var t, n;
            (t = i),
              Ie(function (e) {
                return 1 == e.g
                  ? (we(e, 2),
                    document.pictureInPictureElement
                      ? Te(e, document.exitPictureInPicture(), 5)
                      : (document.fullscreenElement &&
                          document.exitFullscreen(),
                        Te(e, t.video.requestPictureInPicture(), 5)))
                  : 2 != e.g
                  ? Se(e, 0)
                  : ((n = xe(e)),
                    t.controls.dispatchEvent(
                      new _("error", new Map().set("detail", n))
                    ),
                    void Ae(e));
              });
          }),
          this.eventManager.o(this.l, "enterpictureinpicture", function () {
            (i.i.textContent = "branding_watermark"),
              (i.g.ariaLabel = i.localization.resolve(
                "EXIT_PICTURE_IN_PICTURE"
              )),
              (i.h.textContent = i.localization.resolve("ON"));
          }),
          this.eventManager.o(this.l, "leavepictureinpicture", function () {
            (i.i.textContent = "picture_in_picture_alt"),
              (i.g.ariaLabel = i.localization.resolve(
                "ENTER_PICTURE_IN_PICTURE"
              )),
              (i.h.textContent = i.localization.resolve("OFF"));
          }),
          this.eventManager.o(this.controls, "caststatuschanged", function (e) {
            e.newStatus
              ? document.pictureInPictureEnabled &&
                !i.video.disablePictureInPicture &&
                v(i.g, !1)
              : document.pictureInPictureEnabled &&
                !i.video.disablePictureInPicture &&
                v(i.g, !0);
          }),
          this.eventManager.o(this.player, "trackschanged", function () {
            var t;
            (t = i),
              Ie(function (e) {
                return !document.pictureInPictureEnabled ||
                  t.video.disablePictureInPicture
                  ? (v(t.g, !1), e.D(0))
                  : t.player && t.player.hc()
                  ? (v(t.g, !1),
                    document.pictureInPictureElement
                      ? Te(e, document.exitPictureInPicture(), 0)
                      : e.D(0))
                  : (v(t.g, !0), e.D(0));
              });
          });
      }
      function wy(e) {
        (e.j.textContent = e.localization.resolve("PICTURE_IN_PICTURE")),
          (e.g.ariaLabel = e.localization.resolve(
            document.pictureInPictureElement
              ? "EXIT_PICTURE_IN_PICTURE"
              : "ENTER_PICTURE_IN_PICTURE"
          )),
          (e.h.textContent = e.localization.resolve(
            document.pictureInPictureElement ? "ON" : "OFF"
          ));
      }
      function Sy() {}
      function xy(e, t) {
        Qv.call(this, e, t, "slow_motion_video");
        for (
          var n = this,
            i =
              (this.button.classList.add("shaka-playbackrate-button"),
              this.menu.classList.add("shaka-playback-rates"),
              this.button.classList.add("shaka-tooltip-status"),
              this.eventManager.o(
                this.localization,
                "locale-updated",
                function () {
                  Iy(n);
                }
              ),
              this.eventManager.o(
                this.localization,
                "locale-changed",
                function () {
                  Iy(n);
                }
              ),
              this.eventManager.o(this.player, "ratechange", function () {
                ky(n, n.player.yb());
              }),
              (this.g = new Map(
                this.controls.i.playbackRates.map(function (e) {
                  return [e + "x", e];
                })
              )),
              Iy(this),
              this),
            r = {},
            a = Ee(i.g.keys()),
            o = a.next();
          !o.done;
          r = { wc: r.wc }, o = a.next()
        ) {
          (r.wc = o.value), (o = iu());
          var s = E("span");
          (s.textContent = r.wc),
            o.appendChild(s),
            i.eventManager.o(
              o,
              "click",
              (function (e) {
                return function () {
                  (i.video.playbackRate = i.g.get(e.wc)),
                    (i.video.defaultPlaybackRate = i.g.get(e.wc));
                };
              })(r)
            ),
            i.menu.appendChild(o);
        }
        nv(i.menu), ky(this, this.player.yb());
      }
      function Iy(e) {
        (e.backButton.ariaLabel = e.localization.resolve("BACK")),
          (e.button.ariaLabel = e.localization.resolve("PLAYBACK_RATE")),
          (e.nameSpan.textContent = e.localization.resolve("PLAYBACK_RATE")),
          (e.backSpan.textContent = e.localization.resolve("PLAYBACK_RATE"));
      }
      function ky(t, n) {
        var e,
          i = tv(t.menu, "material-icons-round shaka-chosen-item");
        i &&
          ((e = i.parentElement).removeAttribute("aria-selected"),
          e
            .getElementsByTagName("span")[0]
            .classList.remove("shaka-chosen-item"),
          e.removeChild(i)),
          (i = Array.from(t.menu.querySelectorAll("span")).find(function (e) {
            return t.g.get(e.textContent) == n;
          })) &&
            ((e = i.parentElement).appendChild(iv()),
            (e.ariaSelected = "true"),
            i.classList.add("shaka-chosen-item")),
          (t.currentSelection.textContent = n + "x"),
          t.button.setAttribute("shaka-status", n + "x");
      }
      function Cy() {}
      function My(e, t) {
        m.call(this, e, t);
        var a = this;
        (this.g = iu()),
          this.g.classList.add("shaka-current-time"),
          Ly(this, "0:00"),
          this.parent.appendChild(this.g),
          this.eventManager.o(this.g, "click", function () {
            a.player.T() && (a.video.currentTime = a.player.Ia().end);
          }),
          this.eventManager.o(
            this.controls,
            "timeandseekrangeupdated",
            function () {
              var e = a.controls.Y,
                t = a.controls.Ff(),
                n = a.video.duration,
                i = a.player.Ia(),
                r = i.end - i.start;
              a.player.T()
                ? ((n = 3600 <= r),
                  1 <= (t = Math.max(0, Math.floor(i.end - t))) || e
                    ? (Ly(a, "- " + rv(t, n)), (a.g.disabled = !1))
                    : (Ly(a, a.localization.resolve("LIVE")),
                      (a.g.disabled = !0)))
                : ((t = rv(t, (e = 3600 <= n))),
                  n && (t += " / " + rv(n, e)),
                  Ly(a, t),
                  (a.g.disabled = !0));
            }
          ),
          this.eventManager.o(this.player, "trackschanged", function () {
            a.player.T() &&
              (a.g.ariaLabel = a.localization.resolve("SKIP_TO_LIVE"));
          });
      }
      function Ly(e, t) {
        t != e.g.textContent && (e.g.textContent = t);
      }
      function Ny() {}
      function Ry(e, t) {
        Qv.call(this, e, t, "settings");
        var n = this;
        this.button.classList.add("shaka-resolution-button"),
          this.button.classList.add("shaka-tooltip-status"),
          this.menu.classList.add("shaka-resolutions"),
          this.eventManager.o(this.localization, "locale-updated", function () {
            Py(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Py(n);
          }),
          this.eventManager.o(this.player, "variantchanged", function () {
            _y(n);
          }),
          this.eventManager.o(this.player, "trackschanged", function () {
            _y(n);
          }),
          this.eventManager.o(this.player, "abrstatuschanged", function () {
            _y(n);
          }),
          _y(this);
      }
      function _y(n) {
        var i = n.player.Ja(),
          t = i.find(function (e) {
            return e.active;
          }),
          e =
            ((i = (i = t
              ? i.filter(function (e) {
                  return (
                    e.language == t.language &&
                    e.channelsCount == t.channelsCount
                  );
                })
              : i).filter(function (t, e) {
              return (
                (n.player.hc()
                  ? i.findIndex(function (e) {
                      return e.bandwidth == t.bandwidth;
                    })
                  : i.findIndex(function (e) {
                      return e.height == t.height;
                    })) == e
              );
            })),
            n.player.hc()
              ? i.sort(function (e, t) {
                  return t.bandwidth - e.bandwidth;
                })
              : i.sort(function (e, t) {
                  return t.height - e.height;
                }),
            ev(n.menu));
        ru(n.menu), n.menu.appendChild(e);
        for (
          var e = n.player.getConfiguration().abr.enabled,
            r = {},
            a = Ee(i),
            o = a.next();
          !o.done;
          r = { Yb: r.Yb }, o = a.next()
        ) {
          (r.Yb = o.value),
            (o = iu()).classList.add("explicit-resolution"),
            n.eventManager.o(
              o,
              "click",
              (function (t) {
                return function () {
                  var e = t.Yb;
                  n.player.configure({ abr: { enabled: !1 } }),
                    n.player.Je(e, n.controls.i.clearBufferOnQualityChange);
                };
              })(r)
            );
          var s = E("span");
          (s.textContent = n.player.hc()
            ? Math.round(r.Yb.bandwidth / 1e3) + " kbits/s"
            : r.Yb.height + "p"),
            o.appendChild(s),
            e ||
              r.Yb != t ||
              ((o.ariaSelected = "true"),
              o.appendChild(iv()),
              s.classList.add("shaka-chosen-item"),
              (n.currentSelection.textContent = s.textContent)),
            n.menu.appendChild(o);
        }
        (r = iu()).classList.add("shaka-enable-abr-button"),
          n.eventManager.o(r, "click", function () {
            n.player.configure({ abr: { enabled: !0 } }), _y(n);
          }),
          (n.g = E("span")),
          n.g.classList.add("shaka-auto-span"),
          (n.g.textContent = n.localization.resolve("AUTO_QUALITY")),
          r.appendChild(n.g),
          e &&
            ((r.ariaSelected = "true"),
            r.appendChild(iv()),
            n.g.classList.add("shaka-chosen-item"),
            (n.currentSelection.textContent =
              n.localization.resolve("AUTO_QUALITY"))),
          n.button.setAttribute("shaka-status", n.currentSelection.textContent),
          n.menu.appendChild(r),
          nv(n.menu),
          n.controls.dispatchEvent(new _("resolutionselectionupdated")),
          Py(n);
      }
      function Py(e) {
        var t = e.player.hc() ? "QUALITY" : "RESOLUTION";
        (e.button.ariaLabel = e.localization.resolve(t)),
          (e.backButton.ariaLabel = e.localization.resolve(t)),
          (e.backSpan.textContent = e.localization.resolve(t)),
          (e.nameSpan.textContent = e.localization.resolve(t)),
          (e.g.textContent = e.localization.resolve("AUTO_QUALITY")),
          e.player.getConfiguration().abr.enabled &&
            (e.currentSelection.textContent =
              e.localization.resolve("AUTO_QUALITY"));
      }
      function Dy() {}
      function Oy(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.g = iu()),
          this.g.classList.add("material-icons-round"),
          this.g.classList.add("shaka-rewind-button"),
          this.g.classList.add("shaka-tooltip-status"),
          this.g.setAttribute("shaka-status", this.localization.resolve("OFF")),
          (this.g.textContent = "fast_rewind"),
          this.parent.appendChild(this.g),
          Uy(this),
          (this.h = this.controls.i.rewindRates),
          this.eventManager.o(this.localization, "locale-updated", function () {
            Uy(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Uy(n);
          }),
          this.eventManager.o(this.g, "click", function () {
            var e;
            n.video.duration &&
              ((e =
                (e = n.h.indexOf(n.player.yb()) + 1) != n.h.length
                  ? n.h[e]
                  : n.h[0]),
              n.player.Xe(e),
              n.g.setAttribute("shaka-status", e + "x"));
          });
      }
      function Uy(e) {
        e.g.ariaLabel = e.localization.resolve("REWIND");
      }
      function jy() {}
      function By(e, t) {
        m.call(this, e, t);
        var n = this;
        (this.j = E("div")),
          this.j.classList.add("shaka-skip-ad-container"),
          this.parent.appendChild(this.j),
          (this.h = E("div")),
          this.h.classList.add("shaka-skip-ad-counter"),
          v(this.h, !1),
          this.j.appendChild(this.h),
          (this.g = iu()),
          this.g.classList.add("shaka-skip-ad-button"),
          (this.g.disabled = !0),
          v(this.g, !1),
          this.g.classList.add("shaka-no-propagation"),
          this.j.appendChild(this.g),
          Fy(this),
          (this.i = new M(function () {
            var e = Math.round(n.ad.getTimeUntilSkippable());
            0 < e ? (n.h.textContent = e) : (n.i.stop(), v(n.h, !1));
          })),
          this.eventManager.o(this.localization, "locale-updated", function () {
            Fy(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Fy(n);
          }),
          this.eventManager.o(this.adManager, "ad-started", function () {
            Gy(n);
          }),
          this.eventManager.o(
            this.adManager,
            "ad-skip-state-changed",
            function () {
              n.ad.canSkipNow() &&
                ((n.g.disabled = !1), n.i.stop(), v(n.h, !1));
            }
          ),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            n.i.stop(), (n.g.disabled = !0), v(n.g, !1), v(n.h, !1);
          }),
          this.eventManager.o(this.g, "click", function () {
            n.ad.skip();
          }),
          this.ad && Gy(this);
      }
      function Fy(e) {
        e.g.textContent = e.localization.resolve("SKIP_AD");
      }
      function Gy(e) {
        e.ad.isSkippable() &&
          (v(e.g, !0),
          v(e.h, !0),
          (e.h.textContent = ""),
          e.i.xa(),
          e.i.ha(0.5));
      }
      function Ky(e, t) {
        uv.call(this, e, t),
          this.button.classList.add("shaka-small-play-button"),
          this.button.classList.add("material-icons-round"),
          this.button.classList.add("shaka-tooltip"),
          this.h(),
          this.g();
      }
      function zy() {}
      function Vy(e, t) {
        m.call(this, e, t);
        e = E("div");
        e.classList.add("shaka-spacer"),
          (e.ariaHidden = "true"),
          this.parent.appendChild(e);
      }
      function Hy() {}
      function Xy(e, t) {
        function n(e) {
          return rv(h.h[e], !1) + " (m)";
        }
        function i(e) {
          return Math.round(h.h[e] / 1e3) + " (kbits/s)";
        }
        function r(e) {
          return h.h[e].toFixed(2) + " (s)";
        }
        function a(e) {
          return h.h[e] + " (frames)";
        }
        function o(e) {
          return h.h[e] + " (px)";
        }
        m.call(this, e, t);
        for (
          var s,
            u,
            l,
            c,
            d,
            h = this,
            e =
              ((this.i = iu()),
              this.i.classList.add("shaka-statistics-button"),
              (this.j = E("i")),
              this.j.classList.add("material-icons-round"),
              (this.j.textContent = "insert_chart_outlined"),
              this.i.appendChild(this.j),
              E("label")),
            f =
              (e.classList.add("shaka-overflow-button-label"),
              (this.s = E("span")),
              e.appendChild(this.s),
              (this.m = E("span")),
              this.m.classList.add("shaka-current-selection-span"),
              e.appendChild(this.m),
              this.i.appendChild(e),
              this.parent.appendChild(this.i),
              (this.g = E("div")),
              this.g.classList.add("shaka-no-propagation"),
              this.g.classList.add("shaka-show-controls-on-mouse-over"),
              this.g.classList.add("shaka-statistics-container"),
              this.g.classList.add("shaka-hidden"),
              this.controls.g.appendChild(this.g),
              (this.F = []),
              (this.G = ["stateHistory", "switchHistory"]),
              (this.h = this.player.getStats()),
              (this.B = {}),
              (this.C = {
                width: o,
                height: o,
                completionPercent: function (e) {
                  return h.h[e] + " (%)";
                },
                bufferingTime: r,
                drmTimeSeconds: r,
                licenseTime: r,
                liveLatency: r,
                loadLatency: r,
                manifestTimeSeconds: r,
                estimatedBandwidth: i,
                streamBandwidth: i,
                maxSegmentDuration: n,
                pauseTime: n,
                playTime: n,
                corruptedFrames: a,
                decodedFrames: a,
                droppedFrames: a,
                stallsDetected: function (e) {
                  return h.h[e] + " (stalls)";
                },
                gapsJumped: function (e) {
                  return h.h[e] + " (gaps)";
                },
              }),
              (this.l = new M(function () {
                h.h = h.player.getStats();
                for (var e = Ee(h.F), t = e.next(); !t.done; t = e.next())
                  (t = t.value), (h.B[t].textContent = h.C[t](t));
              })),
              Wy(this),
              this),
            p = Ee(f.controls.i.statisticsList),
            g = p.next();
          !g.done;
          g = p.next()
        )
          (g = g.value) in f.h && !f.G.includes(g)
            ? ((s = f.g),
              (u = s.appendChild),
              (l = f),
              (c = E("div")),
              ((d = E("label")).textContent = g + ":"),
              c.appendChild(d),
              ((d = E("span")).textContent = l.C[g](g)),
              c.appendChild(d),
              (l.B[g] = d),
              u.call(s, c),
              f.F.push(g))
            : k("Unrecognized statistic element:", g);
        this.eventManager.o(this.localization, "locale-updated", function () {
          Wy(h);
        }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Wy(h);
          }),
          this.eventManager.o(this.i, "click", function () {
            v(h.parent, !1),
              h.g.classList.contains("shaka-hidden")
                ? ((h.j.textContent = "insert_chart"), h.l.ha(0.1), v(h.g, !0))
                : ((h.j.textContent = "insert_chart_outlined"),
                  h.l.stop(),
                  v(h.g, !1)),
              Wy(h);
          });
      }
      function Wy(e) {
        (e.s.textContent = e.localization.resolve("STATISTICS")),
          (e.i.ariaLabel = e.localization.resolve("STATISTICS")),
          (e.m.textContent = e.localization.resolve(
            e.g.classList.contains("shaka-hidden") ? "OFF" : "ON"
          ));
      }
      function qy() {}
      function Yy(e, t) {
        Qv.call(this, e, t, "closed_caption");
        var n = this;
        this.button.classList.add("shaka-caption-button"),
          this.button.classList.add("shaka-tooltip-status"),
          this.menu.classList.add("shaka-text-languages"),
          this.player && this.player.Ob()
            ? (this.button.ariaPressed = "true")
            : (this.button.ariaPressed = "false"),
          (e = this),
          ((t = iu()).ariaSelected = "true"),
          e.menu.appendChild(t),
          t.appendChild(iv()),
          (e.g = E("span")),
          e.g.classList.add("shaka-auto-span"),
          t.appendChild(e.g),
          this.eventManager.o(this.localization, "locale-updated", function () {
            Qy(n), Jy(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            Qy(n), Jy(n);
          }),
          this.eventManager.o(this.player, "texttrackvisibility", function () {
            $y(n), Jy(n);
          }),
          this.eventManager.o(this.player, "textchanged", function () {
            Jy(n);
          }),
          this.eventManager.o(this.player, "trackschanged", function () {
            Zy(n);
          }),
          $y(this),
          Qy(this),
          Jy(this),
          Zy(this);
      }
      function $y(e) {
        e.player.Ob()
          ? ((e.icon.textContent = "closed_caption"),
            (e.button.ariaPressed = "true"))
          : ((e.icon.textContent = "closed_caption_disabled"),
            (e.button.ariaPressed = "false")),
          e.controls.dispatchEvent(new _("captionselectionupdated"));
      }
      function Jy(i) {
        var e = i.player.zb();
        Jv(
          e,
          i.menu,
          function (e) {
            var t, n;
            (t = i),
              (n = e),
              Ie(function (e) {
                return t.player.Ie(n), Te(e, t.player.Re(!0), 0);
              });
          },
          i.player.Ob(),
          i.currentSelection,
          i.localization,
          i.controls.i.trackLabelFormat
        ),
          (e = iu()).classList.add("shaka-turn-captions-off-button"),
          i.eventManager.o(e, "click", function () {
            i.player.Re(!1), Jy(i);
          }),
          e.appendChild(i.g),
          i.menu.appendChild(e),
          i.player.Ob() ||
            ((e.ariaSelected = "true"),
            e.appendChild(iv()),
            i.g.classList.add("shaka-chosen-item"),
            (i.currentSelection.textContent = i.localization.resolve("OFF"))),
          i.button.setAttribute("shaka-status", i.currentSelection.textContent),
          nv(i.menu),
          i.controls.dispatchEvent(new _("captionselectionupdated"));
      }
      function Qy(e) {
        (e.button.ariaLabel = e.localization.resolve("CAPTIONS")),
          (e.backButton.ariaLabel = e.localization.resolve("BACK")),
          (e.nameSpan.textContent = e.localization.resolve("CAPTIONS")),
          (e.backSpan.textContent = e.localization.resolve("CAPTIONS")),
          (e.g.textContent = e.localization.resolve("OFF"));
      }
      function Zy(e) {
        var t = 0 < e.player.zb().length;
        v(e.button, t), Jy(e);
      }
      function e0() {}
      function t0(e, t) {
        fv.call(
          this,
          e,
          t,
          ["shaka-volume-bar-container"],
          ["shaka-volume-bar"]
        );
        var n = this;
        (this.h = this.controls.i),
          this.eventManager.o(this.video, "volumechange", function () {
            return n0(n);
          }),
          this.eventManager.o(this.adManager, "ad-volume-changed", function () {
            return i0(n);
          }),
          this.eventManager.o(this.adManager, "ad-muted", function () {
            return i0(n);
          }),
          this.eventManager.o(this.adManager, "ad-stopped", function () {
            return n0(n);
          }),
          this.eventManager.o(this.localization, "locale-updated", function () {
            return a0(n);
          }),
          this.eventManager.o(this.localization, "locale-changed", function () {
            return a0(n);
          }),
          n0(this),
          a0(this),
          this.ad && this.onChange();
      }
      function n0(e) {
        e.video.muted ? e.setValue(0) : e.setValue(e.video.volume), r0(e);
      }
      function i0(e) {
        var t = e.ad.getVolume();
        e.setValue(t), r0(e);
      }
      function r0(e) {
        var t = e.h.volumeBarColors,
          n = ["to right"];
        n.push(t.level + 100 * e.getValue() + "%"),
          n.push(t.base + 100 * e.getValue() + "%"),
          n.push(t.base + "100%"),
          (e.container.style.background =
            "linear-gradient(" + n.join(",") + ")");
      }
      function a0(e) {
        e.bar.ariaLabel = e.localization.resolve("VOLUME");
      }
      function o0() {}
      (zv.FailReasonCode = {
        NO_BROWSER_SUPPORT: Yv,
        PLAYER_FAILED_TO_LOAD: $v,
      }),
        "complete" == document.readyState
          ? Ie(function (e) {
              if (1 == e.g) return Te(e, Promise.resolve(), 2);
              Hv(), Ae(e);
            })
          : N.addEventListener("load", Hv),
        e(Qv, m),
        t("shaka.ui.SettingsMenu", Qv),
        e(Zv, Qv),
        t("shaka.ui.AudioLanguageSelection", Zv),
        (ny.prototype.create = function (e, t) {
          return new Zv(e, t);
        }),
        Dv("language", new ny()),
        Av("language", new ny()),
        e(iy, m),
        t("shaka.ui.CastButton", iy),
        (sy.prototype.create = function (e, t) {
          return new iy(e, t);
        }),
        Dv("cast", new sy()),
        Av("cast", new sy()),
        e(uy, m),
        t("shaka.ui.FastForwardButton", uy),
        (cy.prototype.create = function (e, t) {
          return new uy(e, t);
        }),
        Av("fast_forward", new cy()),
        e(dy, m),
        t("shaka.ui.FullscreenButton", dy),
        (py.prototype.create = function (e, t) {
          return new dy(e, t);
        }),
        Av("fullscreen", new py()),
        e(gy, m),
        (gy.prototype.release = function () {
          this.h.stop(), (this.h = null), m.prototype.release.call(this);
        }),
        t("shaka.ui.LoopButton", gy),
        (vy.prototype.create = function (e, t) {
          return new gy(e, t);
        }),
        Dv("loop", new vy()),
        Av("loop", new vy()),
        dv("loop", new vy()),
        e(yy, m),
        t("shaka.ui.MuteButton", yy),
        (Ty.prototype.create = function (e, t) {
          return new yy(e, t);
        }),
        Av("mute", new Ty()),
        e(Ay, m),
        t("shaka.ui.PipButton", Ay),
        (Sy.prototype.create = function (e, t) {
          return new Ay(e, t);
        }),
        Dv("picture_in_picture", new Sy()),
        Av("picture_in_picture", new Sy()),
        dv("picture_in_picture", new Sy()),
        e(xy, Qv),
        t("shaka.ui.PlaybackRateSelection", xy),
        (Cy.prototype.create = function (e, t) {
          return new xy(e, t);
        }),
        Dv("playback_rate", new Cy()),
        Av("playback_rate", new Cy()),
        e(My, m),
        t("shaka.ui.PresentationTimeTracker", My),
        (Ny.prototype.create = function (e, t) {
          return new My(e, t);
        }),
        Av("time_and_duration", new Ny()),
        e(Ry, Qv),
        t("shaka.ui.ResolutionSelection", Ry),
        (Dy.prototype.create = function (e, t) {
          return new Ry(e, t);
        }),
        Dv("quality", new Dy()),
        Av("quality", new Dy()),
        e(Oy, m),
        t("shaka.ui.RewindButton", Oy),
        (jy.prototype.create = function (e, t) {
          return new Oy(e, t);
        }),
        Av("rewind", new jy()),
        e(By, m),
        (By.prototype.release = function () {
          this.i.stop(), (this.i = null), m.prototype.release.call(this);
        }),
        t("shaka.ui.SkipAdButton", By),
        e(Ky, uv),
        (Ky.prototype.h = function () {
          this.button.textContent = this.video.ended
            ? "replay"
            : this.isPaused()
            ? "play_arrow"
            : "pause";
        }),
        (Ky.prototype.g = function () {
          var e;
          this.video.ended
            ? (this.button.ariaLabel = this.localization.resolve("REPLAY"))
            : ((e = this.isPaused() ? "PLAY" : "PAUSE"),
              (this.button.ariaLabel = this.localization.resolve(e)));
        }),
        t("shaka.ui.SmallPlayButton", Ky),
        (zy.prototype.create = function (e, t) {
          return new Ky(e, t);
        }),
        Av("play_pause", new zy()),
        e(Vy, m),
        t("shaka.ui.Spacer", Vy),
        (Hy.prototype.create = function (e, t) {
          return new Vy(e, t);
        }),
        Av("spacer", new Hy()),
        e(Xy, m),
        (Xy.prototype.release = function () {
          this.l.stop(), (this.l = null), m.prototype.release.call(this);
        }),
        t("shaka.ui.StatisticsButton", Xy),
        (qy.prototype.create = function (e, t) {
          return new Xy(e, t);
        }),
        Dv("statistics", new qy()),
        dv("statistics", new qy()),
        e(Yy, Qv),
        t("shaka.ui.TextSelection", Yy),
        (e0.prototype.create = function (e, t) {
          return new Yy(e, t);
        }),
        Dv("captions", new e0()),
        Av("captions", new e0()),
        e(t0, fv),
        (t0.prototype.onChange = function () {
          this.ad && this.ad.isLinear()
            ? this.ad.setVolume(this.getValue())
            : ((this.video.volume = this.getValue()),
              (this.video.muted = 0 == this.video.volume));
        }),
        t("shaka.ui.VolumeBar", t0),
        (o0.prototype.create = function (e, t) {
          return new t0(e, t);
        }),
        Av("volume", new o0());
    }.call(t, e, e, void 0),
    "undefined" != typeof exports)
  )
    for (var n in t.shaka) exports[n] = t.shaka[n];
  else
    "function" == typeof define && define.amd
      ? define(function () {
          return t.shaka;
        })
      : (e.shaka = t.shaka);
})();
